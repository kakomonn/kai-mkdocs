
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="祭音Myyura">
      
      
        <link rel="canonical" href="https://kakomonn.github.io/kakomonn/tokyo_university/IST/ci_201808_programming/">
      
      
        <link rel="prev" href="../ci_201808_written_exam_3/">
      
      
        <link rel="next" href="../ci_201708_written_exam_1/">
      
      
      <link rel="icon" href="../../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.50">
    
    
      
        <title>東京大学 情報理工学系研究科 創造情報学専攻 2018年8月実施 プログラミング - The Kai Project</title>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/main.a40c8224.min.css">
      
        
        <link rel="stylesheet" href="../../../../assets/stylesheets/palette.06af60db.min.css">
      
      

  
  
  
  
  <style>:root{--md-annotation-icon:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 13h-4v4h-2v-4H7v-2h4V7h2v4h4m-5-9A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10A10 10 0 0 0 12 2"/></svg>');}</style>


  
  
    
    
      
    
    
  
    
    
      
    
    
  
    
    
      
    
    
  
    
    
      
    
    
  
  
  <style>.md-tag.md-tag--html{--md-tag-icon:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="m0 32 34.9 395.8L191.5 480l157.6-52.2L384 32zm308.2 127.9H124.4l4.1 49.4h175.6l-13.6 148.4-97.9 27v.3h-1.1l-98.7-27.3-6-75.8h47.7L138 320l53.5 14.5 53.7-14.5 6-62.2H84.3L71.5 112.2h241.1z"/></svg>');}.md-tag.md-tag--js{--md-tag-icon:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M0 32v448h448V32zm243.8 349.4c0 43.6-25.6 63.5-62.9 63.5-33.7 0-53.2-17.4-63.2-38.5l34.3-20.7c6.6 11.7 12.6 21.6 27.1 21.6 13.8 0 22.6-5.4 22.6-26.5V237.7h42.1zm99.6 63.5c-39.1 0-64.4-18.6-76.7-43l34.3-19.8c9 14.7 20.8 25.6 41.5 25.6 17.4 0 28.6-8.7 28.6-20.8 0-14.4-11.4-19.5-30.7-28l-10.5-4.5c-30.4-12.9-50.5-29.2-50.5-63.5 0-31.6 24.1-55.6 61.6-55.6 26.8 0 46 9.3 59.8 33.7L368 290c-7.2-12.9-15-18-27.1-18-12.3 0-20.1 7.8-20.1 18 0 12.6 7.8 17.7 25.9 25.6l10.5 4.5c35.8 15.3 55.9 31 55.9 66.2 0 37.8-29.8 58.6-69.7 58.6"/></svg>');}.md-tag.md-tag--css{--md-tag-icon:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="m480 32-64 368-223.3 80L0 400l19.6-94.8h82l-8 40.6L210 390.2l134.1-44.4 18.8-97.1H29.5l16-82h333.7l10.5-52.7H56.3l16.3-82z"/></svg>');}.md-tag.md-tag--Mkdocs{--md-tag-icon:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M1 7.775V2.75C1 1.784 1.784 1 2.75 1h5.025c.464 0 .91.184 1.238.513l6.25 6.25a1.75 1.75 0 0 1 0 2.474l-5.026 5.026a1.75 1.75 0 0 1-2.474 0l-6.25-6.25A1.75 1.75 0 0 1 1 7.775m1.5 0c0 .066.026.13.073.177l6.25 6.25a.25.25 0 0 0 .354 0l5.025-5.025a.25.25 0 0 0 0-.354l-6.25-6.25a.25.25 0 0 0-.177-.073H2.75a.25.25 0 0 0-.25.25ZM6 5a1 1 0 1 1 0 2 1 1 0 0 1 0-2"/></svg>');}</style>

    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noto+Serif+Japanese:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Noto Serif Japanese";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../../overrides/stylesheets/customize.css">
    
    <script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-JJMZK98D6Y"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-JJMZK98D6Y",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-JJMZK98D6Y",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script>
  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#東京大学-情報理工学系研究科-創造情報学専攻-2018年8月実施-プログラミング" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
        <aside class="md-banner">
          <div class="md-banner__inner md-grid md-typeset">
            
              <button class="md-banner__button md-icon" aria-label="不再显示此消息">
                
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
              </button>
            
            
  <center><strong>QQ Group</strong>: <a href="https://qm.qq.com/q/MVPd9wniQU">925154731</a>

          </div>
          
            <script>var el=document.querySelector("[data-md-component=announce]");if(el){var content=el.querySelector(".md-typeset");__md_hash(content.innerHTML)===__md_get("__announce")&&(el.hidden=!0)}</script>
          
        </aside>
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../../../.." title="The Kai Project" class="md-header__button md-logo" aria-label="The Kai Project" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            The Kai Project
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              東京大学 情報理工学系研究科 創造情報学専攻 2018年8月実施 プログラミング
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9zM20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zm-9.15 3.96h2.3L12 9z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="blue-grey" data-md-color-accent="purple"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="purple"  aria-label="Switch to system preference"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to system preference" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
      <div class="md-header__option">
  <div class="md-select">
    
    <button class="md-header__button md-icon" aria-label="选择当前语言">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m12.87 15.07-2.54-2.51.03-.03A17.5 17.5 0 0 0 14.07 6H17V4h-7V2H8v2H1v2h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2zm-2.62 7 1.62-4.33L19.12 17z"/></svg>
    </button>
    <div class="md-select__inner">
      <ul class="md-select__list">
        
          <li class="md-select__item">
            <a href="/en/" hreflang="en" class="md-select__link">
              English
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="/ja/" hreflang="ja" class="md-select__link">
              日本語
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</div>
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="分享" aria-label="分享" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/kakomonn/kai-mkdocs" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    kakomonn/kai-mkdocs
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="标签" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../../.." class="md-tabs__link">
          
  
    
  
  過去問 (点这里!)

        </a>
      </li>
    
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../../../misc/link/" class="md-tabs__link">
        
  
    
  
  友情链接

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../../../tags/" class="md-tabs__link">
        
  
    
  
  tags

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../.." title="The Kai Project" class="md-nav__button md-logo" aria-label="The Kai Project" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    The Kai Project
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/kakomonn/kai-mkdocs" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    kakomonn/kai-mkdocs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
        
        
      
      
    
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../.." class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    過去問 (点这里!)
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_1" id="__nav_1_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            過去問 (点这里!)
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_2" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    東京大学
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_1_2" id="__nav_1_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_1_2">
            <span class="md-nav__icon md-icon"></span>
            東京大学
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    
  
  
    
  
  
    <a href="../../science/phys_2022_sennmon_1/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    理学系研究科
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

  

  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    
  
  
    
  
  
    <a href="../../engineering/kyotsu_2023_math_1/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    工学系研究科
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

  

  

      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_2_4" checked>
        
          
          <label class="md-nav__link" for="__nav_1_2_4" id="__nav_1_2_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    情報理工学研究科
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_1_2_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_1_2_4">
            <span class="md-nav__icon md-icon"></span>
            情報理工学研究科
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    
  
  
    <a href="../kyotsu_202308_math_1/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    共通
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    
  
  
    <a href="../suuri_2024_1/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    数理情報学
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    
  
  
    <a href="../cs_202308_senmon_1/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    コンピュータ科学
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    
  
  
    <a href="../denshi_2024_senmon_2/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    電子情報学
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

  

      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_2_4_5" checked>
        
          
          <label class="md-nav__link" for="__nav_1_2_4_5" id="__nav_1_2_4_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    創造情報学
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_1_2_4_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_1_2_4_5">
            <span class="md-nav__icon md-icon"></span>
            創造情報学
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../ci_202108_programming/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    2022年度
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../ci_201908_written_exam_1/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    2020年度
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_2_4_5_3" checked>
        
          
          <label class="md-nav__link" for="__nav_1_2_4_5_3" id="__nav_1_2_4_5_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    2019年度
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_1_2_4_5_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_1_2_4_5_3">
            <span class="md-nav__icon md-icon"></span>
            2019年度
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ci_201808_written_exam_1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    8月 筆記試験 第1問
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ci_201808_written_exam_2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    8月 筆記試験 第2問
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ci_201808_written_exam_3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    8月 筆記試験 第3問
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    8月 プログラミング
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    8月 プログラミング
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#author" class="md-nav__link">
    <span class="md-ellipsis">
      Author
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#description" class="md-nav__link">
    <span class="md-ellipsis">
      Description
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kai" class="md-nav__link">
    <span class="md-ellipsis">
      Kai
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Kai">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1" class="md-nav__link">
    <span class="md-ellipsis">
      (1)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="(1)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tomfluffs-solution" class="md-nav__link">
    <span class="md-ellipsis">
      tomfluff's solution
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#funtotals-solution" class="md-nav__link">
    <span class="md-ellipsis">
      FunTotal's solution
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2" class="md-nav__link">
    <span class="md-ellipsis">
      (2)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="(2)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tomfluffs-solution_1" class="md-nav__link">
    <span class="md-ellipsis">
      tomfluff's solution
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#funtotals-solution_1" class="md-nav__link">
    <span class="md-ellipsis">
      FunTotal's solution
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3" class="md-nav__link">
    <span class="md-ellipsis">
      (3)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="(3)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tomfluffs-solution_2" class="md-nav__link">
    <span class="md-ellipsis">
      tomfluff's solution
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#funtotals-solution_2" class="md-nav__link">
    <span class="md-ellipsis">
      FunTotal's solution
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#funtotals-solution_3" class="md-nav__link">
    <span class="md-ellipsis">
      FunTotal's solution
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5" class="md-nav__link">
    <span class="md-ellipsis">
      (5)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="(5)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tomfluffs-solution_3" class="md-nav__link">
    <span class="md-ellipsis">
      tomfluff's solution
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#funtotals-solution_4" class="md-nav__link">
    <span class="md-ellipsis">
      FunTotal's solution
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6" class="md-nav__link">
    <span class="md-ellipsis">
      (6)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="(6)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tomfluffs-solution_4" class="md-nav__link">
    <span class="md-ellipsis">
      tomfluff's solution
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#funtotals-solution_5" class="md-nav__link">
    <span class="md-ellipsis">
      FunTotal's solution
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../ci_201708_written_exam_1/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    2018年度
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../ci_201608_written_exam_1/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    2017年度
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    
  
  
    
  
  
    <a href="../../frontier_sciences/materials_2020_3/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    新領域創成科学研究科
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

  

  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    
  
  
    
  
  
    <a href="../../art_and_sciences/system_2020_3/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    総合文化研究科
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

  

  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    
  
  
    
  
  
    <a href="../../III/biostat_bioinfo_2020_1/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    情報学環・学際情報学府
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

  

  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    
  
  
    
  
  
    <a href="../../mathematical_sciences/ms_2022_A_1/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    数理科学研究科
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

  

  

      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../kyoto_university/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    京都大学
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../tohoku_university/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    東北大学
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../osaka_university/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    大阪大学
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../nagoya_university/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    名古屋大学
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../TITech/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    東京工業大学
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../hokkaido_university/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    北海道大学
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../kyushu_university/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    九州大学
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../waseda_university/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    早稲田大学
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../tsukuba_university/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    筑波大学
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../UEC/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    電気通信大学
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../kobe_university/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    神戸大学
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../hiroshima_university/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    広島大学
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../misc/link/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    友情链接
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../tags/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    tags
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#author" class="md-nav__link">
    <span class="md-ellipsis">
      Author
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#description" class="md-nav__link">
    <span class="md-ellipsis">
      Description
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kai" class="md-nav__link">
    <span class="md-ellipsis">
      Kai
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Kai">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1" class="md-nav__link">
    <span class="md-ellipsis">
      (1)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="(1)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tomfluffs-solution" class="md-nav__link">
    <span class="md-ellipsis">
      tomfluff's solution
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#funtotals-solution" class="md-nav__link">
    <span class="md-ellipsis">
      FunTotal's solution
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2" class="md-nav__link">
    <span class="md-ellipsis">
      (2)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="(2)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tomfluffs-solution_1" class="md-nav__link">
    <span class="md-ellipsis">
      tomfluff's solution
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#funtotals-solution_1" class="md-nav__link">
    <span class="md-ellipsis">
      FunTotal's solution
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3" class="md-nav__link">
    <span class="md-ellipsis">
      (3)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="(3)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tomfluffs-solution_2" class="md-nav__link">
    <span class="md-ellipsis">
      tomfluff's solution
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#funtotals-solution_2" class="md-nav__link">
    <span class="md-ellipsis">
      FunTotal's solution
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#funtotals-solution_3" class="md-nav__link">
    <span class="md-ellipsis">
      FunTotal's solution
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5" class="md-nav__link">
    <span class="md-ellipsis">
      (5)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="(5)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tomfluffs-solution_3" class="md-nav__link">
    <span class="md-ellipsis">
      tomfluff's solution
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#funtotals-solution_4" class="md-nav__link">
    <span class="md-ellipsis">
      FunTotal's solution
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6" class="md-nav__link">
    <span class="md-ellipsis">
      (6)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="(6)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tomfluffs-solution_4" class="md-nav__link">
    <span class="md-ellipsis">
      tomfluff's solution
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#funtotals-solution_5" class="md-nav__link">
    <span class="md-ellipsis">
      FunTotal's solution
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  
  
<nav class="md-tags" >
  
    
    
    
      <a href="../../../../tags/#tokyo-university" class="md-tag">Tokyo-University</a>
    
  
</nav>


  
    <a href="https://github.com/kakomonn/kai-mkdocs/edit/main/docs/kakomonn/tokyo_university/IST/ci_201808_programming.md" title="编辑此页" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg>
    </a>
  
  


<h1 id="東京大学-情報理工学系研究科-創造情報学専攻-2018年8月実施-プログラミング">東京大学 情報理工学系研究科 創造情報学専攻 2018年8月実施 プログラミング<a class="headerlink" href="#東京大学-情報理工学系研究科-創造情報学専攻-2018年8月実施-プログラミング" title="Permanent link"></a></h1>
<h2 id="author"><strong>Author</strong><a class="headerlink" href="#author" title="Permanent link"></a></h2>
<p><a href="https://github.com/tomfluff">tomfluff</a>, <a href="https://github.com/FunTotal">FunTotal</a></p>
<h2 id="description"><strong>Description</strong><a class="headerlink" href="#description" title="Permanent link"></a></h2>
<p>A text file contains integers from <span class="arithmatex">\(0\)</span> to <span class="arithmatex">\(255\)</span> which are separated by a single white-space character.
Assume that the number of these integers is a multiple of three.
Group every three numbers into a triplet. Each triplet represents the intensities of red, green, and blue of a pixel. For example,</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1"></a>19 7 0 17 13 1 29 3 27 5 11 23
</code></pre></div></td></tr></table></div>
<p>are grouped into four triplets (or pixels), which are <span class="arithmatex">\((19, 7, 0)\)</span>, <span class="arithmatex">\((17, 13, 1)\)</span>, <span class="arithmatex">\((29, 3, 27)\)</span>, and <span class="arithmatex">\((5, 11, 23)\)</span>.
Every pixel has an index. The index of the pixel is i if it is the i-th triplet (<span class="arithmatex">\(i \geq 0\)</span>) in the file.
In the example above, <span class="arithmatex">\((19, 7, 0)\)</span> is the 0<sup>th</sup> triplet.</p>
<p>We can construct an image by placing these integer triplets, or pixels, from left to right, and when reaching the width of the image, placing them in the next line below, and so forth.
Assume that the image is rectangular. Answer the following questions by writing a program if necessary.</p>
<p>(1) Write on the answer sheet the number of the pixels stored in the file <code>image1.txt</code>.</p>
<p>(2) We construct an image from the pixels stored in the file <code>image1.txt</code>.
All the rightmost pixels of the image are white, that is, the triplet <span class="arithmatex">\((255, 255, 255)\)</span>.
The image includes no other white vertical line from the top to the bottom than the rightmost one. Write the width of the image on the answer sheet.</p>
<p>(3) Write a program that prints the <span class="arithmatex">\(\frac{n}{2}\)</span>-th triplet (or pixel) and its index when sorting the pixels stored in the file <code>image1.txt</code> in the ascending order of intensities.
Write down the printed triplet and index on the answer sheet, too. 
Here, <span class="arithmatex">\(n\)</span> is the number of the pixels and it is an even number. 
The first pixel is the zeroth triplet. The intensity of a pixel is <span class="arithmatex">\(r^2 + g^2 + b^2\)</span> when the triplet <span class="arithmatex">\((r, g, b)\)</span> denotes the pixel. 
If there are two pixels with the same intensity, the pixel with a larger index has a lower intensity.</p>
<p>(4) Write a program that selects <span class="arithmatex">\(k\)</span> pixels <span class="arithmatex">\(e_i\)</span>, where <span class="arithmatex">\(0 \leq i &lt; k\)</span>, from the pixels stored in the file <code>image2.txt</code>.
The program prints the triplets and the indices denoting these <span class="arithmatex">\(k\)</span> pixels.
Here, <span class="arithmatex">\(e_i\)</span> is the <span class="arithmatex">\(\frac{ni}{k}\)</span>-th pixel when the pixels are sorted in the order mentioned in (3).
<span class="arithmatex">\(n\)</span> is the number of pixels and <span class="arithmatex">\(n\)</span> is a multiple of <span class="arithmatex">\(k\)</span>.</p>
<p>Write on the answer sheet all the triplets of the pixels and their indices selected when <span class="arithmatex">\(k = 4\)</span>.</p>
<p>(5) Write a program that selects <span class="arithmatex">\(k\)</span> colors representing all the pixels stored in the given file.
<span class="arithmatex">\(k\)</span> is an input. The <span class="arithmatex">\(k\)</span> representing colors are selected as follows:</p>
<ul>
<li>
<ol>
<li>Select <span class="arithmatex">\(k\)</span> pixels <span class="arithmatex">\(e_i\)</span> as mentioned in (4). Let them initial representative pixels <span class="arithmatex">\(p^{(0)}_i = e_i\)</span>.</li>
</ol>
</li>
<li>
<ol>
<li>Categorize all the pixels into <span class="arithmatex">\(k\)</span> clusters. For each pixel <span class="arithmatex">\(q_j\)</span>, find the nearest representative pixel <span class="arithmatex">\(p^{(t)}_i\)</span>. Then the pixel <span class="arithmatex">\(q_j\)</span> belongs to a cluster <span class="arithmatex">\(C^{(t)}_i\)</span>, where <span class="arithmatex">\(t \geq 0\)</span>. The representative pixel <span class="arithmatex">\(p^{(t)}_i\)</span> belongs to the cluster <span class="arithmatex">\(C^{(t)}_i\)</span>.</li>
</ol>
</li>
<li>
<ol>
<li>Compute the centroid of each cluster <span class="arithmatex">\(C^{(t)}_i\)</span>. In <span class="arithmatex">\(C^{(t)}_i\)</span>, the nearest pixel to that centroid is a new representative pixel <span class="arithmatex">\(p^{(t+1)}_i\)</span>. Here, the centroid of pixels is a triplet of the averages (use the floor function after division) of each element <span class="arithmatex">\((r, g, b)\)</span> of the pixels.</li>
</ol>
</li>
<li>
<ol>
<li>Categorize pixels again into <span class="arithmatex">\(k\)</span> clusters <span class="arithmatex">\(C^{(t+1)}_i\)</span> by using the new representative pixels <span class="arithmatex">\(p^{(t+1)}_i\)</span>.</li>
</ol>
</li>
<li>
<ol>
<li>Repeat this ten times and obtain <span class="arithmatex">\(k\)</span> representative pixels <span class="arithmatex">\(p^{(10)}_i\)</span>. The colors we want to obtain are the triplets of these representative pixels.</li>
</ol>
</li>
</ul>
<p>The distance between two triplets <span class="arithmatex">\((r_i, g_i, b_i)\)</span> and <span class="arithmatex">\((r_j, g_j, b_j)\)</span> is <span class="arithmatex">\(|r_i - r_j| + |g_i - g_j| + |b_i - b_j|\)</span>.
For 2 and 3, if multiple pixels have the same distance, select the pixel with the largest index.</p>
<p>Then, compute the representative pixels <span class="arithmatex">\(p^{(10)}_i\)</span> of the pixels stored in the file <code>image2.txt</code> when <span class="arithmatex">\(k = 128\)</span>.
Write on the answer sheet the triplets of <span class="arithmatex">\(p^{(10)}_i\)</span> where <span class="arithmatex">\(i = 40, 80, 120\)</span>.
Do the same thing for <code>image3.txt</code> when <span class="arithmatex">\(k = 8\)</span>, <span class="arithmatex">\(i = 2, 4, 6\)</span>.</p>
<p>(6) Write a program that reduces the number of colors used in the given image in the method mentioned in (5).
The program reads the image from a file and stores the resulting image into a file <code>image.tif</code> in the format shown below.
Assume that the shape of the image is square.
After the reduction, the pixels in a cluster <span class="arithmatex">\(C^{(10)}_i\)</span> are set to the color of its representative pixel <span class="arithmatex">\(p^{(10)}_i\)</span>.
Then, assuming <span class="arithmatex">\(k = 32\)</span>, reduce the number of colors for the image in the file <code>image2.txt</code> and save the obtained <code>image.tif</code> into the USB flash drive.</p>
<p>The format of the file <code>image.tif</code> is as follows. It consists of 104-byte attribute information and pixel data. Each byte of the first 104 bytes in the file is the following number (in decimal notation), respectively.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-1-1">1</a></span>
<span class="normal"><a href="#__codelineno-1-2">2</a></span>
<span class="normal"><a href="#__codelineno-1-3">3</a></span>
<span class="normal"><a href="#__codelineno-1-4">4</a></span>
<span class="normal"><a href="#__codelineno-1-5">5</a></span>
<span class="normal"><a href="#__codelineno-1-6">6</a></span>
<span class="normal"><a href="#__codelineno-1-7">7</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1"></a>77,77,0,42,0,0,0,8,0,7,1,0,0,4,0,0,
<a id="__codelineno-1-2" name="__codelineno-1-2"></a>0,1,w0,w1,w2,w3,1,1,0,4,0,0,0,1,h0,h1,
<a id="__codelineno-1-3" name="__codelineno-1-3"></a>h2,h3,1,2,0,3,0,0,0,3,0,0,0,98,1,6,
<a id="__codelineno-1-4" name="__codelineno-1-4"></a>0,3,0,0,0,1,0,2,0,0,1,17,0,4,0,0,
<a id="__codelineno-1-5" name="__codelineno-1-5"></a>0,1,0,0,0,104,1,21,0,3,0,0,0,1,0,3,
<a id="__codelineno-1-6" name="__codelineno-1-6"></a>0,0,1,23,0,4,0,0,0,1,s0,s1,s2,s3,0,0,
<a id="__codelineno-1-7" name="__codelineno-1-7"></a>0,0,0,8,0,8,0,8
</code></pre></div></td></tr></table></div>
<p>Here, w0 w1 w2 w3, h0 h1 h2 h3, and s0 s1 s2 s3 denote the 4 byte big-endian values representing the width, the height, and (width) x (height) x 3.</p>
<p>After these 104 bytes, the pixels of the image are stored from the top to the bottom line.
For each line, the pixels are stored from left to right. For each pixel, each element of the triplet <span class="arithmatex">\((r, g, b)\)</span> is stored in this order as a 1-byte value.
For example, when the width is <span class="arithmatex">\(100\)</span> pixels and the height is <span class="arithmatex">\(50\)</span> pixels, then <span class="arithmatex">\(15104\)</span> bytes of data in total are stored.</p>
<h2 id="kai"><strong>Kai</strong><a class="headerlink" href="#kai" title="Permanent link"></a></h2>
<p>Please click <a href="https://github.com/tomfluff/UTokyo_CI_Entrance_Exam/tree/main/2019-Summer">here</a> for the sample data files.</p>
<h3 id="1">(1)<a class="headerlink" href="#1" title="Permanent link"></a></h3>
<h4 id="tomfluffs-solution">tomfluff's solution<a class="headerlink" href="#tomfluffs-solution" title="Permanent link"></a></h4>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-2-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-2-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-2-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-2-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-2-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-2-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-2-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-2-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-2-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-2-10">10</a></span>
<span class="normal"><a href="#__codelineno-2-11">11</a></span>
<span class="normal"><a href="#__codelineno-2-12">12</a></span>
<span class="normal"><a href="#__codelineno-2-13">13</a></span>
<span class="normal"><a href="#__codelineno-2-14">14</a></span>
<span class="normal"><a href="#__codelineno-2-15">15</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1"></a><span class="k">def</span><span class="w"> </span><span class="nf">main</span><span class="p">():</span>
<a id="__codelineno-2-2" name="__codelineno-2-2"></a>    <span class="n">lines</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-2-3" name="__codelineno-2-3"></a>    <span class="n">pxls</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-2-4" name="__codelineno-2-4"></a>    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;2019-Summer/image1.txt&#39;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
<a id="__codelineno-2-5" name="__codelineno-2-5"></a>        <span class="n">lines</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">readlines</span><span class="p">()</span>
<a id="__codelineno-2-6" name="__codelineno-2-6"></a>
<a id="__codelineno-2-7" name="__codelineno-2-7"></a>    <span class="k">for</span> <span class="n">l</span> <span class="ow">in</span> <span class="n">lines</span><span class="p">:</span>
<a id="__codelineno-2-8" name="__codelineno-2-8"></a>        <span class="n">ns</span> <span class="o">=</span> <span class="n">l</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">)</span>
<a id="__codelineno-2-9" name="__codelineno-2-9"></a>        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">ns</span><span class="p">),</span><span class="mi">3</span><span class="p">):</span>
<a id="__codelineno-2-10" name="__codelineno-2-10"></a>            <span class="n">pxls</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">ns</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="n">ns</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span><span class="n">ns</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">2</span><span class="p">]))</span>
<a id="__codelineno-2-11" name="__codelineno-2-11"></a>
<a id="__codelineno-2-12" name="__codelineno-2-12"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;No. of pixels: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">pxls</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-2-13" name="__codelineno-2-13"></a>
<a id="__codelineno-2-14" name="__codelineno-2-14"></a><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
<a id="__codelineno-2-15" name="__codelineno-2-15"></a>    <span class="n">main</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
<h4 id="funtotals-solution">FunTotal's solution<a class="headerlink" href="#funtotals-solution" title="Permanent link"></a></h4>
<p>C++ solution:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-3-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-3-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-3-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-3-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-3-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-3-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-3-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-3-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-3-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-3-10">10</a></span>
<span class="normal"><a href="#__codelineno-3-11">11</a></span>
<span class="normal"><a href="#__codelineno-3-12">12</a></span>
<span class="normal"><a href="#__codelineno-3-13">13</a></span>
<span class="normal"><a href="#__codelineno-3-14">14</a></span>
<span class="normal"><a href="#__codelineno-3-15">15</a></span>
<span class="normal"><a href="#__codelineno-3-16">16</a></span>
<span class="normal"><a href="#__codelineno-3-17">17</a></span>
<span class="normal"><a href="#__codelineno-3-18">18</a></span>
<span class="normal"><a href="#__codelineno-3-19">19</a></span>
<span class="normal"><a href="#__codelineno-3-20">20</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1"></a><span class="cm">/*</span>
<a id="__codelineno-3-2" name="__codelineno-3-2"></a><span class="cm">本题考察读入, 结果为:129600</span>
<a id="__codelineno-3-3" name="__codelineno-3-3"></a><span class="cm">*/</span>
<a id="__codelineno-3-4" name="__codelineno-3-4"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;bits/stdc++.h&gt;</span>
<a id="__codelineno-3-5" name="__codelineno-3-5"></a><span class="k">using</span><span class="w"> </span><span class="k">namespace</span><span class="w"> </span><span class="nn">std</span><span class="p">;</span>
<a id="__codelineno-3-6" name="__codelineno-3-6"></a><span class="kt">void</span><span class="w"> </span><span class="nf">solve</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-3-7" name="__codelineno-3-7"></a><span class="w">    </span><span class="n">ifstream</span><span class="w"> </span><span class="n">fin</span><span class="p">(</span><span class="s">&quot;E:/UTokyo_Entrance_Exam/CI/2019_summer/image1.txt&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">ios</span><span class="o">::</span><span class="n">in</span><span class="p">);</span>
<a id="__codelineno-3-8" name="__codelineno-3-8"></a><span class="w">    </span><span class="n">ofstream</span><span class="w"> </span><span class="n">fout</span><span class="p">(</span><span class="s">&quot;E:/UTokyo_Entrance_Exam/CI/2019_summer/ans1.txt&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">ios</span><span class="o">::</span><span class="n">out</span><span class="p">);</span>
<a id="__codelineno-3-9" name="__codelineno-3-9"></a><span class="w">    </span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="w"> </span><span class="n">vec</span><span class="p">;</span>
<a id="__codelineno-3-10" name="__codelineno-3-10"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">num</span><span class="p">;</span>
<a id="__codelineno-3-11" name="__codelineno-3-11"></a><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">fin</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">num</span><span class="p">)</span>
<a id="__codelineno-3-12" name="__codelineno-3-12"></a><span class="w">        </span><span class="n">vec</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">num</span><span class="p">);</span>
<a id="__codelineno-3-13" name="__codelineno-3-13"></a><span class="w">    </span><span class="n">fout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">vec</span><span class="p">.</span><span class="n">size</span><span class="p">()</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
<a id="__codelineno-3-14" name="__codelineno-3-14"></a><span class="p">}</span>
<a id="__codelineno-3-15" name="__codelineno-3-15"></a><span class="kt">signed</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-3-16" name="__codelineno-3-16"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<a id="__codelineno-3-17" name="__codelineno-3-17"></a><span class="w">    </span><span class="c1">// cin &gt;&gt; t;</span>
<a id="__codelineno-3-18" name="__codelineno-3-18"></a><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">t</span><span class="o">--</span><span class="p">)</span><span class="w"> </span><span class="n">solve</span><span class="p">();</span>
<a id="__codelineno-3-19" name="__codelineno-3-19"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="__codelineno-3-20" name="__codelineno-3-20"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<h3 id="2">(2)<a class="headerlink" href="#2" title="Permanent link"></a></h3>
<h4 id="tomfluffs-solution_1">tomfluff's solution<a class="headerlink" href="#tomfluffs-solution_1" title="Permanent link"></a></h4>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-4-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-4-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-4-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-4-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-4-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-4-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-4-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-4-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-4-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-4-10">10</a></span>
<span class="normal"><a href="#__codelineno-4-11">11</a></span>
<span class="normal"><a href="#__codelineno-4-12">12</a></span>
<span class="normal"><a href="#__codelineno-4-13">13</a></span>
<span class="normal"><a href="#__codelineno-4-14">14</a></span>
<span class="normal"><a href="#__codelineno-4-15">15</a></span>
<span class="normal"><a href="#__codelineno-4-16">16</a></span>
<span class="normal"><a href="#__codelineno-4-17">17</a></span>
<span class="normal"><a href="#__codelineno-4-18">18</a></span>
<span class="normal"><a href="#__codelineno-4-19">19</a></span>
<span class="normal"><a href="#__codelineno-4-20">20</a></span>
<span class="normal"><a href="#__codelineno-4-21">21</a></span>
<span class="normal"><a href="#__codelineno-4-22">22</a></span>
<span class="normal"><a href="#__codelineno-4-23">23</a></span>
<span class="normal"><a href="#__codelineno-4-24">24</a></span>
<span class="normal"><a href="#__codelineno-4-25">25</a></span>
<span class="normal"><a href="#__codelineno-4-26">26</a></span>
<span class="normal"><a href="#__codelineno-4-27">27</a></span>
<span class="normal"><a href="#__codelineno-4-28">28</a></span>
<span class="normal"><a href="#__codelineno-4-29">29</a></span>
<span class="normal"><a href="#__codelineno-4-30">30</a></span>
<span class="normal"><a href="#__codelineno-4-31">31</a></span>
<span class="normal"><a href="#__codelineno-4-32">32</a></span>
<span class="normal"><a href="#__codelineno-4-33">33</a></span>
<span class="normal"><a href="#__codelineno-4-34">34</a></span>
<span class="normal"><a href="#__codelineno-4-35">35</a></span>
<span class="normal"><a href="#__codelineno-4-36">36</a></span>
<span class="normal"><a href="#__codelineno-4-37">37</a></span>
<span class="normal"><a href="#__codelineno-4-38">38</a></span>
<span class="normal"><a href="#__codelineno-4-39">39</a></span>
<span class="normal"><a href="#__codelineno-4-40">40</a></span>
<span class="normal"><a href="#__codelineno-4-41">41</a></span>
<span class="normal"><a href="#__codelineno-4-42">42</a></span>
<span class="normal"><a href="#__codelineno-4-43">43</a></span>
<span class="normal"><a href="#__codelineno-4-44">44</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">locale</span><span class="w"> </span><span class="kn">import</span> <span class="n">atoi</span>
<a id="__codelineno-4-2" name="__codelineno-4-2"></a>
<a id="__codelineno-4-3" name="__codelineno-4-3"></a><span class="n">WHITE</span> <span class="o">=</span> <span class="p">(</span><span class="mi">255</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">255</span><span class="p">)</span>
<a id="__codelineno-4-4" name="__codelineno-4-4"></a>
<a id="__codelineno-4-5" name="__codelineno-4-5"></a><span class="k">def</span><span class="w"> </span><span class="nf">get_image_width</span><span class="p">(</span><span class="n">pxls</span><span class="p">,</span> <span class="n">width_op</span><span class="p">):</span>
<a id="__codelineno-4-6" name="__codelineno-4-6"></a>    <span class="n">width</span> <span class="o">=</span> <span class="mi">0</span>
<a id="__codelineno-4-7" name="__codelineno-4-7"></a>    <span class="k">for</span> <span class="n">w</span> <span class="ow">in</span> <span class="n">width_op</span><span class="p">:</span>
<a id="__codelineno-4-8" name="__codelineno-4-8"></a>        <span class="n">b_is_width</span> <span class="o">=</span> <span class="kc">True</span>
<a id="__codelineno-4-9" name="__codelineno-4-9"></a>        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">w</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">pxls</span><span class="p">),</span><span class="n">w</span><span class="p">):</span>
<a id="__codelineno-4-10" name="__codelineno-4-10"></a>            <span class="k">if</span> <span class="n">pxls</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">!=</span> <span class="n">WHITE</span><span class="p">:</span>
<a id="__codelineno-4-11" name="__codelineno-4-11"></a>                <span class="n">b_is_width</span> <span class="o">=</span> <span class="kc">False</span>
<a id="__codelineno-4-12" name="__codelineno-4-12"></a>        <span class="k">if</span> <span class="n">b_is_width</span><span class="p">:</span>
<a id="__codelineno-4-13" name="__codelineno-4-13"></a>            <span class="n">width</span> <span class="o">=</span> <span class="n">w</span>
<a id="__codelineno-4-14" name="__codelineno-4-14"></a>            <span class="k">break</span>
<a id="__codelineno-4-15" name="__codelineno-4-15"></a>    <span class="k">return</span> <span class="n">width</span>
<a id="__codelineno-4-16" name="__codelineno-4-16"></a>
<a id="__codelineno-4-17" name="__codelineno-4-17"></a><span class="k">def</span><span class="w"> </span><span class="nf">update_width_options</span><span class="p">(</span><span class="n">pxls</span><span class="p">,</span> <span class="n">width_op</span><span class="p">):</span>
<a id="__codelineno-4-18" name="__codelineno-4-18"></a>    <span class="k">if</span> <span class="n">pxls</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">WHITE</span><span class="p">:</span>
<a id="__codelineno-4-19" name="__codelineno-4-19"></a>        <span class="n">b_add</span> <span class="o">=</span> <span class="kc">True</span>
<a id="__codelineno-4-20" name="__codelineno-4-20"></a>        <span class="k">for</span> <span class="n">w</span> <span class="ow">in</span> <span class="n">width_op</span><span class="p">:</span>
<a id="__codelineno-4-21" name="__codelineno-4-21"></a>            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">pxls</span><span class="p">)</span> <span class="o">%</span> <span class="n">w</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
<a id="__codelineno-4-22" name="__codelineno-4-22"></a>                <span class="n">b_add</span> <span class="o">=</span> <span class="kc">False</span>
<a id="__codelineno-4-23" name="__codelineno-4-23"></a>                <span class="k">break</span>
<a id="__codelineno-4-24" name="__codelineno-4-24"></a>        <span class="k">if</span> <span class="n">b_add</span><span class="p">:</span>
<a id="__codelineno-4-25" name="__codelineno-4-25"></a>            <span class="n">width_op</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">pxls</span><span class="p">))</span>
<a id="__codelineno-4-26" name="__codelineno-4-26"></a>
<a id="__codelineno-4-27" name="__codelineno-4-27"></a><span class="k">def</span><span class="w"> </span><span class="nf">main</span><span class="p">():</span>
<a id="__codelineno-4-28" name="__codelineno-4-28"></a>    <span class="n">lines</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-4-29" name="__codelineno-4-29"></a>    <span class="n">pxls</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-4-30" name="__codelineno-4-30"></a>    <span class="n">width_op</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-4-31" name="__codelineno-4-31"></a>    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;2019-Summer/image1.txt&#39;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
<a id="__codelineno-4-32" name="__codelineno-4-32"></a>        <span class="n">lines</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">readlines</span><span class="p">()</span>
<a id="__codelineno-4-33" name="__codelineno-4-33"></a>
<a id="__codelineno-4-34" name="__codelineno-4-34"></a>    <span class="k">for</span> <span class="n">l</span> <span class="ow">in</span> <span class="n">lines</span><span class="p">:</span>
<a id="__codelineno-4-35" name="__codelineno-4-35"></a>        <span class="n">ns</span> <span class="o">=</span> <span class="p">[</span><span class="n">atoi</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">l</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">)]</span>
<a id="__codelineno-4-36" name="__codelineno-4-36"></a>        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">ns</span><span class="p">),</span><span class="mi">3</span><span class="p">):</span>
<a id="__codelineno-4-37" name="__codelineno-4-37"></a>            <span class="n">pxls</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">ns</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="n">ns</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span><span class="n">ns</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">2</span><span class="p">]))</span>
<a id="__codelineno-4-38" name="__codelineno-4-38"></a>            <span class="n">update_width_options</span><span class="p">(</span><span class="n">pxls</span><span class="p">,</span> <span class="n">width_op</span><span class="p">)</span>
<a id="__codelineno-4-39" name="__codelineno-4-39"></a>    <span class="n">width</span> <span class="o">=</span> <span class="n">get_image_width</span><span class="p">(</span><span class="n">pxls</span><span class="p">,</span> <span class="n">width_op</span><span class="p">)</span>
<a id="__codelineno-4-40" name="__codelineno-4-40"></a>
<a id="__codelineno-4-41" name="__codelineno-4-41"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Width of image: </span><span class="si">{</span><span class="n">width</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-4-42" name="__codelineno-4-42"></a>
<a id="__codelineno-4-43" name="__codelineno-4-43"></a><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
<a id="__codelineno-4-44" name="__codelineno-4-44"></a>    <span class="n">main</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
<h4 id="funtotals-solution_1">FunTotal's solution<a class="headerlink" href="#funtotals-solution_1" title="Permanent link"></a></h4>
<p>C++ solution:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-5-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-5-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-5-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-5-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-5-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-5-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-5-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-5-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-5-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-5-10">10</a></span>
<span class="normal"><a href="#__codelineno-5-11">11</a></span>
<span class="normal"><a href="#__codelineno-5-12">12</a></span>
<span class="normal"><a href="#__codelineno-5-13">13</a></span>
<span class="normal"><a href="#__codelineno-5-14">14</a></span>
<span class="normal"><a href="#__codelineno-5-15">15</a></span>
<span class="normal"><a href="#__codelineno-5-16">16</a></span>
<span class="normal"><a href="#__codelineno-5-17">17</a></span>
<span class="normal"><a href="#__codelineno-5-18">18</a></span>
<span class="normal"><a href="#__codelineno-5-19">19</a></span>
<span class="normal"><a href="#__codelineno-5-20">20</a></span>
<span class="normal"><a href="#__codelineno-5-21">21</a></span>
<span class="normal"><a href="#__codelineno-5-22">22</a></span>
<span class="normal"><a href="#__codelineno-5-23">23</a></span>
<span class="normal"><a href="#__codelineno-5-24">24</a></span>
<span class="normal"><a href="#__codelineno-5-25">25</a></span>
<span class="normal"><a href="#__codelineno-5-26">26</a></span>
<span class="normal"><a href="#__codelineno-5-27">27</a></span>
<span class="normal"><a href="#__codelineno-5-28">28</a></span>
<span class="normal"><a href="#__codelineno-5-29">29</a></span>
<span class="normal"><a href="#__codelineno-5-30">30</a></span>
<span class="normal"><a href="#__codelineno-5-31">31</a></span>
<span class="normal"><a href="#__codelineno-5-32">32</a></span>
<span class="normal"><a href="#__codelineno-5-33">33</a></span>
<span class="normal"><a href="#__codelineno-5-34">34</a></span>
<span class="normal"><a href="#__codelineno-5-35">35</a></span>
<span class="normal"><a href="#__codelineno-5-36">36</a></span>
<span class="normal"><a href="#__codelineno-5-37">37</a></span>
<span class="normal"><a href="#__codelineno-5-38">38</a></span>
<span class="normal"><a href="#__codelineno-5-39">39</a></span>
<span class="normal"><a href="#__codelineno-5-40">40</a></span>
<span class="normal"><a href="#__codelineno-5-41">41</a></span>
<span class="normal"><a href="#__codelineno-5-42">42</a></span>
<span class="normal"><a href="#__codelineno-5-43">43</a></span>
<span class="normal"><a href="#__codelineno-5-44">44</a></span>
<span class="normal"><a href="#__codelineno-5-45">45</a></span>
<span class="normal"><a href="#__codelineno-5-46">46</a></span>
<span class="normal"><a href="#__codelineno-5-47">47</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1"></a><span class="cm">/*</span>
<a id="__codelineno-5-2" name="__codelineno-5-2"></a><span class="cm">简单模拟, 比较严谨的做法是这样枚举每个白色作为第一行的右端点, 检验它竖下来的每个像素是不是</span>
<a id="__codelineno-5-3" name="__codelineno-5-3"></a><span class="cm">都是白色的。当然其实也可以把白色的像素位置都存起来，肉眼观察第一个是480，直接去check一下480</span>
<a id="__codelineno-5-4" name="__codelineno-5-4"></a><span class="cm">这个答案对不对，注意下标0开始还是1开始。</span>
<a id="__codelineno-5-5" name="__codelineno-5-5"></a>
<a id="__codelineno-5-6" name="__codelineno-5-6"></a><span class="cm">运行结果为 480</span>
<a id="__codelineno-5-7" name="__codelineno-5-7"></a><span class="cm">*/</span>
<a id="__codelineno-5-8" name="__codelineno-5-8"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;bits/stdc++.h&gt;</span>
<a id="__codelineno-5-9" name="__codelineno-5-9"></a><span class="cp">#define pii pair&lt;int, int&gt;</span>
<a id="__codelineno-5-10" name="__codelineno-5-10"></a><span class="cp">#define tii tuple&lt;int, int, int&gt;</span>
<a id="__codelineno-5-11" name="__codelineno-5-11"></a><span class="k">using</span><span class="w"> </span><span class="k">namespace</span><span class="w"> </span><span class="nn">std</span><span class="p">;</span>
<a id="__codelineno-5-12" name="__codelineno-5-12"></a><span class="kt">void</span><span class="w"> </span><span class="nf">solve</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-5-13" name="__codelineno-5-13"></a><span class="w">    </span><span class="n">ifstream</span><span class="w"> </span><span class="n">fin</span><span class="p">(</span><span class="s">&quot;E:/UTokyo_Entrance_Exam/CI/2019_summer/image1.txt&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">ios</span><span class="o">::</span><span class="n">in</span><span class="p">);</span>
<a id="__codelineno-5-14" name="__codelineno-5-14"></a><span class="w">    </span><span class="n">ofstream</span><span class="w"> </span><span class="n">fout</span><span class="p">(</span><span class="s">&quot;E:/UTokyo_Entrance_Exam/CI/2019_summer/ans2.txt&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">ios</span><span class="o">::</span><span class="n">out</span><span class="p">);</span>
<a id="__codelineno-5-15" name="__codelineno-5-15"></a><span class="w">    </span><span class="c1">// freopen(&quot;E:/UTokyo_Entrance_Exam/CI/2019_summer/image1.txt&quot;, &quot;r&quot;, stdin);</span>
<a id="__codelineno-5-16" name="__codelineno-5-16"></a><span class="w">    </span><span class="c1">// if (!fin.is_open()) assert(0);</span>
<a id="__codelineno-5-17" name="__codelineno-5-17"></a><span class="w">    </span><span class="n">vector</span><span class="o">&lt;</span><span class="n">tii</span><span class="o">&gt;</span><span class="w"> </span><span class="n">vec</span><span class="p">;</span>
<a id="__codelineno-5-18" name="__codelineno-5-18"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">num1</span><span class="p">,</span><span class="w"> </span><span class="n">num2</span><span class="p">,</span><span class="w"> </span><span class="n">num3</span><span class="p">;</span>
<a id="__codelineno-5-19" name="__codelineno-5-19"></a><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">fin</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">num1</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">num2</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">num3</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-5-20" name="__codelineno-5-20"></a><span class="w">        </span><span class="n">vec</span><span class="p">.</span><span class="n">push_back</span><span class="p">({</span><span class="n">num1</span><span class="p">,</span><span class="w"> </span><span class="n">num2</span><span class="p">,</span><span class="w"> </span><span class="n">num3</span><span class="p">});</span>
<a id="__codelineno-5-21" name="__codelineno-5-21"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-5-22" name="__codelineno-5-22"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">vec</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
<a id="__codelineno-5-23" name="__codelineno-5-23"></a><span class="w">    </span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="w"> </span><span class="n">is_white</span><span class="p">(</span><span class="n">n</span><span class="p">);</span>
<a id="__codelineno-5-24" name="__codelineno-5-24"></a><span class="w">    </span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="w"> </span><span class="n">whites</span><span class="p">;</span>
<a id="__codelineno-5-25" name="__codelineno-5-25"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">n</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-5-26" name="__codelineno-5-26"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">vec</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">tii</span><span class="p">{</span><span class="mi">255</span><span class="p">,</span><span class="w"> </span><span class="mi">255</span><span class="p">,</span><span class="w"> </span><span class="mi">255</span><span class="p">})</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-5-27" name="__codelineno-5-27"></a><span class="w">            </span><span class="n">is_white</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<a id="__codelineno-5-28" name="__codelineno-5-28"></a><span class="w">            </span><span class="n">whites</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
<a id="__codelineno-5-29" name="__codelineno-5-29"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-5-30" name="__codelineno-5-30"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">whites</span><span class="p">.</span><span class="n">size</span><span class="p">();</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-5-31" name="__codelineno-5-31"></a><span class="w">        </span><span class="c1">// 枚举第一行最右边的白色格子</span>
<a id="__codelineno-5-32" name="__codelineno-5-32"></a><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">flag</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<a id="__codelineno-5-33" name="__codelineno-5-33"></a><span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">whites</span><span class="p">[</span><span class="n">i</span><span class="p">];</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">n</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">whites</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-5-34" name="__codelineno-5-34"></a><span class="w">            </span><span class="n">flag</span><span class="w"> </span><span class="o">&amp;=</span><span class="w"> </span><span class="n">is_white</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<a id="__codelineno-5-35" name="__codelineno-5-35"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">flag</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-5-36" name="__codelineno-5-36"></a><span class="w">            </span><span class="n">fout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">whites</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
<a id="__codelineno-5-37" name="__codelineno-5-37"></a><span class="w">            </span><span class="k">break</span><span class="p">;</span>
<a id="__codelineno-5-38" name="__codelineno-5-38"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-5-39" name="__codelineno-5-39"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-5-40" name="__codelineno-5-40"></a><span class="p">}</span>
<a id="__codelineno-5-41" name="__codelineno-5-41"></a><span class="kt">signed</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-5-42" name="__codelineno-5-42"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<a id="__codelineno-5-43" name="__codelineno-5-43"></a><span class="w">    </span><span class="c1">// cin &gt;&gt; t;</span>
<a id="__codelineno-5-44" name="__codelineno-5-44"></a><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">t</span><span class="o">--</span><span class="p">)</span>
<a id="__codelineno-5-45" name="__codelineno-5-45"></a><span class="w">        </span><span class="n">solve</span><span class="p">();</span>
<a id="__codelineno-5-46" name="__codelineno-5-46"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="__codelineno-5-47" name="__codelineno-5-47"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div></p>
<h3 id="3">(3)<a class="headerlink" href="#3" title="Permanent link"></a></h3>
<h4 id="tomfluffs-solution_2">tomfluff's solution<a class="headerlink" href="#tomfluffs-solution_2" title="Permanent link"></a></h4>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-6-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-6-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-6-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-6-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-6-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-6-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-6-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-6-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-6-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-6-10">10</a></span>
<span class="normal"><a href="#__codelineno-6-11">11</a></span>
<span class="normal"><a href="#__codelineno-6-12">12</a></span>
<span class="normal"><a href="#__codelineno-6-13">13</a></span>
<span class="normal"><a href="#__codelineno-6-14">14</a></span>
<span class="normal"><a href="#__codelineno-6-15">15</a></span>
<span class="normal"><a href="#__codelineno-6-16">16</a></span>
<span class="normal"><a href="#__codelineno-6-17">17</a></span>
<span class="normal"><a href="#__codelineno-6-18">18</a></span>
<span class="normal"><a href="#__codelineno-6-19">19</a></span>
<span class="normal"><a href="#__codelineno-6-20">20</a></span>
<span class="normal"><a href="#__codelineno-6-21">21</a></span>
<span class="normal"><a href="#__codelineno-6-22">22</a></span>
<span class="normal"><a href="#__codelineno-6-23">23</a></span>
<span class="normal"><a href="#__codelineno-6-24">24</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">locale</span><span class="w"> </span><span class="kn">import</span> <span class="n">atoi</span>
<a id="__codelineno-6-2" name="__codelineno-6-2"></a>
<a id="__codelineno-6-3" name="__codelineno-6-3"></a><span class="n">WHITE</span> <span class="o">=</span> <span class="p">(</span><span class="mi">255</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">255</span><span class="p">)</span>
<a id="__codelineno-6-4" name="__codelineno-6-4"></a>
<a id="__codelineno-6-5" name="__codelineno-6-5"></a><span class="k">def</span><span class="w"> </span><span class="nf">main</span><span class="p">():</span>
<a id="__codelineno-6-6" name="__codelineno-6-6"></a>    <span class="n">lines</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-6-7" name="__codelineno-6-7"></a>    <span class="n">pxls</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-6-8" name="__codelineno-6-8"></a>    <span class="n">width</span> <span class="o">=</span> <span class="mi">0</span>
<a id="__codelineno-6-9" name="__codelineno-6-9"></a>    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;2019-Summer/image1.txt&#39;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
<a id="__codelineno-6-10" name="__codelineno-6-10"></a>        <span class="n">lines</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">readlines</span><span class="p">()</span>
<a id="__codelineno-6-11" name="__codelineno-6-11"></a>
<a id="__codelineno-6-12" name="__codelineno-6-12"></a>    <span class="c1"># Assume file is a one-line file</span>
<a id="__codelineno-6-13" name="__codelineno-6-13"></a>    <span class="k">for</span> <span class="n">l</span> <span class="ow">in</span> <span class="n">lines</span><span class="p">:</span>
<a id="__codelineno-6-14" name="__codelineno-6-14"></a>        <span class="n">ns</span> <span class="o">=</span> <span class="p">[</span><span class="n">atoi</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">l</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">)]</span>
<a id="__codelineno-6-15" name="__codelineno-6-15"></a>        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">ns</span><span class="p">),</span><span class="mi">3</span><span class="p">):</span>
<a id="__codelineno-6-16" name="__codelineno-6-16"></a>            <span class="n">pxls</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">ns</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="n">ns</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span><span class="n">ns</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">2</span><span class="p">],</span><span class="n">i</span><span class="o">//</span><span class="mi">3</span><span class="p">))</span>
<a id="__codelineno-6-17" name="__codelineno-6-17"></a>
<a id="__codelineno-6-18" name="__codelineno-6-18"></a>    <span class="n">pxls_sr</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">pxls</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-6-19" name="__codelineno-6-19"></a>    <span class="n">pxls_sr</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">pxls_sr</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="n">x</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">*</span><span class="n">x</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
<a id="__codelineno-6-20" name="__codelineno-6-20"></a>
<a id="__codelineno-6-21" name="__codelineno-6-21"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;N/2th pixel: </span><span class="si">{</span><span class="n">pxls_sr</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">pxls_sr</span><span class="p">)</span><span class="o">//</span><span class="mi">2</span><span class="p">][</span><span class="mi">0</span><span class="p">:</span><span class="mi">3</span><span class="p">]</span><span class="si">}</span><span class="s2">, index </span><span class="si">{</span><span class="n">pxls_sr</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">pxls_sr</span><span class="p">)</span><span class="o">//</span><span class="mi">2</span><span class="p">][</span><span class="mi">3</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-6-22" name="__codelineno-6-22"></a>
<a id="__codelineno-6-23" name="__codelineno-6-23"></a><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
<a id="__codelineno-6-24" name="__codelineno-6-24"></a>    <span class="n">main</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
<h4 id="funtotals-solution_2">FunTotal's solution<a class="headerlink" href="#funtotals-solution_2" title="Permanent link"></a></h4>
<p>C++ solution:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-7-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-7-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-7-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-7-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-7-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-7-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-7-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-7-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-7-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-7-10">10</a></span>
<span class="normal"><a href="#__codelineno-7-11">11</a></span>
<span class="normal"><a href="#__codelineno-7-12">12</a></span>
<span class="normal"><a href="#__codelineno-7-13">13</a></span>
<span class="normal"><a href="#__codelineno-7-14">14</a></span>
<span class="normal"><a href="#__codelineno-7-15">15</a></span>
<span class="normal"><a href="#__codelineno-7-16">16</a></span>
<span class="normal"><a href="#__codelineno-7-17">17</a></span>
<span class="normal"><a href="#__codelineno-7-18">18</a></span>
<span class="normal"><a href="#__codelineno-7-19">19</a></span>
<span class="normal"><a href="#__codelineno-7-20">20</a></span>
<span class="normal"><a href="#__codelineno-7-21">21</a></span>
<span class="normal"><a href="#__codelineno-7-22">22</a></span>
<span class="normal"><a href="#__codelineno-7-23">23</a></span>
<span class="normal"><a href="#__codelineno-7-24">24</a></span>
<span class="normal"><a href="#__codelineno-7-25">25</a></span>
<span class="normal"><a href="#__codelineno-7-26">26</a></span>
<span class="normal"><a href="#__codelineno-7-27">27</a></span>
<span class="normal"><a href="#__codelineno-7-28">28</a></span>
<span class="normal"><a href="#__codelineno-7-29">29</a></span>
<span class="normal"><a href="#__codelineno-7-30">30</a></span>
<span class="normal"><a href="#__codelineno-7-31">31</a></span>
<span class="normal"><a href="#__codelineno-7-32">32</a></span>
<span class="normal"><a href="#__codelineno-7-33">33</a></span>
<span class="normal"><a href="#__codelineno-7-34">34</a></span>
<span class="normal"><a href="#__codelineno-7-35">35</a></span>
<span class="normal"><a href="#__codelineno-7-36">36</a></span>
<span class="normal"><a href="#__codelineno-7-37">37</a></span>
<span class="normal"><a href="#__codelineno-7-38">38</a></span>
<span class="normal"><a href="#__codelineno-7-39">39</a></span>
<span class="normal"><a href="#__codelineno-7-40">40</a></span>
<span class="normal"><a href="#__codelineno-7-41">41</a></span>
<span class="normal"><a href="#__codelineno-7-42">42</a></span>
<span class="normal"><a href="#__codelineno-7-43">43</a></span>
<span class="normal"><a href="#__codelineno-7-44">44</a></span>
<span class="normal"><a href="#__codelineno-7-45">45</a></span>
<span class="normal"><a href="#__codelineno-7-46">46</a></span>
<span class="normal"><a href="#__codelineno-7-47">47</a></span>
<span class="normal"><a href="#__codelineno-7-48">48</a></span>
<span class="normal"><a href="#__codelineno-7-49">49</a></span>
<span class="normal"><a href="#__codelineno-7-50">50</a></span>
<span class="normal"><a href="#__codelineno-7-51">51</a></span>
<span class="normal"><a href="#__codelineno-7-52">52</a></span>
<span class="normal"><a href="#__codelineno-7-53">53</a></span>
<span class="normal"><a href="#__codelineno-7-54">54</a></span>
<span class="normal"><a href="#__codelineno-7-55">55</a></span>
<span class="normal"><a href="#__codelineno-7-56">56</a></span>
<span class="normal"><a href="#__codelineno-7-57">57</a></span>
<span class="normal"><a href="#__codelineno-7-58">58</a></span>
<span class="normal"><a href="#__codelineno-7-59">59</a></span>
<span class="normal"><a href="#__codelineno-7-60">60</a></span>
<span class="normal"><a href="#__codelineno-7-61">61</a></span>
<span class="normal"><a href="#__codelineno-7-62">62</a></span>
<span class="normal"><a href="#__codelineno-7-63">63</a></span>
<span class="normal"><a href="#__codelineno-7-64">64</a></span>
<span class="normal"><a href="#__codelineno-7-65">65</a></span>
<span class="normal"><a href="#__codelineno-7-66">66</a></span>
<span class="normal"><a href="#__codelineno-7-67">67</a></span>
<span class="normal"><a href="#__codelineno-7-68">68</a></span>
<span class="normal"><a href="#__codelineno-7-69">69</a></span>
<span class="normal"><a href="#__codelineno-7-70">70</a></span>
<span class="normal"><a href="#__codelineno-7-71">71</a></span>
<span class="normal"><a href="#__codelineno-7-72">72</a></span>
<span class="normal"><a href="#__codelineno-7-73">73</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1"></a><span class="cm">/*</span>
<a id="__codelineno-7-2" name="__codelineno-7-2"></a><span class="cm">也是简单模拟, c++里面可以对sort函数添加自定义比较规则, 运行的结果是:</span>
<a id="__codelineno-7-3" name="__codelineno-7-3"></a><span class="cm">N/2th pixel: (254 2 124), index 48312</span>
<a id="__codelineno-7-4" name="__codelineno-7-4"></a><span class="cm">*/</span>
<a id="__codelineno-7-5" name="__codelineno-7-5"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;bits/stdc++.h&gt;</span>
<a id="__codelineno-7-6" name="__codelineno-7-6"></a><span class="cp">#define pii pair&lt;int, int&gt;</span>
<a id="__codelineno-7-7" name="__codelineno-7-7"></a><span class="cp">#define tii tuple&lt;int, int, int&gt;</span>
<a id="__codelineno-7-8" name="__codelineno-7-8"></a><span class="k">using</span><span class="w"> </span><span class="k">namespace</span><span class="w"> </span><span class="nn">std</span><span class="p">;</span>
<a id="__codelineno-7-9" name="__codelineno-7-9"></a><span class="k">struct</span><span class="w"> </span><span class="nc">Node</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-7-10" name="__codelineno-7-10"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="n">c</span><span class="p">,</span><span class="w"> </span><span class="n">val</span><span class="p">,</span><span class="w"> </span><span class="n">id</span><span class="p">;</span>
<a id="__codelineno-7-11" name="__codelineno-7-11"></a><span class="p">};</span>
<a id="__codelineno-7-12" name="__codelineno-7-12"></a><span class="kt">bool</span><span class="w"> </span><span class="nf">cmp</span><span class="p">(</span><span class="n">Node</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">Node</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-7-13" name="__codelineno-7-13"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="p">.</span><span class="n">val</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">val</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="n">val</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">val</span><span class="p">;</span>
<a id="__codelineno-7-14" name="__codelineno-7-14"></a><span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="n">id</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">id</span><span class="p">;</span>
<a id="__codelineno-7-15" name="__codelineno-7-15"></a><span class="p">}</span>
<a id="__codelineno-7-16" name="__codelineno-7-16"></a><span class="kt">int</span><span class="w"> </span><span class="nf">cal</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">c</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-7-17" name="__codelineno-7-17"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">c</span><span class="p">;</span>
<a id="__codelineno-7-18" name="__codelineno-7-18"></a><span class="p">}</span>
<a id="__codelineno-7-19" name="__codelineno-7-19"></a><span class="kt">void</span><span class="w"> </span><span class="nf">solve</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-7-20" name="__codelineno-7-20"></a><span class="w">    </span><span class="n">ifstream</span><span class="w"> </span><span class="n">fin</span><span class="p">(</span><span class="s">&quot;E:/UTokyo_Entrance_Exam/CI/2019_summer/image1.txt&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">ios</span><span class="o">::</span><span class="n">in</span><span class="p">);</span>
<a id="__codelineno-7-21" name="__codelineno-7-21"></a><span class="w">    </span><span class="n">ofstream</span><span class="w"> </span><span class="n">fout</span><span class="p">(</span><span class="s">&quot;E:/UTokyo_Entrance_Exam/CI/2019_summer/ans3.txt&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">ios</span><span class="o">::</span><span class="n">out</span><span class="p">);</span>
<a id="__codelineno-7-22" name="__codelineno-7-22"></a><span class="w">    </span><span class="n">vector</span><span class="o">&lt;</span><span class="n">tii</span><span class="o">&gt;</span><span class="w"> </span><span class="n">vec</span><span class="p">;</span>
<a id="__codelineno-7-23" name="__codelineno-7-23"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">num1</span><span class="p">,</span><span class="w"> </span><span class="n">num2</span><span class="p">,</span><span class="w"> </span><span class="n">num3</span><span class="p">;</span>
<a id="__codelineno-7-24" name="__codelineno-7-24"></a><span class="w">    </span><span class="n">vector</span><span class="o">&lt;</span><span class="n">Node</span><span class="o">&gt;</span><span class="w"> </span><span class="n">vec2</span><span class="p">;</span>
<a id="__codelineno-7-25" name="__codelineno-7-25"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">cnt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="__codelineno-7-26" name="__codelineno-7-26"></a><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">fin</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">num1</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">num2</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">num3</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-7-27" name="__codelineno-7-27"></a><span class="w">        </span><span class="n">vec</span><span class="p">.</span><span class="n">push_back</span><span class="p">({</span><span class="n">num1</span><span class="p">,</span><span class="w"> </span><span class="n">num2</span><span class="p">,</span><span class="w"> </span><span class="n">num3</span><span class="p">});</span>
<a id="__codelineno-7-28" name="__codelineno-7-28"></a><span class="w">        </span><span class="n">vec2</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">Node</span><span class="p">{</span><span class="n">num1</span><span class="p">,</span><span class="w"> </span><span class="n">num2</span><span class="p">,</span><span class="w"> </span><span class="n">num3</span><span class="p">,</span><span class="w"> </span><span class="n">cal</span><span class="p">(</span><span class="n">num1</span><span class="p">,</span><span class="w"> </span><span class="n">num2</span><span class="p">,</span><span class="w"> </span><span class="n">num3</span><span class="p">),</span><span class="w"> </span><span class="n">cnt</span><span class="o">++</span><span class="p">});</span>
<a id="__codelineno-7-29" name="__codelineno-7-29"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-7-30" name="__codelineno-7-30"></a><span class="w">    </span><span class="n">sort</span><span class="p">(</span><span class="n">vec2</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span><span class="w"> </span><span class="n">vec2</span><span class="p">.</span><span class="n">end</span><span class="p">(),</span><span class="w"> </span><span class="n">cmp</span><span class="p">);</span>
<a id="__codelineno-7-31" name="__codelineno-7-31"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">vec2</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
<a id="__codelineno-7-32" name="__codelineno-7-32"></a><span class="w">    </span><span class="n">Node</span><span class="w"> </span><span class="n">ans</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">vec2</span><span class="p">[</span><span class="n">n</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">2</span><span class="p">];</span>
<a id="__codelineno-7-33" name="__codelineno-7-33"></a><span class="w">    </span><span class="n">fout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;N/2th pixel: (&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">ans</span><span class="p">.</span><span class="n">a</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">ans</span><span class="p">.</span><span class="n">b</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">ans</span><span class="p">.</span><span class="n">c</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;), index &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">ans</span><span class="p">.</span><span class="n">id</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
<a id="__codelineno-7-34" name="__codelineno-7-34"></a><span class="p">}</span>
<a id="__codelineno-7-35" name="__codelineno-7-35"></a><span class="kt">signed</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-7-36" name="__codelineno-7-36"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<a id="__codelineno-7-37" name="__codelineno-7-37"></a><span class="w">    </span><span class="c1">// cin &gt;&gt; t;</span>
<a id="__codelineno-7-38" name="__codelineno-7-38"></a><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">t</span><span class="o">--</span><span class="p">)</span>
<a id="__codelineno-7-39" name="__codelineno-7-39"></a><span class="w">        </span><span class="n">solve</span><span class="p">();</span>
<a id="__codelineno-7-40" name="__codelineno-7-40"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="__codelineno-7-41" name="__codelineno-7-41"></a><span class="p">}</span>
<a id="__codelineno-7-42" name="__codelineno-7-42"></a><span class="err">···</span>
<a id="__codelineno-7-43" name="__codelineno-7-43"></a>
<a id="__codelineno-7-44" name="__codelineno-7-44"></a><span class="cp">### (4)</span>
<a id="__codelineno-7-45" name="__codelineno-7-45"></a><span class="cp">#### tomfluff&#39;s solution</span>
<a id="__codelineno-7-46" name="__codelineno-7-46"></a>
<a id="__codelineno-7-47" name="__codelineno-7-47"></a><span class="err">```</span><span class="n">python</span>
<a id="__codelineno-7-48" name="__codelineno-7-48"></a><span class="n">from</span><span class="w"> </span><span class="n">locale</span><span class="w"> </span><span class="k">import</span><span class="w"> </span><span class="n">atoi</span>
<a id="__codelineno-7-49" name="__codelineno-7-49"></a>
<a id="__codelineno-7-50" name="__codelineno-7-50"></a><span class="n">WHITE</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="mi">255</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">255</span><span class="p">)</span>
<a id="__codelineno-7-51" name="__codelineno-7-51"></a>
<a id="__codelineno-7-52" name="__codelineno-7-52"></a><span class="n">def</span><span class="w"> </span><span class="n">main</span><span class="p">()</span><span class="o">:</span>
<a id="__codelineno-7-53" name="__codelineno-7-53"></a><span class="w">    </span><span class="n">lines</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[]</span>
<a id="__codelineno-7-54" name="__codelineno-7-54"></a><span class="w">    </span><span class="n">pxls</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[]</span>
<a id="__codelineno-7-55" name="__codelineno-7-55"></a><span class="w">    </span><span class="n">k</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span>
<a id="__codelineno-7-56" name="__codelineno-7-56"></a><span class="w">    </span><span class="n">with</span><span class="w"> </span><span class="n">open</span><span class="p">(</span><span class="err">&#39;</span><span class="mi">2019</span><span class="o">-</span><span class="n">Summer</span><span class="o">/</span><span class="n">image2</span><span class="p">.</span><span class="n">txt</span><span class="err">&#39;</span><span class="p">,</span><span class="w"> </span><span class="sc">&#39;r&#39;</span><span class="p">)</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">f</span><span class="o">:</span>
<a id="__codelineno-7-57" name="__codelineno-7-57"></a><span class="w">        </span><span class="n">lines</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">f</span><span class="p">.</span><span class="n">readlines</span><span class="p">()</span>
<a id="__codelineno-7-58" name="__codelineno-7-58"></a>
<a id="__codelineno-7-59" name="__codelineno-7-59"></a><span class="w">    </span><span class="cp"># Assume file is a one-line file</span>
<a id="__codelineno-7-60" name="__codelineno-7-60"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="n">l</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">lines</span><span class="o">:</span>
<a id="__codelineno-7-61" name="__codelineno-7-61"></a><span class="w">        </span><span class="n">ns</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">atoi</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">l</span><span class="p">.</span><span class="n">strip</span><span class="p">().</span><span class="n">split</span><span class="p">(</span><span class="sc">&#39; &#39;</span><span class="p">)]</span>
<a id="__codelineno-7-62" name="__codelineno-7-62"></a><span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">len</span><span class="p">(</span><span class="n">ns</span><span class="p">),</span><span class="mi">3</span><span class="p">)</span><span class="o">:</span>
<a id="__codelineno-7-63" name="__codelineno-7-63"></a><span class="w">            </span><span class="n">pxls</span><span class="p">.</span><span class="n">append</span><span class="p">((</span><span class="n">ns</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="n">ns</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span><span class="n">ns</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">2</span><span class="p">],</span><span class="n">i</span><span class="c1">//3))</span>
<a id="__codelineno-7-64" name="__codelineno-7-64"></a>
<a id="__codelineno-7-65" name="__codelineno-7-65"></a><span class="w">    </span><span class="n">pxls_sr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sorted</span><span class="p">(</span><span class="n">pxls</span><span class="p">,</span><span class="w"> </span><span class="n">key</span><span class="o">=</span><span class="n">lambda</span><span class="w"> </span><span class="n">x</span><span class="o">:</span><span class="w"> </span><span class="n">x</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="w"> </span><span class="n">reverse</span><span class="o">=</span><span class="n">True</span><span class="p">)</span>
<a id="__codelineno-7-66" name="__codelineno-7-66"></a><span class="w">    </span><span class="n">pxls_sr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sorted</span><span class="p">(</span><span class="n">pxls_sr</span><span class="p">,</span><span class="w"> </span><span class="n">key</span><span class="o">=</span><span class="n">lambda</span><span class="w"> </span><span class="n">x</span><span class="o">:</span><span class="w"> </span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="n">x</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">*</span><span class="n">x</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
<a id="__codelineno-7-67" name="__codelineno-7-67"></a>
<a id="__codelineno-7-68" name="__codelineno-7-68"></a><span class="w">    </span><span class="n">p</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">len</span><span class="p">(</span><span class="n">pxls_sr</span><span class="p">)</span><span class="c1">//k</span>
<a id="__codelineno-7-69" name="__codelineno-7-69"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="n">k</span><span class="p">)</span><span class="o">:</span>
<a id="__codelineno-7-70" name="__codelineno-7-70"></a><span class="w">        </span><span class="n">print</span><span class="p">(</span><span class="n">f</span><span class="s">&quot;e({i}) pixel: {pxls_sr[p*i][0:3]}, index {pxls_sr[p*i][3]}&quot;</span><span class="p">)</span><span class="w">    </span>
<a id="__codelineno-7-71" name="__codelineno-7-71"></a>
<a id="__codelineno-7-72" name="__codelineno-7-72"></a><span class="k">if</span><span class="w"> </span><span class="n">__name__</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s">&quot;__main__&quot;</span><span class="o">:</span>
<a id="__codelineno-7-73" name="__codelineno-7-73"></a><span class="w">    </span><span class="n">main</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
<h4 id="funtotals-solution_3">FunTotal's solution<a class="headerlink" href="#funtotals-solution_3" title="Permanent link"></a></h4>
<p>C++ solution:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-8-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-8-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-8-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-8-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-8-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-8-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-8-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-8-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-8-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-8-10">10</a></span>
<span class="normal"><a href="#__codelineno-8-11">11</a></span>
<span class="normal"><a href="#__codelineno-8-12">12</a></span>
<span class="normal"><a href="#__codelineno-8-13">13</a></span>
<span class="normal"><a href="#__codelineno-8-14">14</a></span>
<span class="normal"><a href="#__codelineno-8-15">15</a></span>
<span class="normal"><a href="#__codelineno-8-16">16</a></span>
<span class="normal"><a href="#__codelineno-8-17">17</a></span>
<span class="normal"><a href="#__codelineno-8-18">18</a></span>
<span class="normal"><a href="#__codelineno-8-19">19</a></span>
<span class="normal"><a href="#__codelineno-8-20">20</a></span>
<span class="normal"><a href="#__codelineno-8-21">21</a></span>
<span class="normal"><a href="#__codelineno-8-22">22</a></span>
<span class="normal"><a href="#__codelineno-8-23">23</a></span>
<span class="normal"><a href="#__codelineno-8-24">24</a></span>
<span class="normal"><a href="#__codelineno-8-25">25</a></span>
<span class="normal"><a href="#__codelineno-8-26">26</a></span>
<span class="normal"><a href="#__codelineno-8-27">27</a></span>
<span class="normal"><a href="#__codelineno-8-28">28</a></span>
<span class="normal"><a href="#__codelineno-8-29">29</a></span>
<span class="normal"><a href="#__codelineno-8-30">30</a></span>
<span class="normal"><a href="#__codelineno-8-31">31</a></span>
<span class="normal"><a href="#__codelineno-8-32">32</a></span>
<span class="normal"><a href="#__codelineno-8-33">33</a></span>
<span class="normal"><a href="#__codelineno-8-34">34</a></span>
<span class="normal"><a href="#__codelineno-8-35">35</a></span>
<span class="normal"><a href="#__codelineno-8-36">36</a></span>
<span class="normal"><a href="#__codelineno-8-37">37</a></span>
<span class="normal"><a href="#__codelineno-8-38">38</a></span>
<span class="normal"><a href="#__codelineno-8-39">39</a></span>
<span class="normal"><a href="#__codelineno-8-40">40</a></span>
<span class="normal"><a href="#__codelineno-8-41">41</a></span>
<span class="normal"><a href="#__codelineno-8-42">42</a></span>
<span class="normal"><a href="#__codelineno-8-43">43</a></span>
<span class="normal"><a href="#__codelineno-8-44">44</a></span>
<span class="normal"><a href="#__codelineno-8-45">45</a></span>
<span class="normal"><a href="#__codelineno-8-46">46</a></span>
<span class="normal"><a href="#__codelineno-8-47">47</a></span>
<span class="normal"><a href="#__codelineno-8-48">48</a></span>
<span class="normal"><a href="#__codelineno-8-49">49</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1"></a><span class="cm">/*</span>
<a id="__codelineno-8-2" name="__codelineno-8-2"></a><span class="cm">和上一题基本一样, 运行的结果是:</span>
<a id="__codelineno-8-3" name="__codelineno-8-3"></a><span class="cm">e(0) pixel: (0 0 0), index 302362</span>
<a id="__codelineno-8-4" name="__codelineno-8-4"></a><span class="cm">e(1) pixel: (88 88 88), index 30632</span>
<a id="__codelineno-8-5" name="__codelineno-8-5"></a><span class="cm">e(2) pixel: (124 124 124), index 338140</span>
<a id="__codelineno-8-6" name="__codelineno-8-6"></a><span class="cm">e(3) pixel: (155 155 155), index 1111164</span>
<a id="__codelineno-8-7" name="__codelineno-8-7"></a>
<a id="__codelineno-8-8" name="__codelineno-8-8"></a><span class="cm">*/</span>
<a id="__codelineno-8-9" name="__codelineno-8-9"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;bits/stdc++.h&gt;</span>
<a id="__codelineno-8-10" name="__codelineno-8-10"></a><span class="cp">#define pii pair&lt;int, int&gt;</span>
<a id="__codelineno-8-11" name="__codelineno-8-11"></a><span class="cp">#define tii tuple&lt;int, int, int&gt;</span>
<a id="__codelineno-8-12" name="__codelineno-8-12"></a><span class="k">using</span><span class="w"> </span><span class="k">namespace</span><span class="w"> </span><span class="nn">std</span><span class="p">;</span>
<a id="__codelineno-8-13" name="__codelineno-8-13"></a><span class="k">struct</span><span class="w"> </span><span class="nc">Node</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-8-14" name="__codelineno-8-14"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="n">c</span><span class="p">,</span><span class="w"> </span><span class="n">val</span><span class="p">,</span><span class="w"> </span><span class="n">id</span><span class="p">;</span>
<a id="__codelineno-8-15" name="__codelineno-8-15"></a><span class="p">};</span>
<a id="__codelineno-8-16" name="__codelineno-8-16"></a><span class="kt">bool</span><span class="w"> </span><span class="nf">cmp</span><span class="p">(</span><span class="n">Node</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">Node</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-8-17" name="__codelineno-8-17"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="p">.</span><span class="n">val</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">val</span><span class="p">)</span>
<a id="__codelineno-8-18" name="__codelineno-8-18"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="n">val</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">val</span><span class="p">;</span>
<a id="__codelineno-8-19" name="__codelineno-8-19"></a><span class="w">    </span><span class="k">else</span>
<a id="__codelineno-8-20" name="__codelineno-8-20"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="n">id</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">id</span><span class="p">;</span>
<a id="__codelineno-8-21" name="__codelineno-8-21"></a><span class="p">}</span>
<a id="__codelineno-8-22" name="__codelineno-8-22"></a><span class="kt">int</span><span class="w"> </span><span class="nf">cal</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">c</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-8-23" name="__codelineno-8-23"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">c</span><span class="p">;</span>
<a id="__codelineno-8-24" name="__codelineno-8-24"></a><span class="p">}</span>
<a id="__codelineno-8-25" name="__codelineno-8-25"></a><span class="kt">void</span><span class="w"> </span><span class="nf">solve</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-8-26" name="__codelineno-8-26"></a><span class="w">    </span><span class="n">ifstream</span><span class="w"> </span><span class="n">fin</span><span class="p">(</span><span class="s">&quot;E:/UTokyo_Entrance_Exam/CI/2019_summer/image2.txt&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">ios</span><span class="o">::</span><span class="n">in</span><span class="p">);</span>
<a id="__codelineno-8-27" name="__codelineno-8-27"></a><span class="w">    </span><span class="n">ofstream</span><span class="w"> </span><span class="n">fout</span><span class="p">(</span><span class="s">&quot;E:/UTokyo_Entrance_Exam/CI/2019_summer/ans4.txt&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">ios</span><span class="o">::</span><span class="n">out</span><span class="p">);</span>
<a id="__codelineno-8-28" name="__codelineno-8-28"></a><span class="w">    </span><span class="n">vector</span><span class="o">&lt;</span><span class="n">tii</span><span class="o">&gt;</span><span class="w"> </span><span class="n">vec</span><span class="p">;</span>
<a id="__codelineno-8-29" name="__codelineno-8-29"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">num1</span><span class="p">,</span><span class="w"> </span><span class="n">num2</span><span class="p">,</span><span class="w"> </span><span class="n">num3</span><span class="p">;</span>
<a id="__codelineno-8-30" name="__codelineno-8-30"></a><span class="w">    </span><span class="n">vector</span><span class="o">&lt;</span><span class="n">Node</span><span class="o">&gt;</span><span class="w"> </span><span class="n">vec2</span><span class="p">;</span>
<a id="__codelineno-8-31" name="__codelineno-8-31"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">cnt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="__codelineno-8-32" name="__codelineno-8-32"></a><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">fin</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">num1</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">num2</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">num3</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-8-33" name="__codelineno-8-33"></a><span class="w">        </span><span class="n">vec</span><span class="p">.</span><span class="n">push_back</span><span class="p">({</span><span class="n">num1</span><span class="p">,</span><span class="w"> </span><span class="n">num2</span><span class="p">,</span><span class="w"> </span><span class="n">num3</span><span class="p">});</span>
<a id="__codelineno-8-34" name="__codelineno-8-34"></a><span class="w">        </span><span class="n">vec2</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">Node</span><span class="p">{</span><span class="n">num1</span><span class="p">,</span><span class="w"> </span><span class="n">num2</span><span class="p">,</span><span class="w"> </span><span class="n">num3</span><span class="p">,</span><span class="w"> </span><span class="n">cal</span><span class="p">(</span><span class="n">num1</span><span class="p">,</span><span class="w"> </span><span class="n">num2</span><span class="p">,</span><span class="w"> </span><span class="n">num3</span><span class="p">),</span><span class="w"> </span><span class="n">cnt</span><span class="o">++</span><span class="p">});</span>
<a id="__codelineno-8-35" name="__codelineno-8-35"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-8-36" name="__codelineno-8-36"></a><span class="w">    </span><span class="n">sort</span><span class="p">(</span><span class="n">vec2</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span><span class="w"> </span><span class="n">vec2</span><span class="p">.</span><span class="n">end</span><span class="p">(),</span><span class="w"> </span><span class="n">cmp</span><span class="p">);</span>
<a id="__codelineno-8-37" name="__codelineno-8-37"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">vec2</span><span class="p">.</span><span class="n">size</span><span class="p">(),</span><span class="w"> </span><span class="n">k</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span><span class="p">;</span>
<a id="__codelineno-8-38" name="__codelineno-8-38"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">4</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-8-39" name="__codelineno-8-39"></a><span class="w">        </span><span class="n">Node</span><span class="w"> </span><span class="n">ei</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">vec2</span><span class="p">[</span><span class="n">n</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">k</span><span class="p">];</span>
<a id="__codelineno-8-40" name="__codelineno-8-40"></a><span class="w">        </span><span class="n">fout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;e(&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;) pixel: (&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">ei</span><span class="p">.</span><span class="n">a</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">ei</span><span class="p">.</span><span class="n">b</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">ei</span><span class="p">.</span><span class="n">c</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;), index &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">ei</span><span class="p">.</span><span class="n">id</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
<a id="__codelineno-8-41" name="__codelineno-8-41"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-8-42" name="__codelineno-8-42"></a><span class="p">}</span>
<a id="__codelineno-8-43" name="__codelineno-8-43"></a><span class="kt">signed</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-8-44" name="__codelineno-8-44"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<a id="__codelineno-8-45" name="__codelineno-8-45"></a><span class="w">    </span><span class="c1">// cin &gt;&gt; t;</span>
<a id="__codelineno-8-46" name="__codelineno-8-46"></a><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">t</span><span class="o">--</span><span class="p">)</span>
<a id="__codelineno-8-47" name="__codelineno-8-47"></a><span class="w">        </span><span class="n">solve</span><span class="p">();</span>
<a id="__codelineno-8-48" name="__codelineno-8-48"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="__codelineno-8-49" name="__codelineno-8-49"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<h3 id="5">(5)<a class="headerlink" href="#5" title="Permanent link"></a></h3>
<h4 id="tomfluffs-solution_3">tomfluff's solution<a class="headerlink" href="#tomfluffs-solution_3" title="Permanent link"></a></h4>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-9-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-9-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-9-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-9-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-9-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-9-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-9-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-9-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-9-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-9-10">10</a></span>
<span class="normal"><a href="#__codelineno-9-11">11</a></span>
<span class="normal"><a href="#__codelineno-9-12">12</a></span>
<span class="normal"><a href="#__codelineno-9-13">13</a></span>
<span class="normal"><a href="#__codelineno-9-14">14</a></span>
<span class="normal"><a href="#__codelineno-9-15">15</a></span>
<span class="normal"><a href="#__codelineno-9-16">16</a></span>
<span class="normal"><a href="#__codelineno-9-17">17</a></span>
<span class="normal"><a href="#__codelineno-9-18">18</a></span>
<span class="normal"><a href="#__codelineno-9-19">19</a></span>
<span class="normal"><a href="#__codelineno-9-20">20</a></span>
<span class="normal"><a href="#__codelineno-9-21">21</a></span>
<span class="normal"><a href="#__codelineno-9-22">22</a></span>
<span class="normal"><a href="#__codelineno-9-23">23</a></span>
<span class="normal"><a href="#__codelineno-9-24">24</a></span>
<span class="normal"><a href="#__codelineno-9-25">25</a></span>
<span class="normal"><a href="#__codelineno-9-26">26</a></span>
<span class="normal"><a href="#__codelineno-9-27">27</a></span>
<span class="normal"><a href="#__codelineno-9-28">28</a></span>
<span class="normal"><a href="#__codelineno-9-29">29</a></span>
<span class="normal"><a href="#__codelineno-9-30">30</a></span>
<span class="normal"><a href="#__codelineno-9-31">31</a></span>
<span class="normal"><a href="#__codelineno-9-32">32</a></span>
<span class="normal"><a href="#__codelineno-9-33">33</a></span>
<span class="normal"><a href="#__codelineno-9-34">34</a></span>
<span class="normal"><a href="#__codelineno-9-35">35</a></span>
<span class="normal"><a href="#__codelineno-9-36">36</a></span>
<span class="normal"><a href="#__codelineno-9-37">37</a></span>
<span class="normal"><a href="#__codelineno-9-38">38</a></span>
<span class="normal"><a href="#__codelineno-9-39">39</a></span>
<span class="normal"><a href="#__codelineno-9-40">40</a></span>
<span class="normal"><a href="#__codelineno-9-41">41</a></span>
<span class="normal"><a href="#__codelineno-9-42">42</a></span>
<span class="normal"><a href="#__codelineno-9-43">43</a></span>
<span class="normal"><a href="#__codelineno-9-44">44</a></span>
<span class="normal"><a href="#__codelineno-9-45">45</a></span>
<span class="normal"><a href="#__codelineno-9-46">46</a></span>
<span class="normal"><a href="#__codelineno-9-47">47</a></span>
<span class="normal"><a href="#__codelineno-9-48">48</a></span>
<span class="normal"><a href="#__codelineno-9-49">49</a></span>
<span class="normal"><a href="#__codelineno-9-50">50</a></span>
<span class="normal"><a href="#__codelineno-9-51">51</a></span>
<span class="normal"><a href="#__codelineno-9-52">52</a></span>
<span class="normal"><a href="#__codelineno-9-53">53</a></span>
<span class="normal"><a href="#__codelineno-9-54">54</a></span>
<span class="normal"><a href="#__codelineno-9-55">55</a></span>
<span class="normal"><a href="#__codelineno-9-56">56</a></span>
<span class="normal"><a href="#__codelineno-9-57">57</a></span>
<span class="normal"><a href="#__codelineno-9-58">58</a></span>
<span class="normal"><a href="#__codelineno-9-59">59</a></span>
<span class="normal"><a href="#__codelineno-9-60">60</a></span>
<span class="normal"><a href="#__codelineno-9-61">61</a></span>
<span class="normal"><a href="#__codelineno-9-62">62</a></span>
<span class="normal"><a href="#__codelineno-9-63">63</a></span>
<span class="normal"><a href="#__codelineno-9-64">64</a></span>
<span class="normal"><a href="#__codelineno-9-65">65</a></span>
<span class="normal"><a href="#__codelineno-9-66">66</a></span>
<span class="normal"><a href="#__codelineno-9-67">67</a></span>
<span class="normal"><a href="#__codelineno-9-68">68</a></span>
<span class="normal"><a href="#__codelineno-9-69">69</a></span>
<span class="normal"><a href="#__codelineno-9-70">70</a></span>
<span class="normal"><a href="#__codelineno-9-71">71</a></span>
<span class="normal"><a href="#__codelineno-9-72">72</a></span>
<span class="normal"><a href="#__codelineno-9-73">73</a></span>
<span class="normal"><a href="#__codelineno-9-74">74</a></span>
<span class="normal"><a href="#__codelineno-9-75">75</a></span>
<span class="normal"><a href="#__codelineno-9-76">76</a></span>
<span class="normal"><a href="#__codelineno-9-77">77</a></span>
<span class="normal"><a href="#__codelineno-9-78">78</a></span>
<span class="normal"><a href="#__codelineno-9-79">79</a></span>
<span class="normal"><a href="#__codelineno-9-80">80</a></span>
<span class="normal"><a href="#__codelineno-9-81">81</a></span>
<span class="normal"><a href="#__codelineno-9-82">82</a></span>
<span class="normal"><a href="#__codelineno-9-83">83</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">locale</span><span class="w"> </span><span class="kn">import</span> <span class="n">atoi</span>
<a id="__codelineno-9-2" name="__codelineno-9-2"></a>
<a id="__codelineno-9-3" name="__codelineno-9-3"></a>
<a id="__codelineno-9-4" name="__codelineno-9-4"></a><span class="k">def</span><span class="w"> </span><span class="nf">p_distance</span><span class="p">(</span><span class="n">p1</span><span class="p">,</span><span class="n">p2</span><span class="p">):</span>
<a id="__codelineno-9-5" name="__codelineno-9-5"></a>    <span class="k">return</span> <span class="nb">abs</span><span class="p">(</span><span class="n">p1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">-</span><span class="n">p2</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">+</span><span class="nb">abs</span><span class="p">(</span><span class="n">p1</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">p2</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span><span class="o">+</span><span class="nb">abs</span><span class="p">(</span><span class="n">p1</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">-</span><span class="n">p2</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
<a id="__codelineno-9-6" name="__codelineno-9-6"></a>
<a id="__codelineno-9-7" name="__codelineno-9-7"></a><span class="k">def</span><span class="w"> </span><span class="nf">find_cluster_index</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">clus_arr</span><span class="p">):</span>
<a id="__codelineno-9-8" name="__codelineno-9-8"></a>    <span class="n">best_c</span> <span class="o">=</span> <span class="mi">0</span>
<a id="__codelineno-9-9" name="__codelineno-9-9"></a>    <span class="n">best_d</span> <span class="o">=</span> <span class="mi">3</span><span class="o">*</span><span class="mi">255</span>
<a id="__codelineno-9-10" name="__codelineno-9-10"></a>    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">clus_arr</span><span class="p">)):</span>
<a id="__codelineno-9-11" name="__codelineno-9-11"></a>        <span class="n">d</span> <span class="o">=</span> <span class="n">p_distance</span><span class="p">(</span><span class="n">p</span><span class="p">,</span><span class="n">clus_arr</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
<a id="__codelineno-9-12" name="__codelineno-9-12"></a>        <span class="k">if</span> <span class="n">d</span> <span class="o">&lt;</span> <span class="n">best_d</span><span class="p">:</span>
<a id="__codelineno-9-13" name="__codelineno-9-13"></a>            <span class="n">best_d</span> <span class="o">=</span> <span class="n">d</span>
<a id="__codelineno-9-14" name="__codelineno-9-14"></a>            <span class="n">best_c</span> <span class="o">=</span> <span class="n">i</span>
<a id="__codelineno-9-15" name="__codelineno-9-15"></a>
<a id="__codelineno-9-16" name="__codelineno-9-16"></a>    <span class="k">return</span> <span class="n">best_c</span>
<a id="__codelineno-9-17" name="__codelineno-9-17"></a>
<a id="__codelineno-9-18" name="__codelineno-9-18"></a><span class="k">def</span><span class="w"> </span><span class="nf">get_inital_representatives</span><span class="p">(</span><span class="n">pxls</span><span class="p">,</span><span class="n">k</span><span class="p">):</span>
<a id="__codelineno-9-19" name="__codelineno-9-19"></a>    <span class="n">pxls</span><span class="o">.</span><span class="n">reverse</span><span class="p">()</span>
<a id="__codelineno-9-20" name="__codelineno-9-20"></a>    <span class="n">pxls_sr</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">pxls</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="n">x</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">*</span><span class="n">x</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
<a id="__codelineno-9-21" name="__codelineno-9-21"></a>    <span class="n">pxls</span><span class="o">.</span><span class="n">reverse</span><span class="p">()</span>
<a id="__codelineno-9-22" name="__codelineno-9-22"></a>
<a id="__codelineno-9-23" name="__codelineno-9-23"></a>    <span class="n">p</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">pxls_sr</span><span class="p">)</span><span class="o">//</span><span class="n">k</span>
<a id="__codelineno-9-24" name="__codelineno-9-24"></a>    <span class="n">rps</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-9-25" name="__codelineno-9-25"></a>    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">k</span><span class="p">):</span>
<a id="__codelineno-9-26" name="__codelineno-9-26"></a>        <span class="n">rps</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pxls_sr</span><span class="p">[</span><span class="n">p</span><span class="o">*</span><span class="n">i</span><span class="p">])</span>
<a id="__codelineno-9-27" name="__codelineno-9-27"></a>
<a id="__codelineno-9-28" name="__codelineno-9-28"></a>    <span class="k">return</span> <span class="n">rps</span>
<a id="__codelineno-9-29" name="__codelineno-9-29"></a>
<a id="__codelineno-9-30" name="__codelineno-9-30"></a><span class="k">def</span><span class="w"> </span><span class="nf">find_next_representatives</span><span class="p">(</span><span class="n">pxls</span><span class="p">,</span> <span class="n">cens</span><span class="p">):</span>
<a id="__codelineno-9-31" name="__codelineno-9-31"></a>    <span class="nb">repr</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-9-32" name="__codelineno-9-32"></a>    <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">cens</span><span class="p">:</span>
<a id="__codelineno-9-33" name="__codelineno-9-33"></a>        <span class="n">best_d</span> <span class="o">=</span> <span class="mi">255</span><span class="o">*</span><span class="mi">3</span>
<a id="__codelineno-9-34" name="__codelineno-9-34"></a>        <span class="n">best_p</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
<a id="__codelineno-9-35" name="__codelineno-9-35"></a>        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">pxls</span><span class="p">)):</span>
<a id="__codelineno-9-36" name="__codelineno-9-36"></a>            <span class="n">d</span> <span class="o">=</span> <span class="n">p_distance</span><span class="p">(</span><span class="n">pxls</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="n">c</span><span class="p">)</span>
<a id="__codelineno-9-37" name="__codelineno-9-37"></a>            <span class="k">if</span> <span class="n">d</span> <span class="o">&lt;</span> <span class="n">best_d</span><span class="p">:</span>
<a id="__codelineno-9-38" name="__codelineno-9-38"></a>                <span class="n">best_d</span> <span class="o">=</span> <span class="n">d</span>
<a id="__codelineno-9-39" name="__codelineno-9-39"></a>                <span class="n">best_p</span> <span class="o">=</span> <span class="n">i</span>
<a id="__codelineno-9-40" name="__codelineno-9-40"></a>            <span class="k">elif</span> <span class="n">d</span> <span class="o">==</span> <span class="n">best_d</span><span class="p">:</span>
<a id="__codelineno-9-41" name="__codelineno-9-41"></a>                <span class="k">if</span> <span class="n">pxls</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">3</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">pxls</span><span class="p">[</span><span class="n">best_p</span><span class="p">][</span><span class="mi">3</span><span class="p">]:</span>
<a id="__codelineno-9-42" name="__codelineno-9-42"></a>                    <span class="n">best_p</span> <span class="o">=</span> <span class="n">i</span>
<a id="__codelineno-9-43" name="__codelineno-9-43"></a>        <span class="nb">repr</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pxls</span><span class="p">[</span><span class="n">best_p</span><span class="p">])</span>
<a id="__codelineno-9-44" name="__codelineno-9-44"></a>    <span class="k">return</span> <span class="nb">repr</span>
<a id="__codelineno-9-45" name="__codelineno-9-45"></a>
<a id="__codelineno-9-46" name="__codelineno-9-46"></a>
<a id="__codelineno-9-47" name="__codelineno-9-47"></a><span class="c1"># Can make this whole faster by using numpy, should consider upgrading</span>
<a id="__codelineno-9-48" name="__codelineno-9-48"></a><span class="k">def</span><span class="w"> </span><span class="nf">main</span><span class="p">():</span>
<a id="__codelineno-9-49" name="__codelineno-9-49"></a>    <span class="n">pxls</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-9-50" name="__codelineno-9-50"></a>    <span class="n">k</span> <span class="o">=</span> <span class="mi">128</span>
<a id="__codelineno-9-51" name="__codelineno-9-51"></a>    <span class="n">iter_lm</span> <span class="o">=</span> <span class="mi">10</span>
<a id="__codelineno-9-52" name="__codelineno-9-52"></a>
<a id="__codelineno-9-53" name="__codelineno-9-53"></a>    <span class="n">lines</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-9-54" name="__codelineno-9-54"></a>    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;2019-Summer/image1.txt&#39;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
<a id="__codelineno-9-55" name="__codelineno-9-55"></a>        <span class="n">lines</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">readlines</span><span class="p">()</span>
<a id="__codelineno-9-56" name="__codelineno-9-56"></a>
<a id="__codelineno-9-57" name="__codelineno-9-57"></a>    <span class="k">for</span> <span class="n">l</span> <span class="ow">in</span> <span class="n">lines</span><span class="p">:</span>
<a id="__codelineno-9-58" name="__codelineno-9-58"></a>        <span class="n">ns</span> <span class="o">=</span> <span class="p">[</span><span class="n">atoi</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">l</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">)]</span>
<a id="__codelineno-9-59" name="__codelineno-9-59"></a>        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">ns</span><span class="p">),</span><span class="mi">3</span><span class="p">):</span>
<a id="__codelineno-9-60" name="__codelineno-9-60"></a>            <span class="n">pxls</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">ns</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="n">ns</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span><span class="n">ns</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">2</span><span class="p">],</span><span class="n">i</span><span class="o">//</span><span class="mi">3</span><span class="p">))</span>
<a id="__codelineno-9-61" name="__codelineno-9-61"></a>
<a id="__codelineno-9-62" name="__codelineno-9-62"></a>    <span class="nb">repr</span> <span class="o">=</span> <span class="n">get_inital_representatives</span><span class="p">(</span><span class="n">pxls</span><span class="p">,</span><span class="n">k</span><span class="p">)</span>
<a id="__codelineno-9-63" name="__codelineno-9-63"></a>
<a id="__codelineno-9-64" name="__codelineno-9-64"></a>    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">iter_lm</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
<a id="__codelineno-9-65" name="__codelineno-9-65"></a>        <span class="n">cens</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">repr</span><span class="p">]</span>
<a id="__codelineno-9-66" name="__codelineno-9-66"></a>        <span class="n">cens_i</span> <span class="o">=</span> <span class="p">[</span><span class="nb">list</span><span class="p">()</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">repr</span><span class="p">]</span>
<a id="__codelineno-9-67" name="__codelineno-9-67"></a>        <span class="n">n_check</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">pxls</span><span class="p">)</span>
<a id="__codelineno-9-68" name="__codelineno-9-68"></a>        <span class="k">for</span> <span class="n">px</span> <span class="ow">in</span> <span class="n">pxls</span><span class="p">:</span>
<a id="__codelineno-9-69" name="__codelineno-9-69"></a>            <span class="n">c_i</span> <span class="o">=</span> <span class="n">find_cluster_index</span><span class="p">(</span><span class="n">px</span><span class="p">,</span><span class="nb">repr</span><span class="p">)</span>
<a id="__codelineno-9-70" name="__codelineno-9-70"></a>            <span class="n">cens_i</span><span class="p">[</span><span class="n">c_i</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">px</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span>
<a id="__codelineno-9-71" name="__codelineno-9-71"></a>        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">cens</span><span class="p">)):</span>
<a id="__codelineno-9-72" name="__codelineno-9-72"></a>            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">cens_i</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
<a id="__codelineno-9-73" name="__codelineno-9-73"></a>                <span class="n">cens</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">cens</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="n">pxls</span><span class="p">[</span><span class="n">j</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">cens_i</span><span class="p">[</span><span class="n">i</span><span class="p">]),</span> <span class="n">cens</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="n">pxls</span><span class="p">[</span><span class="n">j</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">cens_i</span><span class="p">[</span><span class="n">i</span><span class="p">]),</span> <span class="n">cens</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span><span class="o">+</span><span class="n">pxls</span><span class="p">[</span><span class="n">j</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">cens_i</span><span class="p">[</span><span class="n">i</span><span class="p">]))</span>
<a id="__codelineno-9-74" name="__codelineno-9-74"></a>            <span class="n">n_check</span> <span class="o">-=</span> <span class="nb">len</span><span class="p">(</span><span class="n">cens_i</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
<a id="__codelineno-9-75" name="__codelineno-9-75"></a>        <span class="k">assert</span> <span class="n">n_check</span> <span class="o">==</span> <span class="mi">0</span>
<a id="__codelineno-9-76" name="__codelineno-9-76"></a>        <span class="c1"># find new reps</span>
<a id="__codelineno-9-77" name="__codelineno-9-77"></a>        <span class="nb">repr</span> <span class="o">=</span> <span class="n">find_next_representatives</span><span class="p">(</span><span class="n">pxls</span><span class="p">,</span> <span class="n">cens</span><span class="p">)</span>
<a id="__codelineno-9-78" name="__codelineno-9-78"></a>    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="nb">repr</span><span class="p">)):</span>
<a id="__codelineno-9-79" name="__codelineno-9-79"></a>        <span class="k">if</span> <span class="n">i</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">40</span><span class="p">,</span><span class="mi">80</span><span class="p">,</span><span class="mi">120</span><span class="p">]:</span>
<a id="__codelineno-9-80" name="__codelineno-9-80"></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;p(i=</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">): </span><span class="si">{</span><span class="nb">repr</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-9-81" name="__codelineno-9-81"></a>
<a id="__codelineno-9-82" name="__codelineno-9-82"></a><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
<a id="__codelineno-9-83" name="__codelineno-9-83"></a>    <span class="n">main</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
<h4 id="funtotals-solution_4">FunTotal's solution<a class="headerlink" href="#funtotals-solution_4" title="Permanent link"></a></h4>
<p>C++ solution:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-10-1">  1</a></span>
<span class="normal"><a href="#__codelineno-10-2">  2</a></span>
<span class="normal"><a href="#__codelineno-10-3">  3</a></span>
<span class="normal"><a href="#__codelineno-10-4">  4</a></span>
<span class="normal"><a href="#__codelineno-10-5">  5</a></span>
<span class="normal"><a href="#__codelineno-10-6">  6</a></span>
<span class="normal"><a href="#__codelineno-10-7">  7</a></span>
<span class="normal"><a href="#__codelineno-10-8">  8</a></span>
<span class="normal"><a href="#__codelineno-10-9">  9</a></span>
<span class="normal"><a href="#__codelineno-10-10"> 10</a></span>
<span class="normal"><a href="#__codelineno-10-11"> 11</a></span>
<span class="normal"><a href="#__codelineno-10-12"> 12</a></span>
<span class="normal"><a href="#__codelineno-10-13"> 13</a></span>
<span class="normal"><a href="#__codelineno-10-14"> 14</a></span>
<span class="normal"><a href="#__codelineno-10-15"> 15</a></span>
<span class="normal"><a href="#__codelineno-10-16"> 16</a></span>
<span class="normal"><a href="#__codelineno-10-17"> 17</a></span>
<span class="normal"><a href="#__codelineno-10-18"> 18</a></span>
<span class="normal"><a href="#__codelineno-10-19"> 19</a></span>
<span class="normal"><a href="#__codelineno-10-20"> 20</a></span>
<span class="normal"><a href="#__codelineno-10-21"> 21</a></span>
<span class="normal"><a href="#__codelineno-10-22"> 22</a></span>
<span class="normal"><a href="#__codelineno-10-23"> 23</a></span>
<span class="normal"><a href="#__codelineno-10-24"> 24</a></span>
<span class="normal"><a href="#__codelineno-10-25"> 25</a></span>
<span class="normal"><a href="#__codelineno-10-26"> 26</a></span>
<span class="normal"><a href="#__codelineno-10-27"> 27</a></span>
<span class="normal"><a href="#__codelineno-10-28"> 28</a></span>
<span class="normal"><a href="#__codelineno-10-29"> 29</a></span>
<span class="normal"><a href="#__codelineno-10-30"> 30</a></span>
<span class="normal"><a href="#__codelineno-10-31"> 31</a></span>
<span class="normal"><a href="#__codelineno-10-32"> 32</a></span>
<span class="normal"><a href="#__codelineno-10-33"> 33</a></span>
<span class="normal"><a href="#__codelineno-10-34"> 34</a></span>
<span class="normal"><a href="#__codelineno-10-35"> 35</a></span>
<span class="normal"><a href="#__codelineno-10-36"> 36</a></span>
<span class="normal"><a href="#__codelineno-10-37"> 37</a></span>
<span class="normal"><a href="#__codelineno-10-38"> 38</a></span>
<span class="normal"><a href="#__codelineno-10-39"> 39</a></span>
<span class="normal"><a href="#__codelineno-10-40"> 40</a></span>
<span class="normal"><a href="#__codelineno-10-41"> 41</a></span>
<span class="normal"><a href="#__codelineno-10-42"> 42</a></span>
<span class="normal"><a href="#__codelineno-10-43"> 43</a></span>
<span class="normal"><a href="#__codelineno-10-44"> 44</a></span>
<span class="normal"><a href="#__codelineno-10-45"> 45</a></span>
<span class="normal"><a href="#__codelineno-10-46"> 46</a></span>
<span class="normal"><a href="#__codelineno-10-47"> 47</a></span>
<span class="normal"><a href="#__codelineno-10-48"> 48</a></span>
<span class="normal"><a href="#__codelineno-10-49"> 49</a></span>
<span class="normal"><a href="#__codelineno-10-50"> 50</a></span>
<span class="normal"><a href="#__codelineno-10-51"> 51</a></span>
<span class="normal"><a href="#__codelineno-10-52"> 52</a></span>
<span class="normal"><a href="#__codelineno-10-53"> 53</a></span>
<span class="normal"><a href="#__codelineno-10-54"> 54</a></span>
<span class="normal"><a href="#__codelineno-10-55"> 55</a></span>
<span class="normal"><a href="#__codelineno-10-56"> 56</a></span>
<span class="normal"><a href="#__codelineno-10-57"> 57</a></span>
<span class="normal"><a href="#__codelineno-10-58"> 58</a></span>
<span class="normal"><a href="#__codelineno-10-59"> 59</a></span>
<span class="normal"><a href="#__codelineno-10-60"> 60</a></span>
<span class="normal"><a href="#__codelineno-10-61"> 61</a></span>
<span class="normal"><a href="#__codelineno-10-62"> 62</a></span>
<span class="normal"><a href="#__codelineno-10-63"> 63</a></span>
<span class="normal"><a href="#__codelineno-10-64"> 64</a></span>
<span class="normal"><a href="#__codelineno-10-65"> 65</a></span>
<span class="normal"><a href="#__codelineno-10-66"> 66</a></span>
<span class="normal"><a href="#__codelineno-10-67"> 67</a></span>
<span class="normal"><a href="#__codelineno-10-68"> 68</a></span>
<span class="normal"><a href="#__codelineno-10-69"> 69</a></span>
<span class="normal"><a href="#__codelineno-10-70"> 70</a></span>
<span class="normal"><a href="#__codelineno-10-71"> 71</a></span>
<span class="normal"><a href="#__codelineno-10-72"> 72</a></span>
<span class="normal"><a href="#__codelineno-10-73"> 73</a></span>
<span class="normal"><a href="#__codelineno-10-74"> 74</a></span>
<span class="normal"><a href="#__codelineno-10-75"> 75</a></span>
<span class="normal"><a href="#__codelineno-10-76"> 76</a></span>
<span class="normal"><a href="#__codelineno-10-77"> 77</a></span>
<span class="normal"><a href="#__codelineno-10-78"> 78</a></span>
<span class="normal"><a href="#__codelineno-10-79"> 79</a></span>
<span class="normal"><a href="#__codelineno-10-80"> 80</a></span>
<span class="normal"><a href="#__codelineno-10-81"> 81</a></span>
<span class="normal"><a href="#__codelineno-10-82"> 82</a></span>
<span class="normal"><a href="#__codelineno-10-83"> 83</a></span>
<span class="normal"><a href="#__codelineno-10-84"> 84</a></span>
<span class="normal"><a href="#__codelineno-10-85"> 85</a></span>
<span class="normal"><a href="#__codelineno-10-86"> 86</a></span>
<span class="normal"><a href="#__codelineno-10-87"> 87</a></span>
<span class="normal"><a href="#__codelineno-10-88"> 88</a></span>
<span class="normal"><a href="#__codelineno-10-89"> 89</a></span>
<span class="normal"><a href="#__codelineno-10-90"> 90</a></span>
<span class="normal"><a href="#__codelineno-10-91"> 91</a></span>
<span class="normal"><a href="#__codelineno-10-92"> 92</a></span>
<span class="normal"><a href="#__codelineno-10-93"> 93</a></span>
<span class="normal"><a href="#__codelineno-10-94"> 94</a></span>
<span class="normal"><a href="#__codelineno-10-95"> 95</a></span>
<span class="normal"><a href="#__codelineno-10-96"> 96</a></span>
<span class="normal"><a href="#__codelineno-10-97"> 97</a></span>
<span class="normal"><a href="#__codelineno-10-98"> 98</a></span>
<span class="normal"><a href="#__codelineno-10-99"> 99</a></span>
<span class="normal"><a href="#__codelineno-10-100">100</a></span>
<span class="normal"><a href="#__codelineno-10-101">101</a></span>
<span class="normal"><a href="#__codelineno-10-102">102</a></span>
<span class="normal"><a href="#__codelineno-10-103">103</a></span>
<span class="normal"><a href="#__codelineno-10-104">104</a></span>
<span class="normal"><a href="#__codelineno-10-105">105</a></span>
<span class="normal"><a href="#__codelineno-10-106">106</a></span>
<span class="normal"><a href="#__codelineno-10-107">107</a></span>
<span class="normal"><a href="#__codelineno-10-108">108</a></span>
<span class="normal"><a href="#__codelineno-10-109">109</a></span>
<span class="normal"><a href="#__codelineno-10-110">110</a></span>
<span class="normal"><a href="#__codelineno-10-111">111</a></span>
<span class="normal"><a href="#__codelineno-10-112">112</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1"></a><span class="cm">/*</span>
<a id="__codelineno-10-2" name="__codelineno-10-2"></a><span class="cm">这一题就明显能看出来c++的优势了, 对于这种不涉及太多计算,</span>
<a id="__codelineno-10-3" name="__codelineno-10-3"></a><span class="cm">主要是按照题意模拟的题用C++ 速度快很多,大概十几秒就跑出来结果,</span>
<a id="__codelineno-10-4" name="__codelineno-10-4"></a>
<a id="__codelineno-10-5" name="__codelineno-10-5"></a><span class="cm">楼上的py代码有比较明显的bug，每个聚类的初始元素就求错了，但是它第四问的结果是对的，而且在迭代</span>
<a id="__codelineno-10-6" name="__codelineno-10-6"></a><span class="cm">过程里，题意是只在每个聚类内寻找距离重心最近的点，而他的代码是遍历所有的点，而且在求重心过程里</span>
<a id="__codelineno-10-7" name="__codelineno-10-7"></a><span class="cm">他没用floor函数，这也可能导致不同。还有楼上的py代码在对每个点找归属的类时忘记判断等距离情况，</span>
<a id="__codelineno-10-8" name="__codelineno-10-8"></a><span class="cm">我调了半天才发现这个bug，在修改了上述bug后，用改进的py代码跑出来的结果跟我的c++结果相同。</span>
<a id="__codelineno-10-9" name="__codelineno-10-9"></a>
<a id="__codelineno-10-10" name="__codelineno-10-10"></a><span class="cm">image2.txt得到的结果是:</span>
<a id="__codelineno-10-11" name="__codelineno-10-11"></a><span class="cm">p(i=40): (98 98 98) , index 1639792</span>
<a id="__codelineno-10-12" name="__codelineno-10-12"></a><span class="cm">p(i=80): (137 137 137) , index 1639595</span>
<a id="__codelineno-10-13" name="__codelineno-10-13"></a><span class="cm">p(i=120): (181 181 181) , index 1639802</span>
<a id="__codelineno-10-14" name="__codelineno-10-14"></a>
<a id="__codelineno-10-15" name="__codelineno-10-15"></a><span class="cm">image3.txt得到的结果是:</span>
<a id="__codelineno-10-16" name="__codelineno-10-16"></a><span class="cm">p(i=2): (29 34 50) , index 1061557</span>
<a id="__codelineno-10-17" name="__codelineno-10-17"></a><span class="cm">p(i=4): (52 66 101) , index 1040155</span>
<a id="__codelineno-10-18" name="__codelineno-10-18"></a><span class="cm">p(i=6): (83 142 207) , index 327456</span>
<a id="__codelineno-10-19" name="__codelineno-10-19"></a>
<a id="__codelineno-10-20" name="__codelineno-10-20"></a><span class="cm">*/</span>
<a id="__codelineno-10-21" name="__codelineno-10-21"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;bits/stdc++.h&gt;</span>
<a id="__codelineno-10-22" name="__codelineno-10-22"></a><span class="cp">#define int long long</span>
<a id="__codelineno-10-23" name="__codelineno-10-23"></a><span class="cp">#define tii tuple&lt;int, int, int&gt;</span>
<a id="__codelineno-10-24" name="__codelineno-10-24"></a><span class="k">using</span><span class="w"> </span><span class="k">namespace</span><span class="w"> </span><span class="nn">std</span><span class="p">;</span>
<a id="__codelineno-10-25" name="__codelineno-10-25"></a><span class="k">struct</span><span class="w"> </span><span class="nc">Node</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-10-26" name="__codelineno-10-26"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="n">c</span><span class="p">,</span><span class="w"> </span><span class="n">val</span><span class="p">,</span><span class="w"> </span><span class="n">id</span><span class="p">;</span>
<a id="__codelineno-10-27" name="__codelineno-10-27"></a><span class="p">};</span>
<a id="__codelineno-10-28" name="__codelineno-10-28"></a><span class="kt">bool</span><span class="w"> </span><span class="nf">cmp</span><span class="p">(</span><span class="n">Node</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">Node</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-10-29" name="__codelineno-10-29"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="p">.</span><span class="n">val</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">val</span><span class="p">)</span>
<a id="__codelineno-10-30" name="__codelineno-10-30"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="n">val</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">val</span><span class="p">;</span>
<a id="__codelineno-10-31" name="__codelineno-10-31"></a><span class="w">    </span><span class="k">else</span>
<a id="__codelineno-10-32" name="__codelineno-10-32"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="n">id</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">id</span><span class="p">;</span>
<a id="__codelineno-10-33" name="__codelineno-10-33"></a><span class="p">}</span>
<a id="__codelineno-10-34" name="__codelineno-10-34"></a><span class="kt">int</span><span class="w"> </span><span class="nf">cal</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">c</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-10-35" name="__codelineno-10-35"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">c</span><span class="p">;</span>
<a id="__codelineno-10-36" name="__codelineno-10-36"></a><span class="p">}</span>
<a id="__codelineno-10-37" name="__codelineno-10-37"></a><span class="kt">int</span><span class="w"> </span><span class="nf">dis</span><span class="p">(</span><span class="n">Node</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">Node</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-10-38" name="__codelineno-10-38"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">abs</span><span class="p">(</span><span class="n">a</span><span class="p">.</span><span class="n">a</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">abs</span><span class="p">(</span><span class="n">a</span><span class="p">.</span><span class="n">b</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">abs</span><span class="p">(</span><span class="n">a</span><span class="p">.</span><span class="n">c</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">c</span><span class="p">);</span>
<a id="__codelineno-10-39" name="__codelineno-10-39"></a><span class="p">}</span>
<a id="__codelineno-10-40" name="__codelineno-10-40"></a><span class="kt">void</span><span class="w"> </span><span class="nf">solve</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-10-41" name="__codelineno-10-41"></a><span class="w">    </span><span class="n">ifstream</span><span class="w"> </span><span class="n">fin</span><span class="p">(</span><span class="s">&quot;E:/UTokyo_Entrance_Exam/CI/2019_summer/image3.txt&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">ios</span><span class="o">::</span><span class="n">in</span><span class="p">);</span>
<a id="__codelineno-10-42" name="__codelineno-10-42"></a><span class="w">    </span><span class="n">ofstream</span><span class="w"> </span><span class="n">fout</span><span class="p">(</span><span class="s">&quot;E:/UTokyo_Entrance_Exam/CI/2019_summer/ans53.txt&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">ios</span><span class="o">::</span><span class="n">out</span><span class="p">);</span>
<a id="__codelineno-10-43" name="__codelineno-10-43"></a><span class="w">    </span><span class="n">vector</span><span class="o">&lt;</span><span class="n">tii</span><span class="o">&gt;</span><span class="w"> </span><span class="n">vec</span><span class="p">;</span>
<a id="__codelineno-10-44" name="__codelineno-10-44"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">num1</span><span class="p">,</span><span class="w"> </span><span class="n">num2</span><span class="p">,</span><span class="w"> </span><span class="n">num3</span><span class="p">;</span>
<a id="__codelineno-10-45" name="__codelineno-10-45"></a><span class="w">    </span><span class="n">vector</span><span class="o">&lt;</span><span class="n">Node</span><span class="o">&gt;</span><span class="w"> </span><span class="n">vec2</span><span class="p">;</span>
<a id="__codelineno-10-46" name="__codelineno-10-46"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">cnt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="__codelineno-10-47" name="__codelineno-10-47"></a><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">fin</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">num1</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">num2</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">num3</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-10-48" name="__codelineno-10-48"></a><span class="w">        </span><span class="n">vec</span><span class="p">.</span><span class="n">push_back</span><span class="p">({</span><span class="n">num1</span><span class="p">,</span><span class="w"> </span><span class="n">num2</span><span class="p">,</span><span class="w"> </span><span class="n">num3</span><span class="p">});</span>
<a id="__codelineno-10-49" name="__codelineno-10-49"></a><span class="w">        </span><span class="n">vec2</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">Node</span><span class="p">{</span><span class="n">num1</span><span class="p">,</span><span class="w"> </span><span class="n">num2</span><span class="p">,</span><span class="w"> </span><span class="n">num3</span><span class="p">,</span><span class="w"> </span><span class="n">cal</span><span class="p">(</span><span class="n">num1</span><span class="p">,</span><span class="w"> </span><span class="n">num2</span><span class="p">,</span><span class="w"> </span><span class="n">num3</span><span class="p">),</span><span class="w"> </span><span class="n">cnt</span><span class="o">++</span><span class="p">});</span>
<a id="__codelineno-10-50" name="__codelineno-10-50"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-10-51" name="__codelineno-10-51"></a><span class="w">    </span><span class="n">sort</span><span class="p">(</span><span class="n">vec2</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span><span class="w"> </span><span class="n">vec2</span><span class="p">.</span><span class="n">end</span><span class="p">(),</span><span class="w"> </span><span class="n">cmp</span><span class="p">);</span>
<a id="__codelineno-10-52" name="__codelineno-10-52"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">vec2</span><span class="p">.</span><span class="n">size</span><span class="p">(),</span><span class="w"> </span><span class="n">k</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">8</span><span class="p">;</span>
<a id="__codelineno-10-53" name="__codelineno-10-53"></a><span class="w">    </span><span class="n">vector</span><span class="o">&lt;</span><span class="n">Node</span><span class="o">&gt;</span><span class="w"> </span><span class="n">repre</span><span class="p">(</span><span class="n">k</span><span class="p">);</span><span class="w"> </span><span class="c1">// k个代表元素</span>
<a id="__codelineno-10-54" name="__codelineno-10-54"></a><span class="w">    </span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="w"> </span><span class="n">is_repre</span><span class="p">(</span><span class="n">n</span><span class="p">);</span>
<a id="__codelineno-10-55" name="__codelineno-10-55"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">k</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-10-56" name="__codelineno-10-56"></a><span class="w">        </span><span class="n">Node</span><span class="w"> </span><span class="n">ei</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">vec2</span><span class="p">[</span><span class="n">n</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">k</span><span class="p">];</span>
<a id="__codelineno-10-57" name="__codelineno-10-57"></a><span class="w">        </span><span class="n">repre</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ei</span><span class="p">;</span>
<a id="__codelineno-10-58" name="__codelineno-10-58"></a><span class="w">        </span><span class="n">is_repre</span><span class="p">[</span><span class="n">ei</span><span class="p">.</span><span class="n">id</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<a id="__codelineno-10-59" name="__codelineno-10-59"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-10-60" name="__codelineno-10-60"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">repeat</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="n">repeat</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span><span class="w"> </span><span class="n">repeat</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-10-61" name="__codelineno-10-61"></a><span class="w">        </span><span class="n">vector</span><span class="o">&lt;</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">Node</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">group</span><span class="p">;</span>
<a id="__codelineno-10-62" name="__codelineno-10-62"></a><span class="w">        </span><span class="n">group</span><span class="p">.</span><span class="n">resize</span><span class="p">(</span><span class="n">k</span><span class="p">);</span><span class="w"> </span><span class="c1">// 开 k 个vector, 存每个group里面有哪些三元组</span>
<a id="__codelineno-10-63" name="__codelineno-10-63"></a><span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">k</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-10-64" name="__codelineno-10-64"></a><span class="w">            </span><span class="n">group</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">push_back</span><span class="p">(</span><span class="n">repre</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span><span class="w"> </span><span class="c1">//先把代表元素放进去</span>
<a id="__codelineno-10-65" name="__codelineno-10-65"></a><span class="w">        </span><span class="c1">// 枚举三元组, 遍历找最近的聚类</span>
<a id="__codelineno-10-66" name="__codelineno-10-66"></a><span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">n</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-10-67" name="__codelineno-10-67"></a><span class="w">            </span><span class="n">Node</span><span class="w"> </span><span class="n">now</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">vec2</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<a id="__codelineno-10-68" name="__codelineno-10-68"></a><span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">is_repre</span><span class="p">[</span><span class="n">now</span><span class="p">.</span><span class="n">id</span><span class="p">])</span><span class="w"> </span><span class="k">continue</span><span class="p">;</span><span class="w"> </span><span class="c1">// 去掉代表元素</span>
<a id="__codelineno-10-69" name="__codelineno-10-69"></a><span class="w">            </span><span class="kt">int</span><span class="w"> </span><span class="n">i_bel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// 当前元素属于的聚类编号</span>
<a id="__codelineno-10-70" name="__codelineno-10-70"></a><span class="w">            </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">k</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-10-71" name="__codelineno-10-71"></a><span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">dis</span><span class="p">(</span><span class="n">now</span><span class="p">,</span><span class="w"> </span><span class="n">repre</span><span class="p">[</span><span class="n">j</span><span class="p">])</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">dis</span><span class="p">(</span><span class="n">now</span><span class="p">,</span><span class="w"> </span><span class="n">repre</span><span class="p">[</span><span class="n">i_bel</span><span class="p">])</span><span class="w"> </span>
<a id="__codelineno-10-72" name="__codelineno-10-72"></a><span class="w">                </span><span class="o">||</span><span class="w"> </span><span class="n">dis</span><span class="p">(</span><span class="n">now</span><span class="p">,</span><span class="w"> </span><span class="n">repre</span><span class="p">[</span><span class="n">j</span><span class="p">])</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">dis</span><span class="p">(</span><span class="n">now</span><span class="p">,</span><span class="w"> </span><span class="n">repre</span><span class="p">[</span><span class="n">i_bel</span><span class="p">])</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">repre</span><span class="p">[</span><span class="n">j</span><span class="p">].</span><span class="n">id</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">repre</span><span class="p">[</span><span class="n">i_bel</span><span class="p">].</span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-10-73" name="__codelineno-10-73"></a><span class="w">                    </span><span class="c1">// 距离更近或者距离相同编号更大</span>
<a id="__codelineno-10-74" name="__codelineno-10-74"></a><span class="w">                    </span><span class="n">i_bel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">j</span><span class="p">;</span>
<a id="__codelineno-10-75" name="__codelineno-10-75"></a><span class="w">                </span><span class="p">}</span>
<a id="__codelineno-10-76" name="__codelineno-10-76"></a><span class="w">            </span><span class="p">}</span>
<a id="__codelineno-10-77" name="__codelineno-10-77"></a><span class="w">            </span><span class="n">group</span><span class="p">[</span><span class="n">i_bel</span><span class="p">].</span><span class="n">push_back</span><span class="p">(</span><span class="n">now</span><span class="p">);</span>
<a id="__codelineno-10-78" name="__codelineno-10-78"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-10-79" name="__codelineno-10-79"></a><span class="w">        </span><span class="c1">// 重新算每个聚类里的代表元素</span>
<a id="__codelineno-10-80" name="__codelineno-10-80"></a><span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">k</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-10-81" name="__codelineno-10-81"></a><span class="w">            </span><span class="n">Node</span><span class="w"> </span><span class="n">centroid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Node</span><span class="p">{</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">};</span><span class="w"> </span><span class="c1">// 每个聚类的重心</span>
<a id="__codelineno-10-82" name="__codelineno-10-82"></a><span class="w">            </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">auto</span><span class="w"> </span><span class="p">[</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="n">c</span><span class="p">,</span><span class="w"> </span><span class="n">val</span><span class="p">,</span><span class="w"> </span><span class="n">id</span><span class="p">]</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">group</span><span class="p">[</span><span class="n">i</span><span class="p">])</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-10-83" name="__codelineno-10-83"></a><span class="w">                </span><span class="n">centroid</span><span class="p">.</span><span class="n">a</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">centroid</span><span class="p">.</span><span class="n">b</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="n">centroid</span><span class="p">.</span><span class="n">c</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">c</span><span class="p">;</span>
<a id="__codelineno-10-84" name="__codelineno-10-84"></a><span class="w">            </span><span class="p">}</span>
<a id="__codelineno-10-85" name="__codelineno-10-85"></a><span class="w">            </span><span class="c1">// c++整形默认向下整除, 也可以用浮点数再floor取整, 可能还得加个eps</span>
<a id="__codelineno-10-86" name="__codelineno-10-86"></a><span class="w">            </span><span class="n">centroid</span><span class="p">.</span><span class="n">a</span><span class="w"> </span><span class="o">/=</span><span class="w"> </span><span class="n">group</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">size</span><span class="p">(),</span><span class="w"> </span><span class="n">centroid</span><span class="p">.</span><span class="n">b</span><span class="w"> </span><span class="o">/=</span><span class="w"> </span><span class="n">group</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">size</span><span class="p">(),</span><span class="w"> </span><span class="n">centroid</span><span class="p">.</span><span class="n">c</span><span class="w"> </span><span class="o">/=</span><span class="w"> </span><span class="n">group</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">size</span><span class="p">();</span>
<a id="__codelineno-10-87" name="__codelineno-10-87"></a><span class="w">            </span><span class="c1">// 找组里离重心最近的作为新的代表元素</span>
<a id="__codelineno-10-88" name="__codelineno-10-88"></a><span class="w">            </span><span class="n">Node</span><span class="w"> </span><span class="n">newrepre</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">repre</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<a id="__codelineno-10-89" name="__codelineno-10-89"></a><span class="w">            </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">auto</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">group</span><span class="p">[</span><span class="n">i</span><span class="p">])</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-10-90" name="__codelineno-10-90"></a><span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">dis</span><span class="p">(</span><span class="n">it</span><span class="p">,</span><span class="w"> </span><span class="n">centroid</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">dis</span><span class="p">(</span><span class="n">newrepre</span><span class="p">,</span><span class="w"> </span><span class="n">centroid</span><span class="p">)</span><span class="w"> </span><span class="o">||</span>
<a id="__codelineno-10-91" name="__codelineno-10-91"></a><span class="w">                </span><span class="n">dis</span><span class="p">(</span><span class="n">it</span><span class="p">,</span><span class="w"> </span><span class="n">centroid</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">dis</span><span class="p">(</span><span class="n">newrepre</span><span class="p">,</span><span class="w"> </span><span class="n">centroid</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">it</span><span class="p">.</span><span class="n">id</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">newrepre</span><span class="p">.</span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-10-92" name="__codelineno-10-92"></a><span class="w">                    </span><span class="n">newrepre</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">it</span><span class="p">;</span>
<a id="__codelineno-10-93" name="__codelineno-10-93"></a><span class="w">                </span><span class="p">}</span>
<a id="__codelineno-10-94" name="__codelineno-10-94"></a><span class="w">            </span><span class="p">}</span>
<a id="__codelineno-10-95" name="__codelineno-10-95"></a><span class="w">            </span><span class="n">is_repre</span><span class="p">[</span><span class="n">repre</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">id</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="__codelineno-10-96" name="__codelineno-10-96"></a><span class="w">            </span><span class="n">repre</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">newrepre</span><span class="p">;</span>
<a id="__codelineno-10-97" name="__codelineno-10-97"></a><span class="w">            </span><span class="n">is_repre</span><span class="p">[</span><span class="n">repre</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">id</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<a id="__codelineno-10-98" name="__codelineno-10-98"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-10-99" name="__codelineno-10-99"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-10-100" name="__codelineno-10-100"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">auto</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">})</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-10-101" name="__codelineno-10-101"></a><span class="w">        </span><span class="n">fout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;p(i=&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;): (&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">repre</span><span class="p">[</span><span class="n">id</span><span class="p">].</span><span class="n">a</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">repre</span><span class="p">[</span><span class="n">id</span><span class="p">].</span><span class="n">b</span>
<a id="__codelineno-10-102" name="__codelineno-10-102"></a><span class="w">             </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">repre</span><span class="p">[</span><span class="n">id</span><span class="p">].</span><span class="n">c</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;) , index &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">repre</span><span class="p">[</span><span class="n">id</span><span class="p">].</span><span class="n">id</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
<a id="__codelineno-10-103" name="__codelineno-10-103"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-10-104" name="__codelineno-10-104"></a><span class="p">}</span>
<a id="__codelineno-10-105" name="__codelineno-10-105"></a><span class="kt">signed</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-10-106" name="__codelineno-10-106"></a><span class="w">    </span><span class="n">ios</span><span class="o">::</span><span class="n">sync_with_stdio</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span><span class="w"> </span><span class="n">cin</span><span class="p">.</span><span class="n">tie</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span><span class="w"> </span><span class="n">cout</span><span class="p">.</span><span class="n">tie</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<a id="__codelineno-10-107" name="__codelineno-10-107"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<a id="__codelineno-10-108" name="__codelineno-10-108"></a><span class="w">    </span><span class="c1">// cin &gt;&gt; t;</span>
<a id="__codelineno-10-109" name="__codelineno-10-109"></a><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">t</span><span class="o">--</span><span class="p">)</span>
<a id="__codelineno-10-110" name="__codelineno-10-110"></a><span class="w">        </span><span class="n">solve</span><span class="p">();</span>
<a id="__codelineno-10-111" name="__codelineno-10-111"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="__codelineno-10-112" name="__codelineno-10-112"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>Python solution:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-11-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-11-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-11-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-11-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-11-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-11-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-11-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-11-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-11-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-11-10">10</a></span>
<span class="normal"><a href="#__codelineno-11-11">11</a></span>
<span class="normal"><a href="#__codelineno-11-12">12</a></span>
<span class="normal"><a href="#__codelineno-11-13">13</a></span>
<span class="normal"><a href="#__codelineno-11-14">14</a></span>
<span class="normal"><a href="#__codelineno-11-15">15</a></span>
<span class="normal"><a href="#__codelineno-11-16">16</a></span>
<span class="normal"><a href="#__codelineno-11-17">17</a></span>
<span class="normal"><a href="#__codelineno-11-18">18</a></span>
<span class="normal"><a href="#__codelineno-11-19">19</a></span>
<span class="normal"><a href="#__codelineno-11-20">20</a></span>
<span class="normal"><a href="#__codelineno-11-21">21</a></span>
<span class="normal"><a href="#__codelineno-11-22">22</a></span>
<span class="normal"><a href="#__codelineno-11-23">23</a></span>
<span class="normal"><a href="#__codelineno-11-24">24</a></span>
<span class="normal"><a href="#__codelineno-11-25">25</a></span>
<span class="normal"><a href="#__codelineno-11-26">26</a></span>
<span class="normal"><a href="#__codelineno-11-27">27</a></span>
<span class="normal"><a href="#__codelineno-11-28">28</a></span>
<span class="normal"><a href="#__codelineno-11-29">29</a></span>
<span class="normal"><a href="#__codelineno-11-30">30</a></span>
<span class="normal"><a href="#__codelineno-11-31">31</a></span>
<span class="normal"><a href="#__codelineno-11-32">32</a></span>
<span class="normal"><a href="#__codelineno-11-33">33</a></span>
<span class="normal"><a href="#__codelineno-11-34">34</a></span>
<span class="normal"><a href="#__codelineno-11-35">35</a></span>
<span class="normal"><a href="#__codelineno-11-36">36</a></span>
<span class="normal"><a href="#__codelineno-11-37">37</a></span>
<span class="normal"><a href="#__codelineno-11-38">38</a></span>
<span class="normal"><a href="#__codelineno-11-39">39</a></span>
<span class="normal"><a href="#__codelineno-11-40">40</a></span>
<span class="normal"><a href="#__codelineno-11-41">41</a></span>
<span class="normal"><a href="#__codelineno-11-42">42</a></span>
<span class="normal"><a href="#__codelineno-11-43">43</a></span>
<span class="normal"><a href="#__codelineno-11-44">44</a></span>
<span class="normal"><a href="#__codelineno-11-45">45</a></span>
<span class="normal"><a href="#__codelineno-11-46">46</a></span>
<span class="normal"><a href="#__codelineno-11-47">47</a></span>
<span class="normal"><a href="#__codelineno-11-48">48</a></span>
<span class="normal"><a href="#__codelineno-11-49">49</a></span>
<span class="normal"><a href="#__codelineno-11-50">50</a></span>
<span class="normal"><a href="#__codelineno-11-51">51</a></span>
<span class="normal"><a href="#__codelineno-11-52">52</a></span>
<span class="normal"><a href="#__codelineno-11-53">53</a></span>
<span class="normal"><a href="#__codelineno-11-54">54</a></span>
<span class="normal"><a href="#__codelineno-11-55">55</a></span>
<span class="normal"><a href="#__codelineno-11-56">56</a></span>
<span class="normal"><a href="#__codelineno-11-57">57</a></span>
<span class="normal"><a href="#__codelineno-11-58">58</a></span>
<span class="normal"><a href="#__codelineno-11-59">59</a></span>
<span class="normal"><a href="#__codelineno-11-60">60</a></span>
<span class="normal"><a href="#__codelineno-11-61">61</a></span>
<span class="normal"><a href="#__codelineno-11-62">62</a></span>
<span class="normal"><a href="#__codelineno-11-63">63</a></span>
<span class="normal"><a href="#__codelineno-11-64">64</a></span>
<span class="normal"><a href="#__codelineno-11-65">65</a></span>
<span class="normal"><a href="#__codelineno-11-66">66</a></span>
<span class="normal"><a href="#__codelineno-11-67">67</a></span>
<span class="normal"><a href="#__codelineno-11-68">68</a></span>
<span class="normal"><a href="#__codelineno-11-69">69</a></span>
<span class="normal"><a href="#__codelineno-11-70">70</a></span>
<span class="normal"><a href="#__codelineno-11-71">71</a></span>
<span class="normal"><a href="#__codelineno-11-72">72</a></span>
<span class="normal"><a href="#__codelineno-11-73">73</a></span>
<span class="normal"><a href="#__codelineno-11-74">74</a></span>
<span class="normal"><a href="#__codelineno-11-75">75</a></span>
<span class="normal"><a href="#__codelineno-11-76">76</a></span>
<span class="normal"><a href="#__codelineno-11-77">77</a></span>
<span class="normal"><a href="#__codelineno-11-78">78</a></span>
<span class="normal"><a href="#__codelineno-11-79">79</a></span>
<span class="normal"><a href="#__codelineno-11-80">80</a></span>
<span class="normal"><a href="#__codelineno-11-81">81</a></span>
<span class="normal"><a href="#__codelineno-11-82">82</a></span>
<span class="normal"><a href="#__codelineno-11-83">83</a></span>
<span class="normal"><a href="#__codelineno-11-84">84</a></span>
<span class="normal"><a href="#__codelineno-11-85">85</a></span>
<span class="normal"><a href="#__codelineno-11-86">86</a></span>
<span class="normal"><a href="#__codelineno-11-87">87</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1"></a><span class="c1"># 基于楼上的py代码改进后的代码，image3.txt的结果跟我的c++代码相同, image2.txt跑不出来, python速度还是比不了c++的，估计结果也是一样</span>
<a id="__codelineno-11-2" name="__codelineno-11-2"></a><span class="kn">from</span><span class="w"> </span><span class="nn">locale</span><span class="w"> </span><span class="kn">import</span> <span class="n">atoi</span>
<a id="__codelineno-11-3" name="__codelineno-11-3"></a><span class="kn">from</span><span class="w"> </span><span class="nn">math</span><span class="w"> </span><span class="kn">import</span> <span class="n">floor</span>
<a id="__codelineno-11-4" name="__codelineno-11-4"></a>
<a id="__codelineno-11-5" name="__codelineno-11-5"></a>
<a id="__codelineno-11-6" name="__codelineno-11-6"></a><span class="k">def</span><span class="w"> </span><span class="nf">p_distance</span><span class="p">(</span><span class="n">p1</span><span class="p">,</span><span class="n">p2</span><span class="p">):</span>
<a id="__codelineno-11-7" name="__codelineno-11-7"></a>    <span class="k">return</span> <span class="nb">abs</span><span class="p">(</span><span class="n">p1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">-</span><span class="n">p2</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">+</span><span class="nb">abs</span><span class="p">(</span><span class="n">p1</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">p2</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span><span class="o">+</span><span class="nb">abs</span><span class="p">(</span><span class="n">p1</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">-</span><span class="n">p2</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
<a id="__codelineno-11-8" name="__codelineno-11-8"></a>
<a id="__codelineno-11-9" name="__codelineno-11-9"></a><span class="k">def</span><span class="w"> </span><span class="nf">find_cluster_index</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">clus_arr</span><span class="p">):</span>
<a id="__codelineno-11-10" name="__codelineno-11-10"></a>    <span class="n">best_c</span> <span class="o">=</span> <span class="mi">0</span>
<a id="__codelineno-11-11" name="__codelineno-11-11"></a>    <span class="n">best_d</span> <span class="o">=</span> <span class="mi">3</span><span class="o">*</span><span class="mi">255</span>
<a id="__codelineno-11-12" name="__codelineno-11-12"></a>    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">clus_arr</span><span class="p">)):</span>
<a id="__codelineno-11-13" name="__codelineno-11-13"></a>        <span class="n">d</span> <span class="o">=</span> <span class="n">p_distance</span><span class="p">(</span><span class="n">p</span><span class="p">,</span><span class="n">clus_arr</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
<a id="__codelineno-11-14" name="__codelineno-11-14"></a>        <span class="k">if</span> <span class="n">d</span> <span class="o">&lt;</span> <span class="n">best_d</span><span class="p">:</span>
<a id="__codelineno-11-15" name="__codelineno-11-15"></a>            <span class="n">best_d</span> <span class="o">=</span> <span class="n">d</span>
<a id="__codelineno-11-16" name="__codelineno-11-16"></a>            <span class="n">best_c</span> <span class="o">=</span> <span class="n">i</span>
<a id="__codelineno-11-17" name="__codelineno-11-17"></a>        <span class="k">elif</span> <span class="n">d</span> <span class="o">==</span> <span class="n">best_d</span> <span class="ow">and</span> <span class="n">clus_arr</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">3</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">clus_arr</span><span class="p">[</span><span class="n">best_c</span><span class="p">][</span><span class="mi">3</span><span class="p">]:</span>  
<a id="__codelineno-11-18" name="__codelineno-11-18"></a>            <span class="n">best_c</span> <span class="o">=</span> <span class="n">i</span>
<a id="__codelineno-11-19" name="__codelineno-11-19"></a>
<a id="__codelineno-11-20" name="__codelineno-11-20"></a>    <span class="k">return</span> <span class="n">best_c</span>
<a id="__codelineno-11-21" name="__codelineno-11-21"></a>
<a id="__codelineno-11-22" name="__codelineno-11-22"></a><span class="k">def</span><span class="w"> </span><span class="nf">get_inital_representatives</span><span class="p">(</span><span class="n">pxls</span><span class="p">,</span><span class="n">k</span><span class="p">):</span>
<a id="__codelineno-11-23" name="__codelineno-11-23"></a>    <span class="n">pxls_sr</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">pxls</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-11-24" name="__codelineno-11-24"></a>    <span class="n">pxls_sr</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">pxls_sr</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="n">x</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">*</span><span class="n">x</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
<a id="__codelineno-11-25" name="__codelineno-11-25"></a>
<a id="__codelineno-11-26" name="__codelineno-11-26"></a>    <span class="n">p</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">pxls_sr</span><span class="p">)</span><span class="o">//</span><span class="n">k</span>
<a id="__codelineno-11-27" name="__codelineno-11-27"></a>    <span class="n">rps</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-11-28" name="__codelineno-11-28"></a>    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">k</span><span class="p">):</span>
<a id="__codelineno-11-29" name="__codelineno-11-29"></a>        <span class="n">rps</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pxls_sr</span><span class="p">[</span><span class="n">p</span><span class="o">*</span><span class="n">i</span><span class="p">])</span>
<a id="__codelineno-11-30" name="__codelineno-11-30"></a>
<a id="__codelineno-11-31" name="__codelineno-11-31"></a>    <span class="k">return</span> <span class="n">rps</span>
<a id="__codelineno-11-32" name="__codelineno-11-32"></a>
<a id="__codelineno-11-33" name="__codelineno-11-33"></a><span class="k">def</span><span class="w"> </span><span class="nf">find_next_representatives</span><span class="p">(</span><span class="n">pxls</span><span class="p">,</span> <span class="n">cens</span><span class="p">,</span> <span class="n">cens_i</span><span class="p">):</span>
<a id="__codelineno-11-34" name="__codelineno-11-34"></a>    <span class="nb">repr</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-11-35" name="__codelineno-11-35"></a>    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">c</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">cens</span><span class="p">):</span>
<a id="__codelineno-11-36" name="__codelineno-11-36"></a>        <span class="n">best_d</span> <span class="o">=</span> <span class="mi">255</span><span class="o">*</span><span class="mi">3</span>
<a id="__codelineno-11-37" name="__codelineno-11-37"></a>        <span class="n">best_p</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
<a id="__codelineno-11-38" name="__codelineno-11-38"></a>        <span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="n">cens_i</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
<a id="__codelineno-11-39" name="__codelineno-11-39"></a>            <span class="n">d</span> <span class="o">=</span> <span class="n">p_distance</span><span class="p">(</span><span class="n">pxls</span><span class="p">[</span><span class="n">idx</span><span class="p">],</span> <span class="n">c</span><span class="p">)</span>
<a id="__codelineno-11-40" name="__codelineno-11-40"></a>            <span class="k">if</span> <span class="n">d</span> <span class="o">&lt;</span> <span class="n">best_d</span><span class="p">:</span>
<a id="__codelineno-11-41" name="__codelineno-11-41"></a>                <span class="n">best_d</span> <span class="o">=</span> <span class="n">d</span>
<a id="__codelineno-11-42" name="__codelineno-11-42"></a>                <span class="n">best_p</span> <span class="o">=</span> <span class="n">idx</span>
<a id="__codelineno-11-43" name="__codelineno-11-43"></a>            <span class="k">elif</span> <span class="n">d</span> <span class="o">==</span> <span class="n">best_d</span><span class="p">:</span>
<a id="__codelineno-11-44" name="__codelineno-11-44"></a>                <span class="k">if</span> <span class="n">pxls</span><span class="p">[</span><span class="n">idx</span><span class="p">][</span><span class="mi">3</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">pxls</span><span class="p">[</span><span class="n">best_p</span><span class="p">][</span><span class="mi">3</span><span class="p">]:</span>
<a id="__codelineno-11-45" name="__codelineno-11-45"></a>                    <span class="n">best_p</span> <span class="o">=</span> <span class="n">idx</span>
<a id="__codelineno-11-46" name="__codelineno-11-46"></a>        <span class="nb">repr</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pxls</span><span class="p">[</span><span class="n">best_p</span><span class="p">])</span>
<a id="__codelineno-11-47" name="__codelineno-11-47"></a>    <span class="k">return</span> <span class="nb">repr</span>
<a id="__codelineno-11-48" name="__codelineno-11-48"></a>
<a id="__codelineno-11-49" name="__codelineno-11-49"></a>
<a id="__codelineno-11-50" name="__codelineno-11-50"></a><span class="c1"># Can make this whole faster by using numpy, should consider upgrading</span>
<a id="__codelineno-11-51" name="__codelineno-11-51"></a><span class="k">def</span><span class="w"> </span><span class="nf">main</span><span class="p">():</span>
<a id="__codelineno-11-52" name="__codelineno-11-52"></a>    <span class="n">pxls</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-11-53" name="__codelineno-11-53"></a>    <span class="n">k</span> <span class="o">=</span> <span class="mi">8</span>
<a id="__codelineno-11-54" name="__codelineno-11-54"></a>    <span class="n">iter_lm</span> <span class="o">=</span> <span class="mi">10</span>
<a id="__codelineno-11-55" name="__codelineno-11-55"></a>
<a id="__codelineno-11-56" name="__codelineno-11-56"></a>    <span class="n">lines</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-11-57" name="__codelineno-11-57"></a>    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;./CI/2019_summer/image3.txt&#39;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
<a id="__codelineno-11-58" name="__codelineno-11-58"></a>        <span class="n">lines</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">readlines</span><span class="p">()</span>
<a id="__codelineno-11-59" name="__codelineno-11-59"></a>
<a id="__codelineno-11-60" name="__codelineno-11-60"></a>    <span class="k">for</span> <span class="n">l</span> <span class="ow">in</span> <span class="n">lines</span><span class="p">:</span>
<a id="__codelineno-11-61" name="__codelineno-11-61"></a>        <span class="n">ns</span> <span class="o">=</span> <span class="p">[</span><span class="n">atoi</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">l</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">)]</span>
<a id="__codelineno-11-62" name="__codelineno-11-62"></a>        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">ns</span><span class="p">),</span><span class="mi">3</span><span class="p">):</span>
<a id="__codelineno-11-63" name="__codelineno-11-63"></a>            <span class="n">pxls</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">ns</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="n">ns</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span><span class="n">ns</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">2</span><span class="p">],</span><span class="n">i</span><span class="o">//</span><span class="mi">3</span><span class="p">))</span>
<a id="__codelineno-11-64" name="__codelineno-11-64"></a>
<a id="__codelineno-11-65" name="__codelineno-11-65"></a>    <span class="nb">repr</span> <span class="o">=</span> <span class="n">get_inital_representatives</span><span class="p">(</span><span class="n">pxls</span><span class="p">,</span><span class="n">k</span><span class="p">)</span>
<a id="__codelineno-11-66" name="__codelineno-11-66"></a>
<a id="__codelineno-11-67" name="__codelineno-11-67"></a>    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">iter_lm</span><span class="p">):</span>
<a id="__codelineno-11-68" name="__codelineno-11-68"></a>        <span class="n">cens</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">repr</span><span class="p">]</span>
<a id="__codelineno-11-69" name="__codelineno-11-69"></a>        <span class="n">cens_i</span> <span class="o">=</span> <span class="p">[</span><span class="nb">list</span><span class="p">()</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">repr</span><span class="p">]</span>
<a id="__codelineno-11-70" name="__codelineno-11-70"></a>        <span class="n">n_check</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">pxls</span><span class="p">)</span>
<a id="__codelineno-11-71" name="__codelineno-11-71"></a>        <span class="k">for</span> <span class="n">px</span> <span class="ow">in</span> <span class="n">pxls</span><span class="p">:</span>
<a id="__codelineno-11-72" name="__codelineno-11-72"></a>            <span class="n">c_i</span> <span class="o">=</span> <span class="n">find_cluster_index</span><span class="p">(</span><span class="n">px</span><span class="p">,</span><span class="nb">repr</span><span class="p">)</span>
<a id="__codelineno-11-73" name="__codelineno-11-73"></a>            <span class="n">cens_i</span><span class="p">[</span><span class="n">c_i</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">px</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span>
<a id="__codelineno-11-74" name="__codelineno-11-74"></a>        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">cens</span><span class="p">)):</span>
<a id="__codelineno-11-75" name="__codelineno-11-75"></a>            <span class="n">cens</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-11-76" name="__codelineno-11-76"></a>            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">cens_i</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
<a id="__codelineno-11-77" name="__codelineno-11-77"></a>                <span class="n">cens</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">cens</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="n">pxls</span><span class="p">[</span><span class="n">j</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="n">cens</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="n">pxls</span><span class="p">[</span><span class="n">j</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span> <span class="n">cens</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span><span class="o">+</span><span class="n">pxls</span><span class="p">[</span><span class="n">j</span><span class="p">][</span><span class="mi">2</span><span class="p">])</span>
<a id="__codelineno-11-78" name="__codelineno-11-78"></a>            <span class="n">n_check</span> <span class="o">-=</span> <span class="nb">len</span><span class="p">(</span><span class="n">cens_i</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
<a id="__codelineno-11-79" name="__codelineno-11-79"></a>            <span class="n">cens</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">floor</span><span class="p">(</span><span class="n">cens</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">cens_i</span><span class="p">[</span><span class="n">i</span><span class="p">])),</span> <span class="n">floor</span><span class="p">(</span><span class="n">cens</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">cens_i</span><span class="p">[</span><span class="n">i</span><span class="p">])),</span> <span class="n">floor</span><span class="p">(</span><span class="n">cens</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">cens_i</span><span class="p">[</span><span class="n">i</span><span class="p">])))</span>
<a id="__codelineno-11-80" name="__codelineno-11-80"></a>        <span class="k">assert</span> <span class="n">n_check</span> <span class="o">==</span> <span class="mi">0</span>
<a id="__codelineno-11-81" name="__codelineno-11-81"></a>        <span class="nb">repr</span> <span class="o">=</span> <span class="n">find_next_representatives</span><span class="p">(</span><span class="n">pxls</span><span class="p">,</span> <span class="n">cens</span><span class="p">,</span> <span class="n">cens_i</span><span class="p">)</span>
<a id="__codelineno-11-82" name="__codelineno-11-82"></a>    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="nb">repr</span><span class="p">)):</span>
<a id="__codelineno-11-83" name="__codelineno-11-83"></a>        <span class="k">if</span> <span class="n">i</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">6</span><span class="p">]:</span>
<a id="__codelineno-11-84" name="__codelineno-11-84"></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;p(i=</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">): </span><span class="si">{</span><span class="nb">repr</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-11-85" name="__codelineno-11-85"></a>
<a id="__codelineno-11-86" name="__codelineno-11-86"></a><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
<a id="__codelineno-11-87" name="__codelineno-11-87"></a>    <span class="n">main</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
<h3 id="6">(6)<a class="headerlink" href="#6" title="Permanent link"></a></h3>
<h4 id="tomfluffs-solution_4">tomfluff's solution<a class="headerlink" href="#tomfluffs-solution_4" title="Permanent link"></a></h4>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-12-1">  1</a></span>
<span class="normal"><a href="#__codelineno-12-2">  2</a></span>
<span class="normal"><a href="#__codelineno-12-3">  3</a></span>
<span class="normal"><a href="#__codelineno-12-4">  4</a></span>
<span class="normal"><a href="#__codelineno-12-5">  5</a></span>
<span class="normal"><a href="#__codelineno-12-6">  6</a></span>
<span class="normal"><a href="#__codelineno-12-7">  7</a></span>
<span class="normal"><a href="#__codelineno-12-8">  8</a></span>
<span class="normal"><a href="#__codelineno-12-9">  9</a></span>
<span class="normal"><a href="#__codelineno-12-10"> 10</a></span>
<span class="normal"><a href="#__codelineno-12-11"> 11</a></span>
<span class="normal"><a href="#__codelineno-12-12"> 12</a></span>
<span class="normal"><a href="#__codelineno-12-13"> 13</a></span>
<span class="normal"><a href="#__codelineno-12-14"> 14</a></span>
<span class="normal"><a href="#__codelineno-12-15"> 15</a></span>
<span class="normal"><a href="#__codelineno-12-16"> 16</a></span>
<span class="normal"><a href="#__codelineno-12-17"> 17</a></span>
<span class="normal"><a href="#__codelineno-12-18"> 18</a></span>
<span class="normal"><a href="#__codelineno-12-19"> 19</a></span>
<span class="normal"><a href="#__codelineno-12-20"> 20</a></span>
<span class="normal"><a href="#__codelineno-12-21"> 21</a></span>
<span class="normal"><a href="#__codelineno-12-22"> 22</a></span>
<span class="normal"><a href="#__codelineno-12-23"> 23</a></span>
<span class="normal"><a href="#__codelineno-12-24"> 24</a></span>
<span class="normal"><a href="#__codelineno-12-25"> 25</a></span>
<span class="normal"><a href="#__codelineno-12-26"> 26</a></span>
<span class="normal"><a href="#__codelineno-12-27"> 27</a></span>
<span class="normal"><a href="#__codelineno-12-28"> 28</a></span>
<span class="normal"><a href="#__codelineno-12-29"> 29</a></span>
<span class="normal"><a href="#__codelineno-12-30"> 30</a></span>
<span class="normal"><a href="#__codelineno-12-31"> 31</a></span>
<span class="normal"><a href="#__codelineno-12-32"> 32</a></span>
<span class="normal"><a href="#__codelineno-12-33"> 33</a></span>
<span class="normal"><a href="#__codelineno-12-34"> 34</a></span>
<span class="normal"><a href="#__codelineno-12-35"> 35</a></span>
<span class="normal"><a href="#__codelineno-12-36"> 36</a></span>
<span class="normal"><a href="#__codelineno-12-37"> 37</a></span>
<span class="normal"><a href="#__codelineno-12-38"> 38</a></span>
<span class="normal"><a href="#__codelineno-12-39"> 39</a></span>
<span class="normal"><a href="#__codelineno-12-40"> 40</a></span>
<span class="normal"><a href="#__codelineno-12-41"> 41</a></span>
<span class="normal"><a href="#__codelineno-12-42"> 42</a></span>
<span class="normal"><a href="#__codelineno-12-43"> 43</a></span>
<span class="normal"><a href="#__codelineno-12-44"> 44</a></span>
<span class="normal"><a href="#__codelineno-12-45"> 45</a></span>
<span class="normal"><a href="#__codelineno-12-46"> 46</a></span>
<span class="normal"><a href="#__codelineno-12-47"> 47</a></span>
<span class="normal"><a href="#__codelineno-12-48"> 48</a></span>
<span class="normal"><a href="#__codelineno-12-49"> 49</a></span>
<span class="normal"><a href="#__codelineno-12-50"> 50</a></span>
<span class="normal"><a href="#__codelineno-12-51"> 51</a></span>
<span class="normal"><a href="#__codelineno-12-52"> 52</a></span>
<span class="normal"><a href="#__codelineno-12-53"> 53</a></span>
<span class="normal"><a href="#__codelineno-12-54"> 54</a></span>
<span class="normal"><a href="#__codelineno-12-55"> 55</a></span>
<span class="normal"><a href="#__codelineno-12-56"> 56</a></span>
<span class="normal"><a href="#__codelineno-12-57"> 57</a></span>
<span class="normal"><a href="#__codelineno-12-58"> 58</a></span>
<span class="normal"><a href="#__codelineno-12-59"> 59</a></span>
<span class="normal"><a href="#__codelineno-12-60"> 60</a></span>
<span class="normal"><a href="#__codelineno-12-61"> 61</a></span>
<span class="normal"><a href="#__codelineno-12-62"> 62</a></span>
<span class="normal"><a href="#__codelineno-12-63"> 63</a></span>
<span class="normal"><a href="#__codelineno-12-64"> 64</a></span>
<span class="normal"><a href="#__codelineno-12-65"> 65</a></span>
<span class="normal"><a href="#__codelineno-12-66"> 66</a></span>
<span class="normal"><a href="#__codelineno-12-67"> 67</a></span>
<span class="normal"><a href="#__codelineno-12-68"> 68</a></span>
<span class="normal"><a href="#__codelineno-12-69"> 69</a></span>
<span class="normal"><a href="#__codelineno-12-70"> 70</a></span>
<span class="normal"><a href="#__codelineno-12-71"> 71</a></span>
<span class="normal"><a href="#__codelineno-12-72"> 72</a></span>
<span class="normal"><a href="#__codelineno-12-73"> 73</a></span>
<span class="normal"><a href="#__codelineno-12-74"> 74</a></span>
<span class="normal"><a href="#__codelineno-12-75"> 75</a></span>
<span class="normal"><a href="#__codelineno-12-76"> 76</a></span>
<span class="normal"><a href="#__codelineno-12-77"> 77</a></span>
<span class="normal"><a href="#__codelineno-12-78"> 78</a></span>
<span class="normal"><a href="#__codelineno-12-79"> 79</a></span>
<span class="normal"><a href="#__codelineno-12-80"> 80</a></span>
<span class="normal"><a href="#__codelineno-12-81"> 81</a></span>
<span class="normal"><a href="#__codelineno-12-82"> 82</a></span>
<span class="normal"><a href="#__codelineno-12-83"> 83</a></span>
<span class="normal"><a href="#__codelineno-12-84"> 84</a></span>
<span class="normal"><a href="#__codelineno-12-85"> 85</a></span>
<span class="normal"><a href="#__codelineno-12-86"> 86</a></span>
<span class="normal"><a href="#__codelineno-12-87"> 87</a></span>
<span class="normal"><a href="#__codelineno-12-88"> 88</a></span>
<span class="normal"><a href="#__codelineno-12-89"> 89</a></span>
<span class="normal"><a href="#__codelineno-12-90"> 90</a></span>
<span class="normal"><a href="#__codelineno-12-91"> 91</a></span>
<span class="normal"><a href="#__codelineno-12-92"> 92</a></span>
<span class="normal"><a href="#__codelineno-12-93"> 93</a></span>
<span class="normal"><a href="#__codelineno-12-94"> 94</a></span>
<span class="normal"><a href="#__codelineno-12-95"> 95</a></span>
<span class="normal"><a href="#__codelineno-12-96"> 96</a></span>
<span class="normal"><a href="#__codelineno-12-97"> 97</a></span>
<span class="normal"><a href="#__codelineno-12-98"> 98</a></span>
<span class="normal"><a href="#__codelineno-12-99"> 99</a></span>
<span class="normal"><a href="#__codelineno-12-100">100</a></span>
<span class="normal"><a href="#__codelineno-12-101">101</a></span>
<span class="normal"><a href="#__codelineno-12-102">102</a></span>
<span class="normal"><a href="#__codelineno-12-103">103</a></span>
<span class="normal"><a href="#__codelineno-12-104">104</a></span>
<span class="normal"><a href="#__codelineno-12-105">105</a></span>
<span class="normal"><a href="#__codelineno-12-106">106</a></span>
<span class="normal"><a href="#__codelineno-12-107">107</a></span>
<span class="normal"><a href="#__codelineno-12-108">108</a></span>
<span class="normal"><a href="#__codelineno-12-109">109</a></span>
<span class="normal"><a href="#__codelineno-12-110">110</a></span>
<span class="normal"><a href="#__codelineno-12-111">111</a></span>
<span class="normal"><a href="#__codelineno-12-112">112</a></span>
<span class="normal"><a href="#__codelineno-12-113">113</a></span>
<span class="normal"><a href="#__codelineno-12-114">114</a></span>
<span class="normal"><a href="#__codelineno-12-115">115</a></span>
<span class="normal"><a href="#__codelineno-12-116">116</a></span>
<span class="normal"><a href="#__codelineno-12-117">117</a></span>
<span class="normal"><a href="#__codelineno-12-118">118</a></span>
<span class="normal"><a href="#__codelineno-12-119">119</a></span>
<span class="normal"><a href="#__codelineno-12-120">120</a></span>
<span class="normal"><a href="#__codelineno-12-121">121</a></span>
<span class="normal"><a href="#__codelineno-12-122">122</a></span>
<span class="normal"><a href="#__codelineno-12-123">123</a></span>
<span class="normal"><a href="#__codelineno-12-124">124</a></span>
<span class="normal"><a href="#__codelineno-12-125">125</a></span>
<span class="normal"><a href="#__codelineno-12-126">126</a></span>
<span class="normal"><a href="#__codelineno-12-127">127</a></span>
<span class="normal"><a href="#__codelineno-12-128">128</a></span>
<span class="normal"><a href="#__codelineno-12-129">129</a></span>
<span class="normal"><a href="#__codelineno-12-130">130</a></span>
<span class="normal"><a href="#__codelineno-12-131">131</a></span>
<span class="normal"><a href="#__codelineno-12-132">132</a></span>
<span class="normal"><a href="#__codelineno-12-133">133</a></span>
<span class="normal"><a href="#__codelineno-12-134">134</a></span>
<span class="normal"><a href="#__codelineno-12-135">135</a></span>
<span class="normal"><a href="#__codelineno-12-136">136</a></span>
<span class="normal"><a href="#__codelineno-12-137">137</a></span>
<span class="normal"><a href="#__codelineno-12-138">138</a></span>
<span class="normal"><a href="#__codelineno-12-139">139</a></span>
<span class="normal"><a href="#__codelineno-12-140">140</a></span>
<span class="normal"><a href="#__codelineno-12-141">141</a></span>
<span class="normal"><a href="#__codelineno-12-142">142</a></span>
<span class="normal"><a href="#__codelineno-12-143">143</a></span>
<span class="normal"><a href="#__codelineno-12-144">144</a></span>
<span class="normal"><a href="#__codelineno-12-145">145</a></span>
<span class="normal"><a href="#__codelineno-12-146">146</a></span>
<span class="normal"><a href="#__codelineno-12-147">147</a></span>
<span class="normal"><a href="#__codelineno-12-148">148</a></span>
<span class="normal"><a href="#__codelineno-12-149">149</a></span>
<span class="normal"><a href="#__codelineno-12-150">150</a></span>
<span class="normal"><a href="#__codelineno-12-151">151</a></span>
<span class="normal"><a href="#__codelineno-12-152">152</a></span>
<span class="normal"><a href="#__codelineno-12-153">153</a></span>
<span class="normal"><a href="#__codelineno-12-154">154</a></span>
<span class="normal"><a href="#__codelineno-12-155">155</a></span>
<span class="normal"><a href="#__codelineno-12-156">156</a></span>
<span class="normal"><a href="#__codelineno-12-157">157</a></span>
<span class="normal"><a href="#__codelineno-12-158">158</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1"></a><span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<a id="__codelineno-12-2" name="__codelineno-12-2"></a><span class="kn">from</span><span class="w"> </span><span class="nn">locale</span><span class="w"> </span><span class="kn">import</span> <span class="n">atoi</span>
<a id="__codelineno-12-3" name="__codelineno-12-3"></a>
<a id="__codelineno-12-4" name="__codelineno-12-4"></a><span class="n">WHITE</span> <span class="o">=</span> <span class="p">(</span><span class="mi">255</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">255</span><span class="p">)</span>
<a id="__codelineno-12-5" name="__codelineno-12-5"></a>
<a id="__codelineno-12-6" name="__codelineno-12-6"></a><span class="k">def</span><span class="w"> </span><span class="nf">p_distance</span><span class="p">(</span><span class="n">p1</span><span class="p">,</span><span class="n">p2</span><span class="p">):</span>
<a id="__codelineno-12-7" name="__codelineno-12-7"></a>    <span class="k">return</span> <span class="nb">abs</span><span class="p">(</span><span class="n">p1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">-</span><span class="n">p2</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">+</span><span class="nb">abs</span><span class="p">(</span><span class="n">p1</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">p2</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span><span class="o">+</span><span class="nb">abs</span><span class="p">(</span><span class="n">p1</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">-</span><span class="n">p2</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
<a id="__codelineno-12-8" name="__codelineno-12-8"></a>
<a id="__codelineno-12-9" name="__codelineno-12-9"></a><span class="k">def</span><span class="w"> </span><span class="nf">find_cluster_index</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">clus_arr</span><span class="p">):</span>
<a id="__codelineno-12-10" name="__codelineno-12-10"></a>    <span class="n">best_c</span> <span class="o">=</span> <span class="mi">0</span>
<a id="__codelineno-12-11" name="__codelineno-12-11"></a>    <span class="n">best_d</span> <span class="o">=</span> <span class="mi">3</span><span class="o">*</span><span class="mi">255</span>
<a id="__codelineno-12-12" name="__codelineno-12-12"></a>    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">clus_arr</span><span class="p">)):</span>
<a id="__codelineno-12-13" name="__codelineno-12-13"></a>        <span class="n">d</span> <span class="o">=</span> <span class="n">p_distance</span><span class="p">(</span><span class="n">p</span><span class="p">,</span><span class="n">clus_arr</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
<a id="__codelineno-12-14" name="__codelineno-12-14"></a>        <span class="k">if</span> <span class="n">d</span> <span class="o">&lt;</span> <span class="n">best_d</span><span class="p">:</span>
<a id="__codelineno-12-15" name="__codelineno-12-15"></a>            <span class="n">best_d</span> <span class="o">=</span> <span class="n">d</span>
<a id="__codelineno-12-16" name="__codelineno-12-16"></a>            <span class="n">best_c</span> <span class="o">=</span> <span class="n">i</span>
<a id="__codelineno-12-17" name="__codelineno-12-17"></a>
<a id="__codelineno-12-18" name="__codelineno-12-18"></a>    <span class="k">return</span> <span class="n">best_c</span>
<a id="__codelineno-12-19" name="__codelineno-12-19"></a>
<a id="__codelineno-12-20" name="__codelineno-12-20"></a><span class="k">def</span><span class="w"> </span><span class="nf">get_inital_representatives</span><span class="p">(</span><span class="n">pxls</span><span class="p">,</span><span class="n">k</span><span class="p">):</span>
<a id="__codelineno-12-21" name="__codelineno-12-21"></a>    <span class="n">pxls</span><span class="o">.</span><span class="n">reverse</span><span class="p">()</span>
<a id="__codelineno-12-22" name="__codelineno-12-22"></a>    <span class="n">pxls_sr</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">pxls</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="n">x</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">*</span><span class="n">x</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
<a id="__codelineno-12-23" name="__codelineno-12-23"></a>    <span class="n">pxls</span><span class="o">.</span><span class="n">reverse</span><span class="p">()</span>
<a id="__codelineno-12-24" name="__codelineno-12-24"></a>
<a id="__codelineno-12-25" name="__codelineno-12-25"></a>    <span class="n">p</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">pxls_sr</span><span class="p">)</span><span class="o">//</span><span class="n">k</span>
<a id="__codelineno-12-26" name="__codelineno-12-26"></a>    <span class="n">rps</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-12-27" name="__codelineno-12-27"></a>    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">k</span><span class="p">):</span>
<a id="__codelineno-12-28" name="__codelineno-12-28"></a>        <span class="n">rps</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pxls_sr</span><span class="p">[</span><span class="n">p</span><span class="o">*</span><span class="n">i</span><span class="p">])</span>
<a id="__codelineno-12-29" name="__codelineno-12-29"></a>
<a id="__codelineno-12-30" name="__codelineno-12-30"></a>    <span class="k">return</span> <span class="n">rps</span>
<a id="__codelineno-12-31" name="__codelineno-12-31"></a>
<a id="__codelineno-12-32" name="__codelineno-12-32"></a><span class="k">def</span><span class="w"> </span><span class="nf">find_next_representatives</span><span class="p">(</span><span class="n">pxls</span><span class="p">,</span> <span class="n">cens</span><span class="p">):</span>
<a id="__codelineno-12-33" name="__codelineno-12-33"></a>    <span class="nb">repr</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-12-34" name="__codelineno-12-34"></a>    <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">cens</span><span class="p">:</span>
<a id="__codelineno-12-35" name="__codelineno-12-35"></a>        <span class="n">best_d</span> <span class="o">=</span> <span class="mi">255</span><span class="o">*</span><span class="mi">3</span>
<a id="__codelineno-12-36" name="__codelineno-12-36"></a>        <span class="n">best_p</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
<a id="__codelineno-12-37" name="__codelineno-12-37"></a>        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">pxls</span><span class="p">)):</span>
<a id="__codelineno-12-38" name="__codelineno-12-38"></a>            <span class="n">d</span> <span class="o">=</span> <span class="n">p_distance</span><span class="p">(</span><span class="n">pxls</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="n">c</span><span class="p">)</span>
<a id="__codelineno-12-39" name="__codelineno-12-39"></a>            <span class="k">if</span> <span class="n">d</span> <span class="o">&lt;</span> <span class="n">best_d</span><span class="p">:</span>
<a id="__codelineno-12-40" name="__codelineno-12-40"></a>                <span class="n">best_d</span> <span class="o">=</span> <span class="n">d</span>
<a id="__codelineno-12-41" name="__codelineno-12-41"></a>                <span class="n">best_p</span> <span class="o">=</span> <span class="n">i</span>
<a id="__codelineno-12-42" name="__codelineno-12-42"></a>            <span class="k">elif</span> <span class="n">d</span> <span class="o">==</span> <span class="n">best_d</span><span class="p">:</span>
<a id="__codelineno-12-43" name="__codelineno-12-43"></a>                <span class="k">if</span> <span class="n">pxls</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">3</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">pxls</span><span class="p">[</span><span class="n">best_p</span><span class="p">][</span><span class="mi">3</span><span class="p">]:</span>
<a id="__codelineno-12-44" name="__codelineno-12-44"></a>                    <span class="n">best_p</span> <span class="o">=</span> <span class="n">i</span>
<a id="__codelineno-12-45" name="__codelineno-12-45"></a>        <span class="nb">repr</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pxls</span><span class="p">[</span><span class="n">best_p</span><span class="p">])</span>
<a id="__codelineno-12-46" name="__codelineno-12-46"></a>    <span class="k">return</span> <span class="nb">repr</span>
<a id="__codelineno-12-47" name="__codelineno-12-47"></a>
<a id="__codelineno-12-48" name="__codelineno-12-48"></a><span class="k">def</span><span class="w"> </span><span class="nf">get_image_width</span><span class="p">(</span><span class="n">pxls</span><span class="p">,</span> <span class="n">width_op</span><span class="p">):</span>
<a id="__codelineno-12-49" name="__codelineno-12-49"></a>    <span class="n">width</span> <span class="o">=</span> <span class="mi">0</span>
<a id="__codelineno-12-50" name="__codelineno-12-50"></a>    <span class="k">for</span> <span class="n">w</span> <span class="ow">in</span> <span class="n">width_op</span><span class="p">:</span>
<a id="__codelineno-12-51" name="__codelineno-12-51"></a>        <span class="n">b_is_width</span> <span class="o">=</span> <span class="kc">True</span>
<a id="__codelineno-12-52" name="__codelineno-12-52"></a>        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">w</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">pxls</span><span class="p">),</span><span class="n">w</span><span class="p">):</span>
<a id="__codelineno-12-53" name="__codelineno-12-53"></a>            <span class="k">if</span> <span class="n">pxls</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">:</span><span class="mi">3</span><span class="p">]</span> <span class="o">!=</span> <span class="n">WHITE</span><span class="p">:</span>
<a id="__codelineno-12-54" name="__codelineno-12-54"></a>                <span class="n">b_is_width</span> <span class="o">=</span> <span class="kc">False</span>
<a id="__codelineno-12-55" name="__codelineno-12-55"></a>        <span class="k">if</span> <span class="n">b_is_width</span><span class="p">:</span>
<a id="__codelineno-12-56" name="__codelineno-12-56"></a>            <span class="n">width</span> <span class="o">=</span> <span class="n">w</span>
<a id="__codelineno-12-57" name="__codelineno-12-57"></a>            <span class="k">break</span>
<a id="__codelineno-12-58" name="__codelineno-12-58"></a>    <span class="k">return</span> <span class="n">width</span>
<a id="__codelineno-12-59" name="__codelineno-12-59"></a>
<a id="__codelineno-12-60" name="__codelineno-12-60"></a><span class="k">def</span><span class="w"> </span><span class="nf">update_width_options</span><span class="p">(</span><span class="n">px</span><span class="p">,</span> <span class="n">l</span><span class="p">,</span> <span class="n">width_op</span><span class="p">):</span>
<a id="__codelineno-12-61" name="__codelineno-12-61"></a>    <span class="k">if</span> <span class="n">px</span> <span class="o">==</span> <span class="n">WHITE</span><span class="p">:</span>
<a id="__codelineno-12-62" name="__codelineno-12-62"></a>        <span class="n">b_add</span> <span class="o">=</span> <span class="kc">True</span>
<a id="__codelineno-12-63" name="__codelineno-12-63"></a>        <span class="k">for</span> <span class="n">w</span> <span class="ow">in</span> <span class="n">width_op</span><span class="p">:</span>
<a id="__codelineno-12-64" name="__codelineno-12-64"></a>            <span class="k">if</span> <span class="n">l</span> <span class="o">%</span> <span class="n">w</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
<a id="__codelineno-12-65" name="__codelineno-12-65"></a>                <span class="n">b_add</span> <span class="o">=</span> <span class="kc">False</span>
<a id="__codelineno-12-66" name="__codelineno-12-66"></a>                <span class="k">break</span>
<a id="__codelineno-12-67" name="__codelineno-12-67"></a>        <span class="k">if</span> <span class="n">b_add</span><span class="p">:</span>
<a id="__codelineno-12-68" name="__codelineno-12-68"></a>            <span class="n">width_op</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">l</span><span class="p">)</span>
<a id="__codelineno-12-69" name="__codelineno-12-69"></a>
<a id="__codelineno-12-70" name="__codelineno-12-70"></a><span class="k">def</span><span class="w"> </span><span class="nf">LOGIT</span><span class="p">(</span><span class="n">msg</span><span class="p">):</span>
<a id="__codelineno-12-71" name="__codelineno-12-71"></a>    <span class="k">if</span> <span class="kc">True</span><span class="p">:</span>
<a id="__codelineno-12-72" name="__codelineno-12-72"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;LOG: </span><span class="si">{</span><span class="n">msg</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-12-73" name="__codelineno-12-73"></a>
<a id="__codelineno-12-74" name="__codelineno-12-74"></a><span class="k">def</span><span class="w"> </span><span class="nf">save_tif_image</span><span class="p">(</span><span class="n">fname</span><span class="p">,</span> <span class="n">img</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">):</span>
<a id="__codelineno-12-75" name="__codelineno-12-75"></a>    <span class="n">w3</span> <span class="o">=</span> <span class="n">w</span><span class="o">&amp;</span><span class="p">(</span><span class="mi">2</span><span class="o">**</span><span class="mi">8</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-12-76" name="__codelineno-12-76"></a>    <span class="n">w2</span> <span class="o">=</span> <span class="p">(</span><span class="n">w</span><span class="o">&amp;</span><span class="p">(</span><span class="mi">2</span><span class="o">**</span><span class="mi">16</span> <span class="o">-</span><span class="mi">1</span><span class="p">))</span><span class="o">&gt;&gt;</span><span class="mi">8</span>
<a id="__codelineno-12-77" name="__codelineno-12-77"></a>    <span class="n">w1</span> <span class="o">=</span> <span class="p">(</span><span class="n">w</span><span class="o">&amp;</span><span class="p">(</span><span class="mi">2</span><span class="o">**</span><span class="mi">24</span> <span class="o">-</span><span class="mi">1</span><span class="p">))</span><span class="o">&gt;&gt;</span><span class="mi">16</span>
<a id="__codelineno-12-78" name="__codelineno-12-78"></a>    <span class="n">w0</span> <span class="o">=</span> <span class="p">(</span><span class="n">w</span><span class="p">)</span><span class="o">&gt;&gt;</span><span class="mi">24</span>
<a id="__codelineno-12-79" name="__codelineno-12-79"></a>
<a id="__codelineno-12-80" name="__codelineno-12-80"></a>    <span class="n">h3</span> <span class="o">=</span> <span class="n">h</span><span class="o">&amp;</span><span class="p">(</span><span class="mi">2</span><span class="o">**</span><span class="mi">8</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-12-81" name="__codelineno-12-81"></a>    <span class="n">h2</span> <span class="o">=</span> <span class="p">(</span><span class="n">h</span><span class="o">&amp;</span><span class="p">(</span><span class="mi">2</span><span class="o">**</span><span class="mi">16</span> <span class="o">-</span><span class="mi">1</span><span class="p">))</span><span class="o">&gt;&gt;</span><span class="mi">8</span>
<a id="__codelineno-12-82" name="__codelineno-12-82"></a>    <span class="n">h1</span> <span class="o">=</span> <span class="p">(</span><span class="n">h</span><span class="o">&amp;</span><span class="p">(</span><span class="mi">2</span><span class="o">**</span><span class="mi">24</span> <span class="o">-</span><span class="mi">1</span><span class="p">))</span><span class="o">&gt;&gt;</span><span class="mi">16</span>
<a id="__codelineno-12-83" name="__codelineno-12-83"></a>    <span class="n">h0</span> <span class="o">=</span> <span class="p">(</span><span class="n">h</span><span class="p">)</span><span class="o">&gt;&gt;</span><span class="mi">24</span>
<a id="__codelineno-12-84" name="__codelineno-12-84"></a>
<a id="__codelineno-12-85" name="__codelineno-12-85"></a>    <span class="n">s</span> <span class="o">=</span> <span class="n">h</span><span class="o">*</span><span class="n">w</span><span class="o">*</span><span class="mi">3</span>
<a id="__codelineno-12-86" name="__codelineno-12-86"></a>    <span class="n">s3</span> <span class="o">=</span> <span class="n">s</span><span class="o">&amp;</span><span class="p">(</span><span class="mi">2</span><span class="o">**</span><span class="mi">8</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-12-87" name="__codelineno-12-87"></a>    <span class="n">s2</span> <span class="o">=</span> <span class="p">(</span><span class="n">s</span><span class="o">&amp;</span><span class="p">(</span><span class="mi">2</span><span class="o">**</span><span class="mi">16</span> <span class="o">-</span><span class="mi">1</span><span class="p">))</span><span class="o">&gt;&gt;</span><span class="mi">8</span>
<a id="__codelineno-12-88" name="__codelineno-12-88"></a>    <span class="n">s1</span> <span class="o">=</span> <span class="p">(</span><span class="n">s</span><span class="o">&amp;</span><span class="p">(</span><span class="mi">2</span><span class="o">**</span><span class="mi">24</span> <span class="o">-</span><span class="mi">1</span><span class="p">))</span><span class="o">&gt;&gt;</span><span class="mi">16</span>
<a id="__codelineno-12-89" name="__codelineno-12-89"></a>    <span class="n">s0</span> <span class="o">=</span> <span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="o">&gt;&gt;</span><span class="mi">24</span>
<a id="__codelineno-12-90" name="__codelineno-12-90"></a>
<a id="__codelineno-12-91" name="__codelineno-12-91"></a>    <span class="n">hd_bytes</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span>
<a id="__codelineno-12-92" name="__codelineno-12-92"></a>        <span class="mi">77</span><span class="p">,</span><span class="mi">77</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">42</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span>
<a id="__codelineno-12-93" name="__codelineno-12-93"></a>        <span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="n">w0</span><span class="p">,</span><span class="n">w1</span><span class="p">,</span><span class="n">w2</span><span class="p">,</span><span class="n">w3</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="n">h0</span><span class="p">,</span><span class="n">h1</span><span class="p">,</span>
<a id="__codelineno-12-94" name="__codelineno-12-94"></a>        <span class="n">h2</span><span class="p">,</span><span class="n">h3</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">98</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span>
<a id="__codelineno-12-95" name="__codelineno-12-95"></a>        <span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">17</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span>
<a id="__codelineno-12-96" name="__codelineno-12-96"></a>        <span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">104</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">21</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span>
<a id="__codelineno-12-97" name="__codelineno-12-97"></a>        <span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">23</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="n">s0</span><span class="p">,</span><span class="n">s1</span><span class="p">,</span><span class="n">s2</span><span class="p">,</span><span class="n">s3</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span>
<a id="__codelineno-12-98" name="__codelineno-12-98"></a>        <span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">8</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;uint8&#39;</span><span class="p">)</span>
<a id="__codelineno-12-99" name="__codelineno-12-99"></a>    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">fname</span><span class="p">,</span> <span class="s1">&#39;wb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
<a id="__codelineno-12-100" name="__codelineno-12-100"></a>        <span class="k">for</span> <span class="n">b</span> <span class="ow">in</span> <span class="n">hd_bytes</span><span class="p">:</span>
<a id="__codelineno-12-101" name="__codelineno-12-101"></a>            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<a id="__codelineno-12-102" name="__codelineno-12-102"></a>
<a id="__codelineno-12-103" name="__codelineno-12-103"></a>        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">img</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]):</span>
<a id="__codelineno-12-104" name="__codelineno-12-104"></a>            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">img</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]):</span>
<a id="__codelineno-12-105" name="__codelineno-12-105"></a>                <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">img</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">2</span><span class="p">]):</span>
<a id="__codelineno-12-106" name="__codelineno-12-106"></a>                    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">img</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">,</span><span class="n">k</span><span class="p">])</span>
<a id="__codelineno-12-107" name="__codelineno-12-107"></a>
<a id="__codelineno-12-108" name="__codelineno-12-108"></a><span class="c1"># Can make this whole faster by using numpy, should consider upgrading</span>
<a id="__codelineno-12-109" name="__codelineno-12-109"></a><span class="k">def</span><span class="w"> </span><span class="nf">main</span><span class="p">():</span>
<a id="__codelineno-12-110" name="__codelineno-12-110"></a>    <span class="n">pxls</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-12-111" name="__codelineno-12-111"></a>    <span class="n">k</span> <span class="o">=</span> <span class="mi">16</span>
<a id="__codelineno-12-112" name="__codelineno-12-112"></a>    <span class="n">iter_lm</span> <span class="o">=</span> <span class="mi">10</span>
<a id="__codelineno-12-113" name="__codelineno-12-113"></a>    <span class="n">width_op</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-12-114" name="__codelineno-12-114"></a>
<a id="__codelineno-12-115" name="__codelineno-12-115"></a>    <span class="n">lines</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-12-116" name="__codelineno-12-116"></a>    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;2019-Summer/image3.txt&#39;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
<a id="__codelineno-12-117" name="__codelineno-12-117"></a>        <span class="n">lines</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">readlines</span><span class="p">()</span>
<a id="__codelineno-12-118" name="__codelineno-12-118"></a>    <span class="n">LOGIT</span><span class="p">(</span><span class="s2">&quot;Reading file...&quot;</span><span class="p">)</span>
<a id="__codelineno-12-119" name="__codelineno-12-119"></a>    <span class="k">for</span> <span class="n">l</span> <span class="ow">in</span> <span class="n">lines</span><span class="p">:</span>
<a id="__codelineno-12-120" name="__codelineno-12-120"></a>        <span class="n">ns</span> <span class="o">=</span> <span class="p">[</span><span class="n">atoi</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">l</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">)]</span>
<a id="__codelineno-12-121" name="__codelineno-12-121"></a>        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">ns</span><span class="p">),</span><span class="mi">3</span><span class="p">):</span>
<a id="__codelineno-12-122" name="__codelineno-12-122"></a>            <span class="n">pxls</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">ns</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="n">ns</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span><span class="n">ns</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">2</span><span class="p">],</span><span class="n">i</span><span class="o">//</span><span class="mi">3</span><span class="p">))</span>
<a id="__codelineno-12-123" name="__codelineno-12-123"></a>            <span class="n">update_width_options</span><span class="p">(</span><span class="n">pxls</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">:</span><span class="mi">3</span><span class="p">],</span><span class="nb">len</span><span class="p">(</span><span class="n">pxls</span><span class="p">),</span> <span class="n">width_op</span><span class="p">)</span>
<a id="__codelineno-12-124" name="__codelineno-12-124"></a>
<a id="__codelineno-12-125" name="__codelineno-12-125"></a>    <span class="n">width</span> <span class="o">=</span> <span class="n">get_image_width</span><span class="p">(</span><span class="n">pxls</span><span class="p">,</span> <span class="n">width_op</span><span class="p">)</span>
<a id="__codelineno-12-126" name="__codelineno-12-126"></a>    <span class="n">LOGIT</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Image width: </span><span class="si">{</span><span class="n">width</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-12-127" name="__codelineno-12-127"></a>
<a id="__codelineno-12-128" name="__codelineno-12-128"></a>    <span class="nb">repr</span> <span class="o">=</span> <span class="n">get_inital_representatives</span><span class="p">(</span><span class="n">pxls</span><span class="p">,</span><span class="n">k</span><span class="p">)</span>
<a id="__codelineno-12-129" name="__codelineno-12-129"></a>    <span class="n">LOGIT</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Searching for representations...&quot;</span><span class="p">)</span>
<a id="__codelineno-12-130" name="__codelineno-12-130"></a>
<a id="__codelineno-12-131" name="__codelineno-12-131"></a>    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">iter_lm</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
<a id="__codelineno-12-132" name="__codelineno-12-132"></a>        <span class="n">cens</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">repr</span><span class="p">]</span>
<a id="__codelineno-12-133" name="__codelineno-12-133"></a>        <span class="n">cens_i</span> <span class="o">=</span> <span class="p">[</span><span class="nb">list</span><span class="p">()</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">repr</span><span class="p">]</span>
<a id="__codelineno-12-134" name="__codelineno-12-134"></a>        <span class="n">n_check</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">pxls</span><span class="p">)</span>
<a id="__codelineno-12-135" name="__codelineno-12-135"></a>        <span class="k">for</span> <span class="n">px</span> <span class="ow">in</span> <span class="n">pxls</span><span class="p">:</span>
<a id="__codelineno-12-136" name="__codelineno-12-136"></a>            <span class="n">c_i</span> <span class="o">=</span> <span class="n">find_cluster_index</span><span class="p">(</span><span class="n">px</span><span class="p">,</span><span class="nb">repr</span><span class="p">)</span>
<a id="__codelineno-12-137" name="__codelineno-12-137"></a>            <span class="n">cens_i</span><span class="p">[</span><span class="n">c_i</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">px</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span>
<a id="__codelineno-12-138" name="__codelineno-12-138"></a>        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">cens</span><span class="p">)):</span>
<a id="__codelineno-12-139" name="__codelineno-12-139"></a>            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">cens_i</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
<a id="__codelineno-12-140" name="__codelineno-12-140"></a>                <span class="n">cens</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">cens</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="n">pxls</span><span class="p">[</span><span class="n">j</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">cens_i</span><span class="p">[</span><span class="n">i</span><span class="p">]),</span> <span class="n">cens</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="n">pxls</span><span class="p">[</span><span class="n">j</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">cens_i</span><span class="p">[</span><span class="n">i</span><span class="p">]),</span> <span class="n">cens</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span><span class="o">+</span><span class="n">pxls</span><span class="p">[</span><span class="n">j</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">cens_i</span><span class="p">[</span><span class="n">i</span><span class="p">]))</span>
<a id="__codelineno-12-141" name="__codelineno-12-141"></a>            <span class="n">n_check</span> <span class="o">-=</span> <span class="nb">len</span><span class="p">(</span><span class="n">cens_i</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
<a id="__codelineno-12-142" name="__codelineno-12-142"></a>        <span class="k">assert</span> <span class="n">n_check</span> <span class="o">==</span> <span class="mi">0</span>
<a id="__codelineno-12-143" name="__codelineno-12-143"></a>        <span class="c1"># find new reps</span>
<a id="__codelineno-12-144" name="__codelineno-12-144"></a>        <span class="nb">repr</span> <span class="o">=</span> <span class="n">find_next_representatives</span><span class="p">(</span><span class="n">pxls</span><span class="p">,</span> <span class="n">cens</span><span class="p">)</span>
<a id="__codelineno-12-145" name="__codelineno-12-145"></a>    <span class="n">LOGIT</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Calculated representation for k=</span><span class="si">{</span><span class="n">k</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-12-146" name="__codelineno-12-146"></a>
<a id="__codelineno-12-147" name="__codelineno-12-147"></a>    <span class="n">new_img</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">full</span><span class="p">((</span><span class="nb">len</span><span class="p">(</span><span class="n">pxls</span><span class="p">)</span><span class="o">//</span><span class="n">width</span><span class="p">,</span><span class="n">width</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span><span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;uint8&#39;</span><span class="p">,</span><span class="n">fill_value</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-12-148" name="__codelineno-12-148"></a>    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">new_img</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]):</span>
<a id="__codelineno-12-149" name="__codelineno-12-149"></a>        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">new_img</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]):</span>
<a id="__codelineno-12-150" name="__codelineno-12-150"></a>            <span class="n">p_i</span> <span class="o">=</span> <span class="n">find_cluster_index</span><span class="p">(</span><span class="n">pxls</span><span class="p">[</span><span class="n">i</span><span class="o">*</span><span class="n">width</span><span class="o">+</span><span class="n">j</span><span class="p">],</span><span class="nb">repr</span><span class="p">)</span>
<a id="__codelineno-12-151" name="__codelineno-12-151"></a>            <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">new_img</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">2</span><span class="p">]):</span>
<a id="__codelineno-12-152" name="__codelineno-12-152"></a>                <span class="n">new_img</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">,</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="nb">repr</span><span class="p">[</span><span class="n">p_i</span><span class="p">][</span><span class="n">k</span><span class="p">]</span>
<a id="__codelineno-12-153" name="__codelineno-12-153"></a>
<a id="__codelineno-12-154" name="__codelineno-12-154"></a>    <span class="n">save_tif_image</span><span class="p">(</span><span class="s1">&#39;2019-Summer/image_.tif&#39;</span><span class="p">,</span> <span class="n">new_img</span><span class="p">,</span> <span class="n">new_img</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">new_img</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<a id="__codelineno-12-155" name="__codelineno-12-155"></a>
<a id="__codelineno-12-156" name="__codelineno-12-156"></a>
<a id="__codelineno-12-157" name="__codelineno-12-157"></a><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
<a id="__codelineno-12-158" name="__codelineno-12-158"></a>    <span class="n">main</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
<h4 id="funtotals-solution_5">FunTotal's solution<a class="headerlink" href="#funtotals-solution_5" title="Permanent link"></a></h4>
<p>C++ solution:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-13-1">  1</a></span>
<span class="normal"><a href="#__codelineno-13-2">  2</a></span>
<span class="normal"><a href="#__codelineno-13-3">  3</a></span>
<span class="normal"><a href="#__codelineno-13-4">  4</a></span>
<span class="normal"><a href="#__codelineno-13-5">  5</a></span>
<span class="normal"><a href="#__codelineno-13-6">  6</a></span>
<span class="normal"><a href="#__codelineno-13-7">  7</a></span>
<span class="normal"><a href="#__codelineno-13-8">  8</a></span>
<span class="normal"><a href="#__codelineno-13-9">  9</a></span>
<span class="normal"><a href="#__codelineno-13-10"> 10</a></span>
<span class="normal"><a href="#__codelineno-13-11"> 11</a></span>
<span class="normal"><a href="#__codelineno-13-12"> 12</a></span>
<span class="normal"><a href="#__codelineno-13-13"> 13</a></span>
<span class="normal"><a href="#__codelineno-13-14"> 14</a></span>
<span class="normal"><a href="#__codelineno-13-15"> 15</a></span>
<span class="normal"><a href="#__codelineno-13-16"> 16</a></span>
<span class="normal"><a href="#__codelineno-13-17"> 17</a></span>
<span class="normal"><a href="#__codelineno-13-18"> 18</a></span>
<span class="normal"><a href="#__codelineno-13-19"> 19</a></span>
<span class="normal"><a href="#__codelineno-13-20"> 20</a></span>
<span class="normal"><a href="#__codelineno-13-21"> 21</a></span>
<span class="normal"><a href="#__codelineno-13-22"> 22</a></span>
<span class="normal"><a href="#__codelineno-13-23"> 23</a></span>
<span class="normal"><a href="#__codelineno-13-24"> 24</a></span>
<span class="normal"><a href="#__codelineno-13-25"> 25</a></span>
<span class="normal"><a href="#__codelineno-13-26"> 26</a></span>
<span class="normal"><a href="#__codelineno-13-27"> 27</a></span>
<span class="normal"><a href="#__codelineno-13-28"> 28</a></span>
<span class="normal"><a href="#__codelineno-13-29"> 29</a></span>
<span class="normal"><a href="#__codelineno-13-30"> 30</a></span>
<span class="normal"><a href="#__codelineno-13-31"> 31</a></span>
<span class="normal"><a href="#__codelineno-13-32"> 32</a></span>
<span class="normal"><a href="#__codelineno-13-33"> 33</a></span>
<span class="normal"><a href="#__codelineno-13-34"> 34</a></span>
<span class="normal"><a href="#__codelineno-13-35"> 35</a></span>
<span class="normal"><a href="#__codelineno-13-36"> 36</a></span>
<span class="normal"><a href="#__codelineno-13-37"> 37</a></span>
<span class="normal"><a href="#__codelineno-13-38"> 38</a></span>
<span class="normal"><a href="#__codelineno-13-39"> 39</a></span>
<span class="normal"><a href="#__codelineno-13-40"> 40</a></span>
<span class="normal"><a href="#__codelineno-13-41"> 41</a></span>
<span class="normal"><a href="#__codelineno-13-42"> 42</a></span>
<span class="normal"><a href="#__codelineno-13-43"> 43</a></span>
<span class="normal"><a href="#__codelineno-13-44"> 44</a></span>
<span class="normal"><a href="#__codelineno-13-45"> 45</a></span>
<span class="normal"><a href="#__codelineno-13-46"> 46</a></span>
<span class="normal"><a href="#__codelineno-13-47"> 47</a></span>
<span class="normal"><a href="#__codelineno-13-48"> 48</a></span>
<span class="normal"><a href="#__codelineno-13-49"> 49</a></span>
<span class="normal"><a href="#__codelineno-13-50"> 50</a></span>
<span class="normal"><a href="#__codelineno-13-51"> 51</a></span>
<span class="normal"><a href="#__codelineno-13-52"> 52</a></span>
<span class="normal"><a href="#__codelineno-13-53"> 53</a></span>
<span class="normal"><a href="#__codelineno-13-54"> 54</a></span>
<span class="normal"><a href="#__codelineno-13-55"> 55</a></span>
<span class="normal"><a href="#__codelineno-13-56"> 56</a></span>
<span class="normal"><a href="#__codelineno-13-57"> 57</a></span>
<span class="normal"><a href="#__codelineno-13-58"> 58</a></span>
<span class="normal"><a href="#__codelineno-13-59"> 59</a></span>
<span class="normal"><a href="#__codelineno-13-60"> 60</a></span>
<span class="normal"><a href="#__codelineno-13-61"> 61</a></span>
<span class="normal"><a href="#__codelineno-13-62"> 62</a></span>
<span class="normal"><a href="#__codelineno-13-63"> 63</a></span>
<span class="normal"><a href="#__codelineno-13-64"> 64</a></span>
<span class="normal"><a href="#__codelineno-13-65"> 65</a></span>
<span class="normal"><a href="#__codelineno-13-66"> 66</a></span>
<span class="normal"><a href="#__codelineno-13-67"> 67</a></span>
<span class="normal"><a href="#__codelineno-13-68"> 68</a></span>
<span class="normal"><a href="#__codelineno-13-69"> 69</a></span>
<span class="normal"><a href="#__codelineno-13-70"> 70</a></span>
<span class="normal"><a href="#__codelineno-13-71"> 71</a></span>
<span class="normal"><a href="#__codelineno-13-72"> 72</a></span>
<span class="normal"><a href="#__codelineno-13-73"> 73</a></span>
<span class="normal"><a href="#__codelineno-13-74"> 74</a></span>
<span class="normal"><a href="#__codelineno-13-75"> 75</a></span>
<span class="normal"><a href="#__codelineno-13-76"> 76</a></span>
<span class="normal"><a href="#__codelineno-13-77"> 77</a></span>
<span class="normal"><a href="#__codelineno-13-78"> 78</a></span>
<span class="normal"><a href="#__codelineno-13-79"> 79</a></span>
<span class="normal"><a href="#__codelineno-13-80"> 80</a></span>
<span class="normal"><a href="#__codelineno-13-81"> 81</a></span>
<span class="normal"><a href="#__codelineno-13-82"> 82</a></span>
<span class="normal"><a href="#__codelineno-13-83"> 83</a></span>
<span class="normal"><a href="#__codelineno-13-84"> 84</a></span>
<span class="normal"><a href="#__codelineno-13-85"> 85</a></span>
<span class="normal"><a href="#__codelineno-13-86"> 86</a></span>
<span class="normal"><a href="#__codelineno-13-87"> 87</a></span>
<span class="normal"><a href="#__codelineno-13-88"> 88</a></span>
<span class="normal"><a href="#__codelineno-13-89"> 89</a></span>
<span class="normal"><a href="#__codelineno-13-90"> 90</a></span>
<span class="normal"><a href="#__codelineno-13-91"> 91</a></span>
<span class="normal"><a href="#__codelineno-13-92"> 92</a></span>
<span class="normal"><a href="#__codelineno-13-93"> 93</a></span>
<span class="normal"><a href="#__codelineno-13-94"> 94</a></span>
<span class="normal"><a href="#__codelineno-13-95"> 95</a></span>
<span class="normal"><a href="#__codelineno-13-96"> 96</a></span>
<span class="normal"><a href="#__codelineno-13-97"> 97</a></span>
<span class="normal"><a href="#__codelineno-13-98"> 98</a></span>
<span class="normal"><a href="#__codelineno-13-99"> 99</a></span>
<span class="normal"><a href="#__codelineno-13-100">100</a></span>
<span class="normal"><a href="#__codelineno-13-101">101</a></span>
<span class="normal"><a href="#__codelineno-13-102">102</a></span>
<span class="normal"><a href="#__codelineno-13-103">103</a></span>
<span class="normal"><a href="#__codelineno-13-104">104</a></span>
<span class="normal"><a href="#__codelineno-13-105">105</a></span>
<span class="normal"><a href="#__codelineno-13-106">106</a></span>
<span class="normal"><a href="#__codelineno-13-107">107</a></span>
<span class="normal"><a href="#__codelineno-13-108">108</a></span>
<span class="normal"><a href="#__codelineno-13-109">109</a></span>
<span class="normal"><a href="#__codelineno-13-110">110</a></span>
<span class="normal"><a href="#__codelineno-13-111">111</a></span>
<span class="normal"><a href="#__codelineno-13-112">112</a></span>
<span class="normal"><a href="#__codelineno-13-113">113</a></span>
<span class="normal"><a href="#__codelineno-13-114">114</a></span>
<span class="normal"><a href="#__codelineno-13-115">115</a></span>
<span class="normal"><a href="#__codelineno-13-116">116</a></span>
<span class="normal"><a href="#__codelineno-13-117">117</a></span>
<span class="normal"><a href="#__codelineno-13-118">118</a></span>
<span class="normal"><a href="#__codelineno-13-119">119</a></span>
<span class="normal"><a href="#__codelineno-13-120">120</a></span>
<span class="normal"><a href="#__codelineno-13-121">121</a></span>
<span class="normal"><a href="#__codelineno-13-122">122</a></span>
<span class="normal"><a href="#__codelineno-13-123">123</a></span>
<span class="normal"><a href="#__codelineno-13-124">124</a></span>
<span class="normal"><a href="#__codelineno-13-125">125</a></span>
<span class="normal"><a href="#__codelineno-13-126">126</a></span>
<span class="normal"><a href="#__codelineno-13-127">127</a></span>
<span class="normal"><a href="#__codelineno-13-128">128</a></span>
<span class="normal"><a href="#__codelineno-13-129">129</a></span>
<span class="normal"><a href="#__codelineno-13-130">130</a></span>
<span class="normal"><a href="#__codelineno-13-131">131</a></span>
<span class="normal"><a href="#__codelineno-13-132">132</a></span>
<span class="normal"><a href="#__codelineno-13-133">133</a></span>
<span class="normal"><a href="#__codelineno-13-134">134</a></span>
<span class="normal"><a href="#__codelineno-13-135">135</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1"></a><span class="cm">/*</span>
<a id="__codelineno-13-2" name="__codelineno-13-2"></a><span class="cm">这题意思就是利用上一题聚类，把颜色相近的用一个代表颜色替代后，就可以用尽可能少的颜色表示</span>
<a id="__codelineno-13-3" name="__codelineno-13-3"></a><span class="cm">同样的一张图片，并把那些替代后的像素元组写入image.tif按照题中的格式。所以第五题的代码得</span>
<a id="__codelineno-13-4" name="__codelineno-13-4"></a><span class="cm">写对，然后比较考察第六题的阅读理解，看懂怎么按照格式输出才使得图片能打得开。</span>
<a id="__codelineno-13-5" name="__codelineno-13-5"></a>
<a id="__codelineno-13-6" name="__codelineno-13-6"></a><span class="cm">一个比较无语的地方是，题面里说图片是squre，但是发现不是一个完全平方数，参考了楼上的py代码后</span>
<a id="__codelineno-13-7" name="__codelineno-13-7"></a><span class="cm">发现应该意思是矩形，然后根据第二问里面的白色像素的方法来判断长宽是1600 1250，然后直接这样来</span>
<a id="__codelineno-13-8" name="__codelineno-13-8"></a><span class="cm">输出一下，打开图片发现确实是这样，再去考虑用第五题的聚类算法来压缩。实际测下来发现我的代码跑</span>
<a id="__codelineno-13-9" name="__codelineno-13-9"></a><span class="cm">得飞快，而且目测效果比楼上的py代码更好(因为他第五题的代码就是有bug的)</span>
<a id="__codelineno-13-10" name="__codelineno-13-10"></a><span class="cm">*/</span>
<a id="__codelineno-13-11" name="__codelineno-13-11"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;bits/stdc++.h&gt;</span>
<a id="__codelineno-13-12" name="__codelineno-13-12"></a><span class="cp">#define int long long</span>
<a id="__codelineno-13-13" name="__codelineno-13-13"></a><span class="cp">#define tii tuple&lt;int, int, int&gt;</span>
<a id="__codelineno-13-14" name="__codelineno-13-14"></a><span class="k">using</span><span class="w"> </span><span class="k">namespace</span><span class="w"> </span><span class="nn">std</span><span class="p">;</span>
<a id="__codelineno-13-15" name="__codelineno-13-15"></a><span class="k">struct</span><span class="w"> </span><span class="nc">Node</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-13-16" name="__codelineno-13-16"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="n">c</span><span class="p">,</span><span class="w"> </span><span class="n">val</span><span class="p">,</span><span class="w"> </span><span class="n">id</span><span class="p">;</span>
<a id="__codelineno-13-17" name="__codelineno-13-17"></a><span class="p">};</span>
<a id="__codelineno-13-18" name="__codelineno-13-18"></a><span class="kt">bool</span><span class="w"> </span><span class="nf">cmp</span><span class="p">(</span><span class="n">Node</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">Node</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-13-19" name="__codelineno-13-19"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">a</span><span class="p">.</span><span class="n">val</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">val</span><span class="p">)</span>
<a id="__codelineno-13-20" name="__codelineno-13-20"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="n">val</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">val</span><span class="p">;</span>
<a id="__codelineno-13-21" name="__codelineno-13-21"></a><span class="w">    </span><span class="k">else</span>
<a id="__codelineno-13-22" name="__codelineno-13-22"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="n">id</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">id</span><span class="p">;</span>
<a id="__codelineno-13-23" name="__codelineno-13-23"></a><span class="p">}</span>
<a id="__codelineno-13-24" name="__codelineno-13-24"></a><span class="kt">int</span><span class="w"> </span><span class="nf">cal</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">c</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-13-25" name="__codelineno-13-25"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">c</span><span class="p">;</span>
<a id="__codelineno-13-26" name="__codelineno-13-26"></a><span class="p">}</span>
<a id="__codelineno-13-27" name="__codelineno-13-27"></a><span class="kt">int</span><span class="w"> </span><span class="nf">dis</span><span class="p">(</span><span class="n">Node</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">Node</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-13-28" name="__codelineno-13-28"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">abs</span><span class="p">(</span><span class="n">a</span><span class="p">.</span><span class="n">a</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">abs</span><span class="p">(</span><span class="n">a</span><span class="p">.</span><span class="n">b</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">abs</span><span class="p">(</span><span class="n">a</span><span class="p">.</span><span class="n">c</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">c</span><span class="p">);</span>
<a id="__codelineno-13-29" name="__codelineno-13-29"></a><span class="p">}</span>
<a id="__codelineno-13-30" name="__codelineno-13-30"></a><span class="kt">void</span><span class="w"> </span><span class="nf">solve</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-13-31" name="__codelineno-13-31"></a><span class="w">    </span><span class="n">ifstream</span><span class="w"> </span><span class="n">fin</span><span class="p">(</span><span class="s">&quot;E:/UTokyo_Entrance_Exam/CI/2019_summer/image2.txt&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">ios</span><span class="o">::</span><span class="n">in</span><span class="p">);</span>
<a id="__codelineno-13-32" name="__codelineno-13-32"></a><span class="w">    </span><span class="n">ofstream</span><span class="w"> </span><span class="n">fout</span><span class="p">(</span><span class="s">&quot;E:/UTokyo_Entrance_Exam/CI/2019_summer/image2.tif&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">ios</span><span class="o">::</span><span class="n">out</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">ios</span><span class="o">::</span><span class="n">binary</span><span class="p">);</span>
<a id="__codelineno-13-33" name="__codelineno-13-33"></a><span class="w">    </span><span class="n">vector</span><span class="o">&lt;</span><span class="n">tii</span><span class="o">&gt;</span><span class="w"> </span><span class="n">vec</span><span class="p">;</span>
<a id="__codelineno-13-34" name="__codelineno-13-34"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">num1</span><span class="p">,</span><span class="w"> </span><span class="n">num2</span><span class="p">,</span><span class="w"> </span><span class="n">num3</span><span class="p">;</span>
<a id="__codelineno-13-35" name="__codelineno-13-35"></a><span class="w">    </span><span class="n">vector</span><span class="o">&lt;</span><span class="n">Node</span><span class="o">&gt;</span><span class="w"> </span><span class="n">vec2</span><span class="p">;</span>
<a id="__codelineno-13-36" name="__codelineno-13-36"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">cnt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="__codelineno-13-37" name="__codelineno-13-37"></a><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">fin</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">num1</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">num2</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">num3</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-13-38" name="__codelineno-13-38"></a><span class="w">        </span><span class="n">vec</span><span class="p">.</span><span class="n">push_back</span><span class="p">({</span><span class="n">num1</span><span class="p">,</span><span class="w"> </span><span class="n">num2</span><span class="p">,</span><span class="w"> </span><span class="n">num3</span><span class="p">});</span>
<a id="__codelineno-13-39" name="__codelineno-13-39"></a><span class="w">        </span><span class="n">vec2</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">Node</span><span class="p">{</span><span class="n">num1</span><span class="p">,</span><span class="w"> </span><span class="n">num2</span><span class="p">,</span><span class="w"> </span><span class="n">num3</span><span class="p">,</span><span class="w"> </span><span class="n">cal</span><span class="p">(</span><span class="n">num1</span><span class="p">,</span><span class="w"> </span><span class="n">num2</span><span class="p">,</span><span class="w"> </span><span class="n">num3</span><span class="p">),</span><span class="w"> </span><span class="n">cnt</span><span class="o">++</span><span class="p">});</span>
<a id="__codelineno-13-40" name="__codelineno-13-40"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-13-41" name="__codelineno-13-41"></a><span class="w">    </span><span class="n">sort</span><span class="p">(</span><span class="n">vec2</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span><span class="w"> </span><span class="n">vec2</span><span class="p">.</span><span class="n">end</span><span class="p">(),</span><span class="w"> </span><span class="n">cmp</span><span class="p">);</span>
<a id="__codelineno-13-42" name="__codelineno-13-42"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">vec2</span><span class="p">.</span><span class="n">size</span><span class="p">(),</span><span class="w"> </span><span class="n">k</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">32</span><span class="p">;</span>
<a id="__codelineno-13-43" name="__codelineno-13-43"></a><span class="w">    </span><span class="n">vector</span><span class="o">&lt;</span><span class="n">Node</span><span class="o">&gt;</span><span class="w"> </span><span class="n">repre</span><span class="p">(</span><span class="n">k</span><span class="p">);</span><span class="w">  </span><span class="c1">// k个代表元素</span>
<a id="__codelineno-13-44" name="__codelineno-13-44"></a><span class="w">    </span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="w"> </span><span class="n">bel</span><span class="p">(</span><span class="n">n</span><span class="p">);</span><span class="w"> </span><span class="c1">// 记录每个像素的代表元素编号</span>
<a id="__codelineno-13-45" name="__codelineno-13-45"></a><span class="w">    </span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="w"> </span><span class="n">is_repre</span><span class="p">(</span><span class="n">n</span><span class="p">);</span>
<a id="__codelineno-13-46" name="__codelineno-13-46"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">k</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-13-47" name="__codelineno-13-47"></a><span class="w">        </span><span class="n">Node</span><span class="w"> </span><span class="n">ei</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">vec2</span><span class="p">[</span><span class="n">n</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">k</span><span class="p">];</span>
<a id="__codelineno-13-48" name="__codelineno-13-48"></a><span class="w">        </span><span class="n">repre</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ei</span><span class="p">;</span>
<a id="__codelineno-13-49" name="__codelineno-13-49"></a><span class="w">        </span><span class="n">is_repre</span><span class="p">[</span><span class="n">ei</span><span class="p">.</span><span class="n">id</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<a id="__codelineno-13-50" name="__codelineno-13-50"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-13-51" name="__codelineno-13-51"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">repeat</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="n">repeat</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span><span class="w"> </span><span class="n">repeat</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-13-52" name="__codelineno-13-52"></a><span class="w">        </span><span class="n">vector</span><span class="o">&lt;</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">Node</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">group</span><span class="p">;</span>
<a id="__codelineno-13-53" name="__codelineno-13-53"></a><span class="w">        </span><span class="n">group</span><span class="p">.</span><span class="n">resize</span><span class="p">(</span><span class="n">k</span><span class="p">);</span><span class="w">  </span><span class="c1">// 开 k 个vector, 存每个group里面有哪些三元组</span>
<a id="__codelineno-13-54" name="__codelineno-13-54"></a><span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">k</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<a id="__codelineno-13-55" name="__codelineno-13-55"></a><span class="w">            </span><span class="n">group</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">push_back</span><span class="p">(</span><span class="n">repre</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span><span class="w">  </span><span class="c1">// 先把代表元素放进去</span>
<a id="__codelineno-13-56" name="__codelineno-13-56"></a><span class="w">        </span><span class="c1">// 枚举三元组, 遍历找最近的聚类</span>
<a id="__codelineno-13-57" name="__codelineno-13-57"></a><span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">n</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-13-58" name="__codelineno-13-58"></a><span class="w">            </span><span class="n">Node</span><span class="w"> </span><span class="n">now</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">vec2</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<a id="__codelineno-13-59" name="__codelineno-13-59"></a><span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">is_repre</span><span class="p">[</span><span class="n">now</span><span class="p">.</span><span class="n">id</span><span class="p">])</span>
<a id="__codelineno-13-60" name="__codelineno-13-60"></a><span class="w">                </span><span class="k">continue</span><span class="p">;</span><span class="w">   </span><span class="c1">// 去掉代表元素</span>
<a id="__codelineno-13-61" name="__codelineno-13-61"></a><span class="w">            </span><span class="kt">int</span><span class="w"> </span><span class="n">i_bel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w">  </span><span class="c1">// 当前元素属于的聚类编号</span>
<a id="__codelineno-13-62" name="__codelineno-13-62"></a><span class="w">            </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">k</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-13-63" name="__codelineno-13-63"></a><span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">dis</span><span class="p">(</span><span class="n">now</span><span class="p">,</span><span class="w"> </span><span class="n">repre</span><span class="p">[</span><span class="n">j</span><span class="p">])</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">dis</span><span class="p">(</span><span class="n">now</span><span class="p">,</span><span class="w"> </span><span class="n">repre</span><span class="p">[</span><span class="n">i_bel</span><span class="p">])</span><span class="w"> </span><span class="o">||</span>
<a id="__codelineno-13-64" name="__codelineno-13-64"></a><span class="w">                    </span><span class="n">dis</span><span class="p">(</span><span class="n">now</span><span class="p">,</span><span class="w"> </span><span class="n">repre</span><span class="p">[</span><span class="n">j</span><span class="p">])</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">dis</span><span class="p">(</span><span class="n">now</span><span class="p">,</span><span class="w"> </span><span class="n">repre</span><span class="p">[</span><span class="n">i_bel</span><span class="p">])</span><span class="w"> </span><span class="o">&amp;&amp;</span>
<a id="__codelineno-13-65" name="__codelineno-13-65"></a><span class="w">                        </span><span class="n">repre</span><span class="p">[</span><span class="n">j</span><span class="p">].</span><span class="n">id</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">repre</span><span class="p">[</span><span class="n">i_bel</span><span class="p">].</span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-13-66" name="__codelineno-13-66"></a><span class="w">                    </span><span class="c1">// 距离更近或者距离相同编号更大</span>
<a id="__codelineno-13-67" name="__codelineno-13-67"></a><span class="w">                    </span><span class="n">i_bel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">j</span><span class="p">;</span>
<a id="__codelineno-13-68" name="__codelineno-13-68"></a><span class="w">                </span><span class="p">}</span>
<a id="__codelineno-13-69" name="__codelineno-13-69"></a><span class="w">            </span><span class="p">}</span>
<a id="__codelineno-13-70" name="__codelineno-13-70"></a><span class="w">            </span><span class="n">group</span><span class="p">[</span><span class="n">i_bel</span><span class="p">].</span><span class="n">push_back</span><span class="p">(</span><span class="n">now</span><span class="p">);</span>
<a id="__codelineno-13-71" name="__codelineno-13-71"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-13-72" name="__codelineno-13-72"></a><span class="w">        </span><span class="c1">// 重新算每个聚类里的代表元素</span>
<a id="__codelineno-13-73" name="__codelineno-13-73"></a><span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">k</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-13-74" name="__codelineno-13-74"></a><span class="w">            </span><span class="n">Node</span><span class="w"> </span><span class="n">centroid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Node</span><span class="p">{</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">};</span><span class="w">  </span><span class="c1">// 每个聚类的重心</span>
<a id="__codelineno-13-75" name="__codelineno-13-75"></a><span class="w">            </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">auto</span><span class="w"> </span><span class="p">[</span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="n">c</span><span class="p">,</span><span class="w"> </span><span class="n">val</span><span class="p">,</span><span class="w"> </span><span class="n">id</span><span class="p">]</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">group</span><span class="p">[</span><span class="n">i</span><span class="p">])</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-13-76" name="__codelineno-13-76"></a><span class="w">                </span><span class="n">centroid</span><span class="p">.</span><span class="n">a</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="n">centroid</span><span class="p">.</span><span class="n">b</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">b</span><span class="p">,</span><span class="w"> </span><span class="n">centroid</span><span class="p">.</span><span class="n">c</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">c</span><span class="p">;</span>
<a id="__codelineno-13-77" name="__codelineno-13-77"></a><span class="w">            </span><span class="p">}</span>
<a id="__codelineno-13-78" name="__codelineno-13-78"></a><span class="w">            </span><span class="c1">// c++整形默认向下整除, 也可以用浮点数再floor取整, 可能还得加个eps</span>
<a id="__codelineno-13-79" name="__codelineno-13-79"></a><span class="w">            </span><span class="n">centroid</span><span class="p">.</span><span class="n">a</span><span class="w"> </span><span class="o">/=</span><span class="w"> </span><span class="n">group</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">size</span><span class="p">(),</span><span class="w"> </span><span class="n">centroid</span><span class="p">.</span><span class="n">b</span><span class="w"> </span><span class="o">/=</span><span class="w"> </span><span class="n">group</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">size</span><span class="p">(),</span>
<a id="__codelineno-13-80" name="__codelineno-13-80"></a><span class="w">                </span><span class="n">centroid</span><span class="p">.</span><span class="n">c</span><span class="w"> </span><span class="o">/=</span><span class="w"> </span><span class="n">group</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">size</span><span class="p">();</span>
<a id="__codelineno-13-81" name="__codelineno-13-81"></a><span class="w">            </span><span class="c1">// 找组里离重心最近的作为新的代表元素</span>
<a id="__codelineno-13-82" name="__codelineno-13-82"></a><span class="w">            </span><span class="n">Node</span><span class="w"> </span><span class="n">newrepre</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">repre</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<a id="__codelineno-13-83" name="__codelineno-13-83"></a><span class="w">            </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">auto</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">group</span><span class="p">[</span><span class="n">i</span><span class="p">])</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-13-84" name="__codelineno-13-84"></a><span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">dis</span><span class="p">(</span><span class="n">it</span><span class="p">,</span><span class="w"> </span><span class="n">centroid</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">dis</span><span class="p">(</span><span class="n">newrepre</span><span class="p">,</span><span class="w"> </span><span class="n">centroid</span><span class="p">)</span><span class="w"> </span><span class="o">||</span>
<a id="__codelineno-13-85" name="__codelineno-13-85"></a><span class="w">                    </span><span class="n">dis</span><span class="p">(</span><span class="n">it</span><span class="p">,</span><span class="w"> </span><span class="n">centroid</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">dis</span><span class="p">(</span><span class="n">newrepre</span><span class="p">,</span><span class="w"> </span><span class="n">centroid</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;&amp;</span>
<a id="__codelineno-13-86" name="__codelineno-13-86"></a><span class="w">                        </span><span class="n">it</span><span class="p">.</span><span class="n">id</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">newrepre</span><span class="p">.</span><span class="n">id</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-13-87" name="__codelineno-13-87"></a><span class="w">                    </span><span class="n">newrepre</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">it</span><span class="p">;</span>
<a id="__codelineno-13-88" name="__codelineno-13-88"></a><span class="w">                </span><span class="p">}</span>
<a id="__codelineno-13-89" name="__codelineno-13-89"></a><span class="w">            </span><span class="p">}</span>
<a id="__codelineno-13-90" name="__codelineno-13-90"></a><span class="w">            </span><span class="n">is_repre</span><span class="p">[</span><span class="n">repre</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">id</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="__codelineno-13-91" name="__codelineno-13-91"></a><span class="w">            </span><span class="n">repre</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">newrepre</span><span class="p">;</span>
<a id="__codelineno-13-92" name="__codelineno-13-92"></a><span class="w">            </span><span class="n">is_repre</span><span class="p">[</span><span class="n">repre</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">id</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<a id="__codelineno-13-93" name="__codelineno-13-93"></a><span class="w">            </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">auto</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">group</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
<a id="__codelineno-13-94" name="__codelineno-13-94"></a><span class="w">                </span><span class="n">bel</span><span class="p">[</span><span class="n">it</span><span class="p">.</span><span class="n">id</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">newrepre</span><span class="p">.</span><span class="n">id</span><span class="p">;</span>
<a id="__codelineno-13-95" name="__codelineno-13-95"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-13-96" name="__codelineno-13-96"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-13-97" name="__codelineno-13-97"></a>
<a id="__codelineno-13-98" name="__codelineno-13-98"></a>
<a id="__codelineno-13-99" name="__codelineno-13-99"></a><span class="w">    </span><span class="c1">// 下面处理按照对应格式输出</span>
<a id="__codelineno-13-100" name="__codelineno-13-100"></a><span class="w">    </span><span class="c1">// 先求出图片的长宽，利用第二问的白色来判断</span>
<a id="__codelineno-13-101" name="__codelineno-13-101"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">W</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1600</span><span class="p">,</span><span class="w"> </span><span class="n">H</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1025</span><span class="p">,</span><span class="w"> </span><span class="n">S</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">W</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">H</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span>
<a id="__codelineno-13-102" name="__codelineno-13-102"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">w</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span><span class="w"> </span><span class="n">h</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span><span class="w"> </span><span class="n">s</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>
<a id="__codelineno-13-103" name="__codelineno-13-103"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">--</span><span class="p">)</span>
<a id="__codelineno-13-104" name="__codelineno-13-104"></a><span class="w">        </span><span class="n">w</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">W</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="mi">255</span><span class="p">,</span><span class="w"> </span><span class="n">W</span><span class="w"> </span><span class="o">&gt;&gt;=</span><span class="w"> </span><span class="mi">8</span><span class="p">;</span>
<a id="__codelineno-13-105" name="__codelineno-13-105"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">--</span><span class="p">)</span>
<a id="__codelineno-13-106" name="__codelineno-13-106"></a><span class="w">        </span><span class="n">h</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">H</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="mi">255</span><span class="p">,</span><span class="w"> </span><span class="n">H</span><span class="w"> </span><span class="o">&gt;&gt;=</span><span class="w"> </span><span class="mi">8</span><span class="p">;</span>
<a id="__codelineno-13-107" name="__codelineno-13-107"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">--</span><span class="p">)</span>
<a id="__codelineno-13-108" name="__codelineno-13-108"></a><span class="w">        </span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">S</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="mi">255</span><span class="p">,</span><span class="w"> </span><span class="n">S</span><span class="w"> </span><span class="o">&gt;&gt;=</span><span class="w"> </span><span class="mi">8</span><span class="p">;</span>
<a id="__codelineno-13-109" name="__codelineno-13-109"></a><span class="w">    </span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="w"> </span><span class="n">tp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="mi">77</span><span class="p">,</span><span class="w"> </span><span class="mi">77</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">  </span><span class="mi">42</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">  </span><span class="mi">0</span><span class="p">,</span><span class="w">  </span><span class="mi">0</span><span class="p">,</span><span class="w">  </span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">  </span><span class="mi">7</span><span class="p">,</span><span class="w">   </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">  </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<a id="__codelineno-13-110" name="__codelineno-13-110"></a><span class="w">                      </span><span class="mi">0</span><span class="p">,</span><span class="w">  </span><span class="mi">0</span><span class="p">,</span><span class="w">  </span><span class="mi">1</span><span class="p">,</span><span class="w">  </span><span class="n">w</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="w"> </span><span class="n">w</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="w"> </span><span class="n">w</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span><span class="w"> </span><span class="n">w</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">  </span><span class="mi">0</span><span class="p">,</span><span class="w">   </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">  </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<a id="__codelineno-13-111" name="__codelineno-13-111"></a><span class="w">                      </span><span class="n">h</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="w"> </span><span class="n">h</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="w"> </span><span class="n">h</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span><span class="w"> </span><span class="n">h</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">  </span><span class="mi">2</span><span class="p">,</span><span class="w">  </span><span class="mi">0</span><span class="p">,</span><span class="w">  </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">  </span><span class="mi">0</span><span class="p">,</span><span class="w">   </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">  </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<a id="__codelineno-13-112" name="__codelineno-13-112"></a><span class="w">                      </span><span class="mi">98</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">  </span><span class="mi">6</span><span class="p">,</span><span class="w">  </span><span class="mi">0</span><span class="p">,</span><span class="w">  </span><span class="mi">3</span><span class="p">,</span><span class="w">  </span><span class="mi">0</span><span class="p">,</span><span class="w">  </span><span class="mi">0</span><span class="p">,</span><span class="w">  </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">  </span><span class="mi">0</span><span class="p">,</span><span class="w">   </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">  </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">17</span><span class="p">,</span>
<a id="__codelineno-13-113" name="__codelineno-13-113"></a><span class="w">                      </span><span class="mi">0</span><span class="p">,</span><span class="w">  </span><span class="mi">4</span><span class="p">,</span><span class="w">  </span><span class="mi">0</span><span class="p">,</span><span class="w">  </span><span class="mi">0</span><span class="p">,</span><span class="w">  </span><span class="mi">0</span><span class="p">,</span><span class="w">  </span><span class="mi">1</span><span class="p">,</span><span class="w">  </span><span class="mi">0</span><span class="p">,</span><span class="w">  </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">  </span><span class="mi">104</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">21</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<a id="__codelineno-13-114" name="__codelineno-13-114"></a><span class="w">                      </span><span class="mi">0</span><span class="p">,</span><span class="w">  </span><span class="mi">0</span><span class="p">,</span><span class="w">  </span><span class="mi">1</span><span class="p">,</span><span class="w">  </span><span class="mi">0</span><span class="p">,</span><span class="w">  </span><span class="mi">3</span><span class="p">,</span><span class="w">  </span><span class="mi">0</span><span class="p">,</span><span class="w">  </span><span class="mi">0</span><span class="p">,</span><span class="w">  </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">23</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">   </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">  </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<a id="__codelineno-13-115" name="__codelineno-13-115"></a><span class="w">                      </span><span class="n">s</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="w"> </span><span class="n">s</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="w"> </span><span class="n">s</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span><span class="w"> </span><span class="n">s</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">  </span><span class="mi">0</span><span class="p">,</span><span class="w">  </span><span class="mi">0</span><span class="p">,</span><span class="w">  </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">  </span><span class="mi">8</span><span class="p">,</span><span class="w">   </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w">  </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">};</span>
<a id="__codelineno-13-116" name="__codelineno-13-116"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">auto</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">tp</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-13-117" name="__codelineno-13-117"></a><span class="w">        </span><span class="kt">char</span><span class="w"> </span><span class="n">ch</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">it</span><span class="p">;</span>
<a id="__codelineno-13-118" name="__codelineno-13-118"></a><span class="w">        </span><span class="n">fout</span><span class="p">.</span><span class="n">write</span><span class="p">((</span><span class="kt">char</span><span class="o">*</span><span class="p">)</span><span class="o">&amp;</span><span class="n">ch</span><span class="p">,</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">ch</span><span class="p">));</span>
<a id="__codelineno-13-119" name="__codelineno-13-119"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-13-120" name="__codelineno-13-120"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">n</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-13-121" name="__codelineno-13-121"></a><span class="w">        </span><span class="k">auto</span><span class="w"> </span><span class="p">[</span><span class="n">r</span><span class="p">,</span><span class="w"> </span><span class="n">g</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">vec</span><span class="p">[</span><span class="n">bel</span><span class="p">[</span><span class="n">i</span><span class="p">]];</span>
<a id="__codelineno-13-122" name="__codelineno-13-122"></a><span class="w">        </span><span class="kt">char</span><span class="w"> </span><span class="n">chr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">r</span><span class="p">,</span><span class="w"> </span><span class="n">chg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">g</span><span class="p">,</span><span class="w"> </span><span class="n">chb</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">b</span><span class="p">;</span>
<a id="__codelineno-13-123" name="__codelineno-13-123"></a><span class="w">        </span><span class="n">fout</span><span class="p">.</span><span class="n">write</span><span class="p">((</span><span class="kt">char</span><span class="o">*</span><span class="p">)</span><span class="o">&amp;</span><span class="n">chr</span><span class="p">,</span><span class="w"> </span><span class="k">sizeof</span><span class="w"> </span><span class="n">chr</span><span class="p">);</span>
<a id="__codelineno-13-124" name="__codelineno-13-124"></a><span class="w">        </span><span class="n">fout</span><span class="p">.</span><span class="n">write</span><span class="p">((</span><span class="kt">char</span><span class="o">*</span><span class="p">)</span><span class="o">&amp;</span><span class="n">chg</span><span class="p">,</span><span class="w"> </span><span class="k">sizeof</span><span class="w"> </span><span class="n">chg</span><span class="p">);</span>
<a id="__codelineno-13-125" name="__codelineno-13-125"></a><span class="w">        </span><span class="n">fout</span><span class="p">.</span><span class="n">write</span><span class="p">((</span><span class="kt">char</span><span class="o">*</span><span class="p">)</span><span class="o">&amp;</span><span class="n">chb</span><span class="p">,</span><span class="w"> </span><span class="k">sizeof</span><span class="w"> </span><span class="n">chb</span><span class="p">);</span>
<a id="__codelineno-13-126" name="__codelineno-13-126"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-13-127" name="__codelineno-13-127"></a><span class="p">}</span>
<a id="__codelineno-13-128" name="__codelineno-13-128"></a><span class="kt">signed</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-13-129" name="__codelineno-13-129"></a><span class="w">    </span><span class="n">ios</span><span class="o">::</span><span class="n">sync_with_stdio</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span><span class="w"> </span><span class="n">cin</span><span class="p">.</span><span class="n">tie</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span><span class="w"> </span><span class="n">cout</span><span class="p">.</span><span class="n">tie</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<a id="__codelineno-13-130" name="__codelineno-13-130"></a><span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<a id="__codelineno-13-131" name="__codelineno-13-131"></a><span class="w">    </span><span class="c1">// cin &gt;&gt; t;</span>
<a id="__codelineno-13-132" name="__codelineno-13-132"></a><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">t</span><span class="o">--</span><span class="p">)</span>
<a id="__codelineno-13-133" name="__codelineno-13-133"></a><span class="w">        </span><span class="n">solve</span><span class="p">();</span>
<a id="__codelineno-13-134" name="__codelineno-13-134"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="__codelineno-13-135" name="__codelineno-13-135"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>







  
  



  




                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  回到页面顶部
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="页脚" >
        
          
          <a href="../ci_201808_written_exam_3/" class="md-footer__link md-footer__link--prev" aria-label="上一页: 8月 筆記試験 第3問">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                上一页
              </span>
              <div class="md-ellipsis">
                8月 筆記試験 第3問
              </div>
            </div>
          </a>
        
        
          
          <a href="../ci_201708_written_exam_1/" class="md-footer__link md-footer__link--next" aria-label="下一页: 8月 筆記試験 第1問">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                下一页
              </span>
              <div class="md-ellipsis">
                8月 筆記試験 第1問
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      <a href="https://kaiproject.org/" target="_blank"> &copy; 2024 The Kai Project</a> All rights reserved.
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
    <a href="https://github.com/Myyura/the_kai_project" target="_blank" rel="noopener" title="Github" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
    
    
    
    
    <a href="mailto:<376672994@qq.com>" target="_blank" rel="noopener" title="Email" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M64 112c-8.8 0-16 7.2-16 16v22.1l172.5 141.6c20.7 17 50.4 17 71.1 0L464 150.1V128c0-8.8-7.2-16-16-16zM48 212.2V384c0 8.8 7.2 16 16 16h384c8.8 0 16-7.2 16-16V212.2L322 328.8c-38.4 31.5-93.7 31.5-132 0zM0 128c0-35.3 28.7-64 64-64h384c35.3 0 64 28.7 64 64v256c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-progress" data-md-component="progress" role="progressbar"></div>
    
    
    <script id="__config" type="application/json">{"base": "../../../..", "features": ["content.action.edit", "content.code.annotate", "content.code.copy", "content.tooltips", "search.highlight", "search.share", "search.suggest", "toc.follow", "navigation.top", "navigation.tabs", "navigation.tabs.sticky", "navigation.prune", "navigation.footer", "navigation.tracking", "navigation.instant", "navigation.instant.progress", "navigation.indexes", "navigation.expand", "content.tabs.link", "header.autohide", "announce.dismiss"], "search": "../../../../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}}</script>
    
    
      <script src="../../../../assets/javascripts/bundle.60a45f97.min.js"></script>
      
        <script src="../../../../overrides/javascripts/mathjax.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>